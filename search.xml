<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Excel 取消隐藏的列</title>
    <url>/post/4702.html</url>
    <content><![CDATA[<div class="pcs-article-box_ptkaiapt4bxy_baiduscarticle">
<div class="pcs-article-c_ptkaiapt4bxy_baiduscarticle">
<div id="detailArticleContent_ptkaiapt4bxy_baiduscarticle" class="pcs-article-content_ptkaiapt4bxy_baiduscarticle">

<p>在隐藏的列的表头上，光标放到隐藏的列的那个位置向两边拉，就把隐藏的列拉出来了。</p>
<p>Excel 2010 测试通过。</p>
</div>
</div>
</div>
<div id="detailArticleFooter_ptkaiapt4bxy_baiduscarticle" class="footer"></div>
]]></content>
      <categories>
        <category>百度空间的旧文章</category>
      </categories>
  </entry>
  <entry>
    <title>DD-WRT 通过SSH使用WOL</title>
    <url>/post/4b92.html</url>
    <content><![CDATA[<p><a name="vQurC"></a></p>
<h3 id="WOL-through-Telnet-SSH"><a href="#WOL-through-Telnet-SSH" class="headerlink" title="WOL through Telnet&#x2F;SSH"></a>WOL through Telnet&#x2F;SSH</h3><p><strong>Note:</strong> This is the preferred method to send WOL magic packets remotely.</p>
<p>If you have local or remote Telnet&#x2F;SSH access to your router, you can wake up a machine on the LAN by using the following command:</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">/usr/sbin/wol -i <span class="number">192.168</span>.<span class="number">1.255</span> -p <span class="variable constant_">PP</span> <span class="variable constant_">AA</span><span class="symbol">:BB</span><span class="symbol">:CC</span><span class="symbol">:DD</span><span class="symbol">:EE</span><span class="symbol">:FF</span></span><br></pre></td></tr></table></figure>

<p>Note that the full path to “&#x2F;usr&#x2F;sbin&#x2F;wol” is important. Simply “wol” will not work.</p>
<p>Substitute <em>AA:BB:CC:DD:EE:FF</em> with the actual MAC address of the computer which you wish to boot remotely. Likewise, replace <em>192.168.1.255</em> with the actual broadcast address of the network (192.168.1.255 is the broadcast address when the machine has an IP of 192.168.1.x and subnet mask of 255.255.255.0). Replace “PP” with the port number your machine listens on (usually 7 or 9).</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">/usr/sbin/wol -<span class="selector-tag">i</span> <span class="number">192.168</span>.<span class="number">1.255</span> -<span class="selector-tag">p</span> <span class="number">9</span> <span class="number">24</span>:<span class="number">5</span>E:BE:<span class="number">32</span>:C8:EB</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>dd-wrt</category>
        <category>路由器</category>
      </categories>
      <tags>
        <tag>dd-wrt</tag>
        <tag>路由器</tag>
      </tags>
  </entry>
  <entry>
    <title>Git基本使用（1）</title>
    <url>/post/d007.html</url>
    <content><![CDATA[<h1 id="Git-基础使用"><a href="#Git-基础使用" class="headerlink" title="Git 基础使用"></a>Git 基础使用</h1><p>结合这两天的基本使用情况，进行总结：</p>
<h2 id="创建分支"><a href="#创建分支" class="headerlink" title="创建分支"></a>创建分支</h2><pre><code>$ git checkout -b dev # 创建并切换

`&lt;/pre&gt;

这样就创建了一个名字叫着 dev 的分支。

注意到这里的 checkout 命令名，他和切换分支是一个命令，只不带了一个 b 参数。

## 切换分支

&lt;pre&gt;`$ git checkout dev  # 切换

`&lt;/pre&gt;

不带参数，这就是切换到了dev分支。

## 合并分支

&lt;pre&gt;`$ git merge dev # 从dev分支合并

`&lt;/pre&gt;

把dev分支的修改合并到当前的分支

## 查看分支

&lt;pre&gt;`$ git branch

`&lt;/pre&gt;

如果你安装了 oh-my-zsh的git支持的话，查看分支其实很少用，补全太强大了，在需要查看分支的地方，可以临时补全显示出来，选择需要操作。

## 版本回退
</code></pre>
<ul>
<li><p>回退版本</p>
<pre>`$ git reset --hard HEAD^     #回滚上一个版本

$ git reset --hard HEAD^^    #回滚上上一个版本

$ git reset --hard HEAD~100  #回滚上100个版本

`</pre>

<p>这里和SVN的更新到某个版本不一样，svn这时你去看log,自己确实处理中间的某一个版本，而在Git上，此时 Git log，最上面的版本就是回退后的版本。</p>
<h2 id="撤消版本回退"><a href="#撤消版本回退" class="headerlink" title="撤消版本回退"></a>撤消版本回退</h2><p>回到未来的版本可以用下面的命令：</p>
<pre>`$ git reset --hard 3628164</pre></li>
</ul>
<p>后面的数字是Git的版本号，可以使用 git log, git reflog 去找这个版本号，也可以从 gitlab, github这样的服务器上去取，当然你要是从这些服务器上 clone 过来。</p>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo 使用相关</title>
    <url>/post/e0b6.html</url>
    <content><![CDATA[<h1 id="安装与配置"><a href="#安装与配置" class="headerlink" title="安装与配置"></a>安装与配置</h1><p>据说每个从wordpress转过来blog都会有篇文章，这个就是。</p>
<h2 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h2><h3 id="两个前提和条件"><a href="#两个前提和条件" class="headerlink" title="两个前提和条件"></a>两个前提和条件</h3><ol>
<li>首先要安装 Node.js </li>
<li>当然了还要安装 git</li>
</ol>
<h3 id="然后在Windows命令行输入"><a href="#然后在Windows命令行输入" class="headerlink" title="然后在Windows命令行输入"></a>然后在Windows命令行输入</h3><ol>
<li>安装hexo</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> -g hexo</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>初始化一个blog，这里名字就叫 hexo</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">hexo <span class="keyword">init</span> hexo</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>进入hexo目录</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> hexo</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>安装依赖文件</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>部署形成文件</li>
</ol>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">hexo <span class="keyword">generate</span></span><br></pre></td></tr></table></figure>


<h2 id="mac"><a href="#mac" class="headerlink" title="mac"></a>mac</h2><p>还没有测试过如何弄。</p>
<h2 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h2><p>还没有测试过如何弄。</p>
<h1 id="发布"><a href="#发布" class="headerlink" title="发布"></a>发布</h1><h2 id="本地预览"><a href="#本地预览" class="headerlink" title="本地预览"></a>本地预览</h2><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">hexo s</span></span><br></pre></td></tr></table></figure>
<p>就能打开一个本地服务器，通过提示的地址可以看效果。</p>
<h2 id="怎么发布到Github的空间中去"><a href="#怎么发布到Github的空间中去" class="headerlink" title="怎么发布到Github的空间中去"></a>怎么发布到Github的空间中去</h2><p>首先得有github帐号，肯定有了，不说了。还有就是要在本机配置好如何能push到github上去。github官方有说明，windows还有点复杂，这里暂时不说了。</p>
<h1 id="如何写文章"><a href="#如何写文章" class="headerlink" title="如何写文章"></a>如何写文章</h1><h2 id="Draft"><a href="#Draft" class="headerlink" title="Draft"></a>Draft</h2><p>在文件夹的source目录下面有个_drafts目录，这里面都是没有Post。</p>
<h2 id="publish"><a href="#publish" class="headerlink" title="publish"></a>publish</h2><p>在文件夹的source目录下面有个_post目录。这里面都是已经post了的。</p>
<h1 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h1><p>要工作，有些插件必须要有。</p>
<ol>
<li>发布到github上需要一个插件。</li>
<li>把wordpress内容导入到hexo也需要一个插件。</li>
<li>有个hexo admin的插件可以成倍的减少用hexo的难度。（我正在用）</li>
</ol>
<h1 id="使用心得"><a href="#使用心得" class="headerlink" title="使用心得"></a>使用心得</h1><p>next主题很不错，要另外安装。默认的比较丑。</p>
]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title>IOS  解析点阵字库</title>
    <url>/post/7181.html</url>
    <content><![CDATA[<h1 id="IOS-解析点阵字库"><a href="#IOS-解析点阵字库" class="headerlink" title="IOS  解析点阵字库"></a>IOS  解析点阵字库</h1><p>IOS控制点阵屏显示，加载点阵字库，目前已经实现，有感兴趣的留言，我把它整理出来。</p>
<p>我实现的是 16<em>16的中文和16</em>8的英文显法。</p>
<h3 id="字库制作"><a href="#字库制作" class="headerlink" title="字库制作"></a>字库制作</h3><p>制字方案的生成和成嵌入式系统上生成字模文件的方案是一样的。</p>
<h3 id="IOS从字库中取到字模"><a href="#IOS从字库中取到字模" class="headerlink" title="IOS从字库中取到字模"></a>IOS从字库中取到字模</h3><h3 id="字模显示"><a href="#字模显示" class="headerlink" title="字模显示"></a>字模显示</h3>]]></content>
      <categories>
        <category>IOS 开发</category>
      </categories>
  </entry>
  <entry>
    <title>Go语言笔记</title>
    <url>/post/aa66.html</url>
    <content><![CDATA[<h1 id="Go语言笔记"><a href="#Go语言笔记" class="headerlink" title="Go语言笔记"></a>Go语言笔记</h1><p>参考：<a href="https://www.runoob.com/go/go-tutorial.html">https://www.runoob.com/go/go-tutorial.html</a></p>
<h2 id="Go语言的优势"><a href="#Go语言的优势" class="headerlink" title="Go语言的优势"></a>Go语言的优势</h2><p>Go语言（也称为Golang）是由Google开发的一种静态强类型、编译型、并发型，并具有垃圾回收功能的编程语言。它具有以下优势：</p>
<ol>
<li><strong>简单易学</strong>：Go语言语法简洁，易于上手，减少了程序员的认知负担</li>
<li><strong>高性能</strong>：编译成机器码，执行效率高，接近C&#x2F;C++</li>
<li><strong>并发支持</strong>：内置goroutine（轻量级线程）和channel，简化并发编程</li>
<li><strong>内存安全</strong>：拥有垃圾回收机制，避免内存泄漏</li>
<li><strong>丰富的标准库</strong>：提供了大量实用的标准库，减少开发工作量</li>
<li><strong>工具链完善</strong>：内置构建工具、格式化工具、测试工具等</li>
<li><strong>跨平台</strong>：支持多种操作系统和硬件架构</li>
<li><strong>强类型</strong>：静态类型系统，在编译时就能发现很多错误</li>
</ol>
<h2 id="C-转Go语言指南"><a href="#C-转Go语言指南" class="headerlink" title="C++转Go语言指南"></a>C++转Go语言指南</h2><p>对于C++程序员来说，Go语言既有许多熟悉的概念，也有一些需要适应的新特性。本章节将帮助C++程序员快速理解和掌握Go语言。</p>
<h3 id="1-语言哲学与主要区别"><a href="#1-语言哲学与主要区别" class="headerlink" title="1. 语言哲学与主要区别"></a>1. 语言哲学与主要区别</h3><p>C++和Go虽然都是静态类型的编译型语言，但它们的设计哲学有很大不同：</p>
<table>
<thead>
<tr>
<th>特性</th>
<th>C++</th>
<th>Go</th>
</tr>
</thead>
<tbody><tr>
<td>复杂度</td>
<td>复杂，提供多种编程范式</td>
<td>简洁，专注于实用主义</td>
</tr>
<tr>
<td>内存管理</td>
<td>手动内存管理（new&#x2F;delete）</td>
<td>自动垃圾回收</td>
</tr>
<tr>
<td>并发模型</td>
<td>基于线程和锁</td>
<td>基于goroutine和channel</td>
</tr>
<tr>
<td>编译速度</td>
<td>较慢</td>
<td>非常快</td>
</tr>
<tr>
<td>错误处理</td>
<td>基于异常</td>
<td>基于返回值</td>
</tr>
<tr>
<td>模板</td>
<td>复杂的模板系统</td>
<td>简单的泛型支持（Go 1.18+）</td>
</tr>
</tbody></table>
<h3 id="2-基础语法对比"><a href="#2-基础语法对比" class="headerlink" title="2. 基础语法对比"></a>2. 基础语法对比</h3><h4 id="程序结构"><a href="#程序结构" class="headerlink" title="程序结构"></a>程序结构</h4><p>C++:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello, World!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Go:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello, World!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h4><p>C++:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line"><span class="type">int</span> c, d;</span><br></pre></td></tr></table></figure>

<p>Go:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="type">int</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">const</span> b <span class="type">int</span> = <span class="number">20</span></span><br><span class="line"><span class="keyword">var</span> c, d <span class="type">int</span></span><br><span class="line"><span class="comment">// 类型推导</span></span><br><span class="line"><span class="keyword">var</span> e = <span class="number">30</span></span><br><span class="line"><span class="comment">// 短变量声明（函数内）</span></span><br><span class="line">f := <span class="number">40</span></span><br></pre></td></tr></table></figure>

<h4 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h4><p>C++:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数重载</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">add</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Go:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Go不支持函数重载，但可以使用可变参数或接口</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addVariadic</span><span class="params">(args ...<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> args &#123;</span><br><span class="line">        sum += v</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-内存管理"><a href="#3-内存管理" class="headerlink" title="3. 内存管理"></a>3. 内存管理</h3><p>C++程序员需要特别注意Go的自动内存管理机制：</p>
<h4 id="堆与栈分配"><a href="#堆与栈分配" class="headerlink" title="堆与栈分配"></a>堆与栈分配</h4><p>C++:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 栈上分配</span></span><br><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// 堆上分配（需要手动释放）</span></span><br><span class="line"><span class="type">int</span>* p = <span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">20</span>);</span><br><span class="line"><span class="keyword">delete</span> p;  <span class="comment">// 必须手动释放</span></span><br></pre></td></tr></table></figure>

<p>Go:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Go会自动决定变量分配在堆上还是栈上</span></span><br><span class="line"><span class="comment">// 不需要手动管理内存</span></span><br><span class="line"><span class="keyword">var</span> a <span class="type">int</span> = <span class="number">10</span></span><br><span class="line">p := <span class="built_in">new</span>(<span class="type">int</span>)</span><br><span class="line">*p = <span class="number">20</span></span><br><span class="line"><span class="comment">// 不需要手动释放，垃圾回收器会处理</span></span><br></pre></td></tr></table></figure>

<h4 id="切片与数组"><a href="#切片与数组" class="headerlink" title="切片与数组"></a>切片与数组</h4><p>C++:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 数组</span></span><br><span class="line"><span class="type">int</span> arr[<span class="number">5</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="comment">// 动态数组（需要手动管理内存）</span></span><br><span class="line">std::vector&lt;<span class="type">int</span>&gt; vec = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">vec.<span class="built_in">push_back</span>(<span class="number">6</span>);</span><br></pre></td></tr></table></figure>

<p>Go:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 数组</span></span><br><span class="line"><span class="keyword">var</span> arr [<span class="number">5</span>]<span class="type">int</span> = [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line"><span class="comment">// 切片（Go的动态数组，自动管理内存）</span></span><br><span class="line">slice := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">slice = <span class="built_in">append</span>(slice, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>

<h3 id="4-面向对象编程"><a href="#4-面向对象编程" class="headerlink" title="4. 面向对象编程"></a>4. 面向对象编程</h3><p>Go没有类和继承，但可以通过结构体和接口实现类似的功能：</p>
<h4 id="结构体与方法"><a href="#结构体与方法" class="headerlink" title="结构体与方法"></a>结构体与方法</h4><p>C++:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> width;</span><br><span class="line">    <span class="type">double</span> height;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Rectangle</span>(<span class="type">double</span> w, <span class="type">double</span> h) : <span class="built_in">width</span>(w), <span class="built_in">height</span>(h) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">area</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> width * height;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">scale</span><span class="params">(<span class="type">double</span> factor)</span> </span>&#123;</span><br><span class="line">        width *= factor;</span><br><span class="line">        height *= factor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="function">Rectangle <span class="title">rect</span><span class="params">(<span class="number">10</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line">std::cout &lt;&lt; rect.<span class="built_in">area</span>() &lt;&lt; std::endl;</span><br><span class="line">rect.<span class="built_in">scale</span>(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<p>Go:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Rectangle <span class="keyword">struct</span> &#123;</span><br><span class="line">    Width  <span class="type">float64</span></span><br><span class="line">    Height <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 值接收器方法</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r Rectangle)</span></span> Area() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> r.Width * r.Height</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 指针接收器方法（可修改结构体）</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *Rectangle)</span></span> Scale(factor <span class="type">float64</span>) &#123;</span><br><span class="line">    r.Width *= factor</span><br><span class="line">    r.Height *= factor</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line">rect := Rectangle&#123;<span class="number">10</span>, <span class="number">5</span>&#125;</span><br><span class="line">fmt.Println(rect.Area())</span><br><span class="line">rect.Scale(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h4 id="接口实现"><a href="#接口实现" class="headerlink" title="接口实现"></a>接口实现</h4><p>C++:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">Shape</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">double</span> <span class="title">area</span><span class="params">()</span> <span class="type">const</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> : <span class="keyword">public</span> Shape &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> radius;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Circle</span>(<span class="type">double</span> r) : <span class="built_in">radius</span>(r) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">area</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3.14</span> * radius * radius;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Go:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Shape <span class="keyword">interface</span> &#123;</span><br><span class="line">    Area() <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Circle <span class="keyword">struct</span> &#123;</span><br><span class="line">    Radius <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 隐式实现Shape接口</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c Circle)</span></span> Area() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3.14</span> * c.Radius * c.Radius</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-并发编程"><a href="#5-并发编程" class="headerlink" title="5. 并发编程"></a>5. 并发编程</h3><p>这是Go语言最强大的特性之一，相比C++的线程模型有很大不同：</p>
<p>C++:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printHello</span><span class="params">(<span class="type">int</span> id)</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello from thread &quot;</span> &lt;&lt; id &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;std::thread&gt; threads;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">        threads.<span class="built_in">push_back</span>(std::<span class="built_in">thread</span>(printHello, i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; t : threads) &#123;</span><br><span class="line">        t.<span class="built_in">join</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Go:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printHello</span><span class="params">(id <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Hello from goroutine %d\n&quot;</span>, id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 启动5个goroutine</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> printHello(i)  <span class="comment">// 只需添加go关键字</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 等待goroutine完成（实际项目中应使用sync.WaitGroup）</span></span><br><span class="line">    time.Sleep(time.Second)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="通道（Channel）"><a href="#通道（Channel）" class="headerlink" title="通道（Channel）"></a>通道（Channel）</h4><p>Go的通道提供了一种在goroutine之间安全传递数据的方式：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建一个整型通道</span></span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 启动一个goroutine发送数据</span></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        ch &lt;- <span class="number">42</span>  <span class="comment">// 发送数据到通道</span></span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 在主goroutine中接收数据</span></span><br><span class="line">    value := &lt;-ch  <span class="comment">// 从通道接收数据</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Received:&quot;</span>, value)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 关闭通道</span></span><br><span class="line">    <span class="built_in">close</span>(ch)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-错误处理"><a href="#6-错误处理" class="headerlink" title="6. 错误处理"></a>6. 错误处理</h3><p>Go使用返回值而不是异常来处理错误：</p>
<p>C++:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;Division by zero&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> result = a / b;</span><br><span class="line">&#125; <span class="built_in">catch</span> (<span class="type">const</span> std::exception&amp; e) &#123;</span><br><span class="line">    std::cerr &lt;&lt; <span class="string">&quot;Error: &quot;</span> &lt;&lt; e.<span class="built_in">what</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Go:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">divide</span><span class="params">(a, b <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> b == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>, errors.New(<span class="string">&quot;division by zero&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a / b, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    result, err := divide(<span class="number">10</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Error:&quot;</span>, err)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Result:&quot;</span>, result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-实用技巧"><a href="#7-实用技巧" class="headerlink" title="7. 实用技巧"></a>7. 实用技巧</h3><ol>
<li><p><strong>使用Go的格式化工具</strong>：<code>gofmt</code>或<code>go fmt</code>可以自动格式化代码，保持一致的代码风格</p>
</li>
<li><p><strong>使用Go模块管理依赖</strong>：<code>go mod init</code>、<code>go get</code>、<code>go mod tidy</code>等命令</p>
</li>
<li><p><strong>使用<code>defer</code>进行资源清理</strong>：替代C++中的RAII模式</p>
</li>
<li><p><strong>使用<code>go vet</code>检查代码问题</strong>：静态代码分析工具</p>
</li>
<li><p><strong>使用接口进行抽象</strong>：Go的接口是隐式的，更容易实现组合而非继承</p>
</li>
<li><p><strong>避免过度使用指针</strong>：Go的垃圾回收器很高效，不必像C++那样频繁使用指针优化性能</p>
</li>
<li><p><strong>学习Go的标准库</strong>：Go的标准库非常强大，涵盖了网络、文件操作、加密等多种功能</p>
</li>
</ol>
<p>通过理解这些关键区别和转换技巧，C++程序员可以更快地适应Go语言的开发风格，并充分利用Go的简洁性和高效的并发模型。</p>
<h2 id="安装和环境配置"><a href="#安装和环境配置" class="headerlink" title="安装和环境配置"></a>安装和环境配置</h2><p>Go语言的安装非常简单，以下是针对不同操作系统的基本安装步骤：</p>
<h3 id="Windows安装"><a href="#Windows安装" class="headerlink" title="Windows安装"></a>Windows安装</h3><ol>
<li>访问<a href="https://golang.org/dl/">Go官方下载页面</a>下载Windows安装包</li>
<li>运行安装包并按照提示完成安装</li>
<li>安装完成后，打开命令提示符，输入<code>go version</code>验证安装是否成功</li>
</ol>
<h3 id="Linux-Mac安装"><a href="#Linux-Mac安装" class="headerlink" title="Linux&#x2F;Mac安装"></a>Linux&#x2F;Mac安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Linux (Ubuntu/Debian)</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"><span class="built_in">sudo</span> apt-get install golang-go</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mac (使用Homebrew)</span></span><br><span class="line">brew install go</span><br><span class="line"></span><br><span class="line"><span class="comment"># 验证安装</span></span><br><span class="line">go version</span><br></pre></td></tr></table></figure>

<h3 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h3><p>安装完成后，建议配置以下环境变量：</p>
<ol>
<li><strong>GOPATH</strong>: Go的工作目录，用于存放代码和依赖</li>
<li><strong>GOROOT</strong>: Go的安装目录（通常由安装程序自动设置）</li>
<li><strong>PATH</strong>: 包含Go的bin目录，以便在任何位置执行Go命令</li>
</ol>
<h2 id="Go模块管理"><a href="#Go模块管理" class="headerlink" title="Go模块管理"></a>Go模块管理</h2><p>Go模块是Go 1.11版本引入的官方依赖管理工具，使用方法如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 在项目目录初始化Go模块</span></span><br><span class="line">go mod init myproject</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加依赖</span></span><br><span class="line">go get github.com/pkg/errors</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装所有依赖</span></span><br><span class="line">go mod tidy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构建项目</span></span><br><span class="line">go build</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行项目</span></span><br><span class="line">go run main.go</span><br></pre></td></tr></table></figure>

<h3 id="Go模块的高级用法"><a href="#Go模块的高级用法" class="headerlink" title="Go模块的高级用法"></a>Go模块的高级用法</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看当前模块的依赖图</span></span><br><span class="line">go mod graph</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看指定包的详细信息</span></span><br><span class="line">go list -m -json github.com/pkg/errors</span><br><span class="line"></span><br><span class="line"><span class="comment"># 升级依赖到最新版本</span></span><br><span class="line">go get -u github.com/pkg/errors</span><br><span class="line"></span><br><span class="line"><span class="comment"># 升级依赖到指定版本</span></span><br><span class="line">go get github.com/pkg/errors@v0.9.1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清理未使用的依赖</span></span><br><span class="line">go mod tidy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 验证依赖</span></span><br><span class="line">go mod verify</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建vendor目录（包含所有依赖的副本）</span></span><br><span class="line">go mod vendor</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用vendor目录构建</span></span><br><span class="line">go build -mod=vendor</span><br></pre></td></tr></table></figure>

<h3 id="go-mod文件详解"><a href="#go-mod文件详解" class="headerlink" title="go.mod文件详解"></a>go.mod文件详解</h3><p>go.mod文件是Go模块的核心，包含了模块的基本信息和依赖声明：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">module github.com/user/myproject</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span> <span class="number">1.17</span></span><br><span class="line"></span><br><span class="line">require (</span><br><span class="line">    github.com/pkg/errors v0<span class="number">.9</span><span class="number">.1</span></span><br><span class="line">    github.com/sirupsen/logrus v1<span class="number">.8</span><span class="number">.1</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">require (</span><br><span class="line">    github.com/davecgh/<span class="keyword">go</span>-spew v1<span class="number">.1</span><span class="number">.1</span> <span class="comment">// indirect</span></span><br><span class="line">    github.com/pmezard/<span class="keyword">go</span>-difflib v1<span class="number">.0</span><span class="number">.0</span> <span class="comment">// indirect</span></span><br><span class="line">    github.com/stretchr/testify v1<span class="number">.7</span><span class="number">.0</span> <span class="comment">// indirect</span></span><br><span class="line">    golang.org/x/sys v0<span class="number">.0</span><span class="number">.0</span><span class="number">-20211030050608</span><span class="number">-9e8</span>e0b390896 <span class="comment">// indirect</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="Go语言的常见陷阱"><a href="#Go语言的常见陷阱" class="headerlink" title="Go语言的常见陷阱"></a>Go语言的常见陷阱</h2><h3 id="1-切片的共享底层数组"><a href="#1-切片的共享底层数组" class="headerlink" title="1. 切片的共享底层数组"></a>1. 切片的共享底层数组</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    s := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">    t := s[<span class="number">1</span>:<span class="number">3</span>]  <span class="comment">// t和s共享底层数组</span></span><br><span class="line">    t[<span class="number">0</span>] = <span class="number">100</span>   <span class="comment">// 修改t也会影响s</span></span><br><span class="line">    fmt.Println(s)  <span class="comment">// [1 100 3 4 5]</span></span><br><span class="line">    fmt.Println(t)  <span class="comment">// [100 3]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-map的并发访问"><a href="#2-map的并发访问" class="headerlink" title="2. map的并发访问"></a>2. map的并发访问</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;sync&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line">    <span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 多个goroutine同时修改map会导致panic</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        wg.Add(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">            <span class="keyword">defer</span> wg.Done()</span><br><span class="line">            m[fmt.Sprintf(<span class="string">&quot;key%d&quot;</span>, i)] = i</span><br><span class="line">        &#125;(i)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    wg.Wait()</span><br><span class="line">    fmt.Println(m)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>解决方法：使用sync.Map或加锁保护</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 使用sync.Map</span></span><br><span class="line"><span class="keyword">var</span> m sync.Map</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用互斥锁</span></span><br><span class="line"><span class="keyword">var</span> m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line"><span class="keyword">var</span> mu sync.Mutex</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在访问map时加锁</span></span><br><span class="line">mu.Lock()</span><br><span class="line">m[<span class="string">&quot;key&quot;</span>] = value</span><br><span class="line">mu.Unlock()</span><br></pre></td></tr></table></figure>

<h3 id="3-for循环中的闭包引用变量"><a href="#3-for循环中的闭包引用变量" class="headerlink" title="3. for循环中的闭包引用变量"></a>3. for循环中的闭包引用变量</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        <span class="comment">// 错误的写法：所有goroutine共享同一个i变量</span></span><br><span class="line">        <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">            fmt.Println(i)  <span class="comment">// 可能输出5个5，因为循环结束时i=5</span></span><br><span class="line">        &#125;()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 正确的写法：通过参数传递当前的i值</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">            fmt.Println(i)  <span class="comment">// 输出0,1,2,3,4（顺序可能不同）</span></span><br><span class="line">        &#125;(i)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-nil接口不等于nil指针"><a href="#4-nil接口不等于nil指针" class="headerlink" title="4. nil接口不等于nil指针"></a>4. nil接口不等于nil指针</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> p *<span class="type">int</span> = <span class="literal">nil</span></span><br><span class="line">    <span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125; = p</span><br><span class="line">    </span><br><span class="line">    fmt.Println(p == <span class="literal">nil</span>)  <span class="comment">// true</span></span><br><span class="line">    fmt.Println(i == <span class="literal">nil</span>)  <span class="comment">// false，因为i包含了类型信息(*int)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-指针作为值接收器与指针接收器的区别"><a href="#5-指针作为值接收器与指针接收器的区别" class="headerlink" title="5. 指针作为值接收器与指针接收器的区别"></a>5. 指针作为值接收器与指针接收器的区别</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 值接收器：会复制结构体</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> SetName1(name <span class="type">string</span>) &#123;</span><br><span class="line">    p.Name = name  <span class="comment">// 只会修改副本，不会影响原结构体</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 指针接收器：直接操作原结构体</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Person)</span></span> SetName2(name <span class="type">string</span>) &#123;</span><br><span class="line">    p.Name = name  <span class="comment">// 会修改原结构体</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    p := Person&#123;Name: <span class="string">&quot;张三&quot;</span>&#125;</span><br><span class="line">    p.SetName1(<span class="string">&quot;李四&quot;</span>)</span><br><span class="line">    fmt.Println(p.Name)  <span class="comment">// 张三，没有变化</span></span><br><span class="line">    </span><br><span class="line">    p.SetName2(<span class="string">&quot;王五&quot;</span>)</span><br><span class="line">    fmt.Println(p.Name)  <span class="comment">// 王五，发生了变化</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="空白标识符"><a href="#空白标识符" class="headerlink" title="空白标识符"></a>空白标识符</h2><p>空白标识符（_）在Go语言中有多种用途：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 1. 忽略导入包但不使用的警告</span></span><br><span class="line">    _ = fmt.Println</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. 忽略函数的返回值</span></span><br><span class="line">    _ = os.Mkdir(<span class="string">&quot;test&quot;</span>, <span class="number">0755</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3. 忽略多返回值中的某些值</span></span><br><span class="line">    file, _ := os.Open(<span class="string">&quot;test.txt&quot;</span>)  <span class="comment">// 忽略错误</span></span><br><span class="line">    <span class="keyword">if</span> file != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">defer</span> file.Close()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 4. 在for range中忽略索引或值</span></span><br><span class="line">    numbers := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> numbers &#123;</span><br><span class="line">        fmt.Println(v)  <span class="comment">// 只关心值，不关心索引</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 5. 用于类型断言但只关心类型是否匹配</span></span><br><span class="line">    <span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125; = <span class="number">42</span></span><br><span class="line">    <span class="keyword">if</span> _, ok := i.(<span class="type">int</span>); ok &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;i是int类型&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h2 id="数据类型-1"><a href="#数据类型-1" class="headerlink" title="数据类型"></a>数据类型</h2><p>值类型是 int、float、string、bool、struct和array，直接存储值，分配栈的内存空间，被函数调用完之后会释放。</p>
<p>引用类型是 slice、map、chan和值类型对应的指针，存储是一个地址（指针）,指针指向内存中真正存储数据的首地址，内存通常在堆分配，通过GC回收。</p>
<ol>
<li>new 与 make 的区别</li>
</ol>
<p>new 的参数要求传入一个类型，而不是一个值，它会申请该类型的内存大小空间，并初始化为对应的零值，返回该指向类型空间的一个指针。</p>
<p>make 也用于内存分配，但它只用于引用对象 slice、map、channel的内存创建，返回的类型是类型本身。</p>
<h2 id="变量声明与初始化"><a href="#变量声明与初始化" class="headerlink" title="变量声明与初始化"></a>变量声明与初始化</h2><p>Go语言有多种变量声明和初始化的方式：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 1. 标准声明（先声明后赋值）</span></span><br><span class="line">    <span class="keyword">var</span> a <span class="type">int</span></span><br><span class="line">    a = <span class="number">10</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. 声明并初始化</span></span><br><span class="line">    <span class="keyword">var</span> b <span class="type">int</span> = <span class="number">20</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3. 类型推导（编译器自动推断类型）</span></span><br><span class="line">    <span class="keyword">var</span> c = <span class="number">30</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 4. 短变量声明（只能在函数内部使用）</span></span><br><span class="line">    d := <span class="number">40</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 5. 多变量声明</span></span><br><span class="line">    <span class="keyword">var</span> e, f <span class="type">int</span> = <span class="number">50</span>, <span class="number">60</span></span><br><span class="line">    <span class="keyword">var</span> g, h = <span class="number">70</span>, <span class="string">&quot;hello&quot;</span></span><br><span class="line">    i, j := <span class="number">80</span>, <span class="string">&quot;world&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 6. 批量声明</span></span><br><span class="line">    <span class="keyword">var</span> (</span><br><span class="line">        k <span class="type">int</span> = <span class="number">90</span></span><br><span class="line">        l <span class="type">string</span> = <span class="string">&quot;Go&quot;</span></span><br><span class="line">        m <span class="type">bool</span> = <span class="literal">true</span></span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    fmt.Println(a, b, c, d, e, f, g, h, i, j, k, l, m)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// if语句</span></span><br><span class="line">    age := <span class="number">18</span></span><br><span class="line">    <span class="keyword">if</span> age &gt;= <span class="number">18</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;成年人&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> age &gt;= <span class="number">6</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;未成年人&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;儿童&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// if语句可以包含一个初始化语句</span></span><br><span class="line">    <span class="keyword">if</span> score := <span class="number">95</span>; score &gt;= <span class="number">90</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;优秀&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">80</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;良好&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;一般&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h3><p>Go语言只有for一种循环结构，但可以实现多种循环方式：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 1. 标准for循环</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        fmt.Println(i)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. for循环（类似while）</span></span><br><span class="line">    j := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> j &lt; <span class="number">5</span> &#123;</span><br><span class="line">        fmt.Println(j)</span><br><span class="line">        j++</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3. 无限循环</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    for &#123;</span></span><br><span class="line"><span class="comment">        fmt.Println(&quot;无限循环&quot;)</span></span><br><span class="line"><span class="comment">        break // 取消注释可以退出循环</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 4. for range循环（遍历数组、切片、映射等）</span></span><br><span class="line">    numbers := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> index, value := <span class="keyword">range</span> numbers &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;索引: %d, 值: %d\n&quot;</span>, index, value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h2><h2 id="基础语语法"><a href="#基础语语法" class="headerlink" title="基础语语法"></a>基础语语法</h2><ol>
<li><p>当标识符（包括常量、变量、类型、函数名、结构字段等等）以一个大写字母开头，如：Group1，那么使用这种形式的标识符的对象就可以被外部包的代码所使用（客户端程序需要先导入这个包），这被称为导出（像面向对象语言中的 public）；标识符如果以小写字母开头，则对包外是不可见的，但是他们在整个包的内部是可见并且可用的（像面向对象语言中的 protected ）。</p>
</li>
<li><p>第一行代码 package main 定义包名。你必须在源文件中非注释的第一行指明这个文件属于哪个包，如：package main。package main表示一个可独立执行的程序，每个 Go 应用程序都包含一个名为 main 的包。</p>
</li>
<li><p>Go 语言的字符串可以通过 + 实现</p>
</li>
<li><p>常量定义：const identifier [type] &#x3D; value</p>
</li>
</ol>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">const</span> LENGTH <span class="type">int</span> = <span class="number">10</span></span><br><span class="line">   <span class="keyword">const</span> WIDTH <span class="type">int</span> = <span class="number">5</span>  </span><br><span class="line">   <span class="keyword">var</span> area <span class="type">int</span></span><br><span class="line">   <span class="keyword">const</span> a, b, c = <span class="number">1</span>, <span class="literal">false</span>, <span class="string">&quot;str&quot;</span> <span class="comment">//多重赋值</span></span><br><span class="line"></span><br><span class="line">   area = LENGTH * WIDTH</span><br><span class="line">   fmt.Printf(<span class="string">&quot;面积为 : %d&quot;</span>, area)</span><br><span class="line">   <span class="built_in">println</span>()</span><br><span class="line">   <span class="built_in">println</span>(a, b, c)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>iota，特殊常量，可以认为是一个可以被编译器修改的常量。iota 在 const关键字出现时将被重置为 0(const 内部的第一行之前)，const 中每新增一行常量声明将使 iota 计数一次(iota 可理解为 const 语句块中的行索引)。</li>
<li>select 是 Go 中的一个控制结构，类似于用于通信的 switch 语句。每个 case 必须是一个通信操作，要么是发送要么是接收。</li>
<li>go 语言函数可以返回多个值。</li>
<li>Go 语言切片是对数组的抽象。Go 数组的长度不可改变，在特定场景中这样的集合就不太适用，Go 中提供了一种灵活，功能强悍的内置类型切片(“动态数组”)，与数组相比切片的长度是不固定的，可以追加元素，在追加时可能使切片的容量增大。</li>
</ol>
<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><p>Go语言使用错误值而非异常来表示错误状态。错误类型是一个内置接口：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// error接口定义</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">error</span> <span class="keyword">interface</span> &#123;</span><br><span class="line">    Error() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;errors&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义错误</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">divide</span><span class="params">(a, b <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> b == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>, errors.New(<span class="string">&quot;除数不能为零&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a / b, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    result, err := divide(<span class="number">10</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;发生错误:&quot;</span>, err)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;结果:&quot;</span>, result)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h2><p>指针是存储另一个变量内存地址的变量。Go语言的指针使用非常安全，不支持指针运算。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 声明变量</span></span><br><span class="line">    a := <span class="number">10</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 声明指针变量</span></span><br><span class="line">    <span class="keyword">var</span> p *<span class="type">int</span></span><br><span class="line">    p = &amp;a <span class="comment">// p指向a的内存地址</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 短变量声明方式创建指针</span></span><br><span class="line">    q := &amp;a</span><br><span class="line">    </span><br><span class="line">    fmt.Println(<span class="string">&quot;a的值:&quot;</span>, a)</span><br><span class="line">    fmt.Println(<span class="string">&quot;a的地址:&quot;</span>, &amp;a)</span><br><span class="line">    fmt.Println(<span class="string">&quot;p存储的地址:&quot;</span>, p)</span><br><span class="line">    fmt.Println(<span class="string">&quot;p指向的值:&quot;</span>, *p) <span class="comment">// 解引用操作</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 通过指针修改值</span></span><br><span class="line">    *p = <span class="number">20</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;修改后a的值:&quot;</span>, a)</span><br><span class="line">    fmt.Println(<span class="string">&quot;q指向的值:&quot;</span>, *q)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><p>结构体是一种复合数据类型，它组合了零个或多个任意类型的命名变量。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义结构体</span></span><br><span class="line"> <span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">    City <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建结构体实例</span></span><br><span class="line">    <span class="keyword">var</span> p1 Person</span><br><span class="line">    p1.Name = <span class="string">&quot;张三&quot;</span></span><br><span class="line">    p1.Age = <span class="number">30</span></span><br><span class="line">    p1.City = <span class="string">&quot;北京&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 使用键值对创建</span></span><br><span class="line">    p2 := Person&#123;</span><br><span class="line">        Name: <span class="string">&quot;李四&quot;</span>,</span><br><span class="line">        Age:  <span class="number">25</span>,</span><br><span class="line">        City: <span class="string">&quot;上海&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 使用位置初始化（注意顺序必须与结构体定义一致）</span></span><br><span class="line">    p3 := Person&#123;<span class="string">&quot;王五&quot;</span>, <span class="number">35</span>, <span class="string">&quot;广州&quot;</span>&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 创建结构体指针</span></span><br><span class="line">    p4 := &amp;Person&#123;<span class="string">&quot;赵六&quot;</span>, <span class="number">40</span>, <span class="string">&quot;深圳&quot;</span>&#125;</span><br><span class="line">    </span><br><span class="line">    fmt.Println(p1)</span><br><span class="line">    fmt.Println(p2)</span><br><span class="line">    fmt.Println(p3)</span><br><span class="line">    fmt.Println(*p4)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 访问指针结构体的字段可以使用简化语法</span></span><br><span class="line">    fmt.Println(p4.Name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="结构体方法"><a href="#结构体方法" class="headerlink" title="结构体方法"></a>结构体方法</h2><p>方法是与特定类型关联的函数，可以为结构体添加方法。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义结构体</span></span><br><span class="line"> <span class="keyword">type</span> Rectangle <span class="keyword">struct</span> &#123;</span><br><span class="line">    Width, Height <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义结构体方法（接收器为值类型）</span></span><br><span class="line"> <span class="function"><span class="keyword">func</span> <span class="params">(r Rectangle)</span></span> Area() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> r.Width * r.Height</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义结构体方法（接收器为指针类型，可以修改结构体的值）</span></span><br><span class="line"> <span class="function"><span class="keyword">func</span> <span class="params">(r *Rectangle)</span></span> Scale(factor <span class="type">float64</span>) &#123;</span><br><span class="line">    r.Width *= factor</span><br><span class="line">    r.Height *= factor</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    rect := Rectangle&#123;<span class="number">10</span>, <span class="number">5</span>&#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;面积:&quot;</span>, rect.Area()) <span class="comment">// 调用值方法</span></span><br><span class="line">    </span><br><span class="line">    rect.Scale(<span class="number">2</span>) <span class="comment">// 调用指针方法，修改rect的值</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;缩放后的矩形:&quot;</span>, rect)</span><br><span class="line">    fmt.Println(<span class="string">&quot;缩放后的面积:&quot;</span>, rect.Area())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>Go语言的接口是隐式实现的，不需要显式声明实现了哪个接口。只要一个类型拥有接口要求的所有方法，它就自动实现了该接口。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义接口</span></span><br><span class="line"> <span class="keyword">type</span> Shape <span class="keyword">interface</span> &#123;</span><br><span class="line">    Area() <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 矩形结构体</span></span><br><span class="line"> <span class="keyword">type</span> Rectangle <span class="keyword">struct</span> &#123;</span><br><span class="line">    Width  <span class="type">float64</span></span><br><span class="line">    Height <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 圆结构体</span></span><br><span class="line"> <span class="keyword">type</span> Circle <span class="keyword">struct</span> &#123;</span><br><span class="line">    Radius <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 矩形实现Area方法</span></span><br><span class="line"> <span class="function"><span class="keyword">func</span> <span class="params">(r Rectangle)</span></span> Area() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> r.Width * r.Height</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 圆实现Area方法</span></span><br><span class="line"> <span class="function"><span class="keyword">func</span> <span class="params">(c Circle)</span></span> Area() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3.14</span> * c.Radius * c.Radius</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算形状面积的函数，接受任何实现了Shape接口的类型</span></span><br><span class="line"> <span class="function"><span class="keyword">func</span> <span class="title">PrintArea</span><span class="params">(s Shape)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;面积是: %f\n&quot;</span>, s.Area())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    r := Rectangle&#123;Width: <span class="number">10</span>, Height: <span class="number">5</span>&#125;</span><br><span class="line">    c := Circle&#123;Radius: <span class="number">3</span>&#125;</span><br><span class="line">    </span><br><span class="line">    PrintArea(r) <span class="comment">// 输出: 面积是: 50.000000</span></span><br><span class="line">    PrintArea(c) <span class="comment">// 输出: 面积是: 28.260000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="切片操作"><a href="#切片操作" class="headerlink" title="切片操作"></a>切片操作</h2><p>切片是Go语言中非常重要的数据结构，以下是一些常用的切片操作：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建切片</span></span><br><span class="line">    <span class="keyword">var</span> s1 []<span class="type">int</span>                  <span class="comment">// 声明空切片</span></span><br><span class="line">    s2 := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;    <span class="comment">// 直接初始化</span></span><br><span class="line">    s3 := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">5</span>)          <span class="comment">// 使用make创建，长度为5</span></span><br><span class="line">    s4 := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">5</span>, <span class="number">10</span>)      <span class="comment">// 使用make创建，长度为5，容量为10</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 切片操作（左闭右开）</span></span><br><span class="line">    s5 := s2[<span class="number">1</span>:<span class="number">3</span>]  <span class="comment">// 包含索引1，不包含索引3，结果: [2 3]</span></span><br><span class="line">    s6 := s2[<span class="number">2</span>:]   <span class="comment">// 从索引2到末尾，结果: [3 4 5]</span></span><br><span class="line">    s7 := s2[:<span class="number">3</span>]   <span class="comment">// 从开头到索引3（不包含），结果: [1 2 3]</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 追加元素</span></span><br><span class="line">    s8 := <span class="built_in">append</span>(s2, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>)  <span class="comment">// 添加多个元素</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 追加切片</span></span><br><span class="line">    s9 := <span class="built_in">append</span>(s8, s5...)    <span class="comment">// 注意...语法</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 复制切片</span></span><br><span class="line">    src := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">    dst := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line">    <span class="built_in">copy</span>(dst, src)</span><br><span class="line">    </span><br><span class="line">    fmt.Println(<span class="string">&quot;s1:&quot;</span>, s1)</span><br><span class="line">    fmt.Println(<span class="string">&quot;s2:&quot;</span>, s2)</span><br><span class="line">    fmt.Println(<span class="string">&quot;s3:&quot;</span>, s3)</span><br><span class="line">    fmt.Println(<span class="string">&quot;s4:&quot;</span>, s4)</span><br><span class="line">    fmt.Println(<span class="string">&quot;s5:&quot;</span>, s5)</span><br><span class="line">    fmt.Println(<span class="string">&quot;s6:&quot;</span>, s6)</span><br><span class="line">    fmt.Println(<span class="string">&quot;s7:&quot;</span>, s7)</span><br><span class="line">    fmt.Println(<span class="string">&quot;s8:&quot;</span>, s8)</span><br><span class="line">    fmt.Println(<span class="string">&quot;s9:&quot;</span>, s9)</span><br><span class="line">    fmt.Println(<span class="string">&quot;src:&quot;</span>, src)</span><br><span class="line">    fmt.Println(<span class="string">&quot;dst:&quot;</span>, dst)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 获取切片长度和容量</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;s2长度:&quot;</span>, <span class="built_in">len</span>(s2), <span class="string">&quot;容量:&quot;</span>, <span class="built_in">cap</span>(s2))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="映射-Map"><a href="#映射-Map" class="headerlink" title="映射(Map)"></a>映射(Map)</h2><p>映射是一种键值对数据结构，类似于其他语言中的字典或哈希表。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建映射</span></span><br><span class="line">    <span class="keyword">var</span> m1 <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>                     <span class="comment">// 声明空映射（需要使用make初始化）</span></span><br><span class="line">    m2 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)                <span class="comment">// 使用make创建映射</span></span><br><span class="line">    m3 := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;                     <span class="comment">// 直接初始化映射</span></span><br><span class="line">        <span class="string">&quot;apple&quot;</span>:  <span class="number">5</span>,</span><br><span class="line">        <span class="string">&quot;orange&quot;</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="string">&quot;banana&quot;</span>: <span class="number">7</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 添加或更新元素</span></span><br><span class="line">    m2[<span class="string">&quot;golang&quot;</span>] = <span class="number">100</span></span><br><span class="line">    m2[<span class="string">&quot;python&quot;</span>] = <span class="number">80</span></span><br><span class="line">    m3[<span class="string">&quot;pear&quot;</span>] = <span class="number">2</span></span><br><span class="line">    m3[<span class="string">&quot;apple&quot;</span>] = <span class="number">10</span>  <span class="comment">// 更新已有元素</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 获取元素</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;m2[&quot;</span>golang<span class="string">&quot;]:&quot;</span>, m2[<span class="string">&quot;golang&quot;</span>])</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 检查键是否存在</span></span><br><span class="line">    value, exists := m2[<span class="string">&quot;java&quot;</span>]</span><br><span class="line">    <span class="keyword">if</span> exists &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;java存在，值为:&quot;</span>, value)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;java不存在&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 删除元素</span></span><br><span class="line">    <span class="built_in">delete</span>(m3, <span class="string">&quot;orange&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 遍历映射（顺序是随机的）</span></span><br><span class="line">    <span class="keyword">for</span> key, value := <span class="keyword">range</span> m3 &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%s: %d\n&quot;</span>, key, value)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 获取映射长度</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;m3长度:&quot;</span>, <span class="built_in">len</span>(m3))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="defer语句"><a href="#defer语句" class="headerlink" title="defer语句"></a>defer语句</h2><p>defer语句用于延迟执行函数，通常用于资源清理、关闭文件等场景。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 基本使用</span></span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;这是最后执行的&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;这是先执行的&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 多个defer语句的执行顺序是后进先出(LIFO)</span></span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;defer 1&quot;</span>)</span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;defer 2&quot;</span>)</span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;defer 3&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// defer用于资源清理</span></span><br><span class="line">    file := openFile(<span class="string">&quot;test.txt&quot;</span>)</span><br><span class="line">    <span class="keyword">defer</span> closeFile(file)  <span class="comment">// 确保文件会被关闭</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 处理文件...</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// defer函数的参数在定义时就会求值</span></span><br><span class="line">    x := <span class="number">1</span></span><br><span class="line">    <span class="keyword">defer</span> fmt.Printf(<span class="string">&quot;x的值: %d\n&quot;</span>, x)  <span class="comment">// 这里会输出x的值: 1</span></span><br><span class="line">    x = <span class="number">100</span>  <span class="comment">// 后面的修改不会影响defer语句中的x值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">openFile</span><span class="params">(filename <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;打开文件: %s\n&quot;</span>, filename)</span><br><span class="line">    <span class="keyword">return</span> filename</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">closeFile</span><span class="params">(filename <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;关闭文件: %s\n&quot;</span>, filename)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="panic和recover"><a href="#panic和recover" class="headerlink" title="panic和recover"></a>panic和recover</h2><p>Go语言使用panic和recover机制来处理程序运行时的严重错误。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 使用defer和recover捕获panic</span></span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> r := <span class="built_in">recover</span>(); r != <span class="literal">nil</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">&quot;恢复程序&quot;</span>, r)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 故意触发panic</span></span><br><span class="line">    divide(<span class="number">10</span>, <span class="number">0</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 下面的代码不会执行，除非panic被recover</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;程序继续执行&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">divide</span><span class="params">(a, b <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> b == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">&quot;除数不能为零&quot;</span>) <span class="comment">// 触发panic</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;结果:&quot;</span>, a/b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h2><p>Go语言通过goroutine实现并发，goroutine是轻量级线程，由Go运行时管理。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 启动一个goroutine</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">say</span><span class="params">(s <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        time.Sleep(<span class="number">100</span> * time.Millisecond)</span><br><span class="line">        fmt.Println(s)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">go</span> say(<span class="string">&quot;world&quot;</span>) <span class="comment">// 启动一个新的goroutine</span></span><br><span class="line">    say(<span class="string">&quot;hello&quot;</span>)    <span class="comment">// 当前goroutine执行</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通道(channel)用于在goroutine之间传递数据，确保数据同步。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建一个整型通道</span></span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 启动一个goroutine</span></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        ch &lt;- <span class="number">42</span> <span class="comment">// 发送数据到通道</span></span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    value := &lt;-ch <span class="comment">// 从通道接收数据</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;收到的数值:&quot;</span>, value)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 关闭通道</span></span><br><span class="line">    <span class="built_in">close</span>(ch)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="标准库的使用"><a href="#标准库的使用" class="headerlink" title="标准库的使用"></a>标准库的使用</h2><p>Go语言有丰富的标准库，以下是一些常用标准库的使用示例：</p>
<h3 id="字符串处理-strings包"><a href="#字符串处理-strings包" class="headerlink" title="字符串处理 (strings包)"></a>字符串处理 (strings包)</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    s := <span class="string">&quot;Hello, Go!&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 判断字符串是否包含子串</span></span><br><span class="line">    fmt.Println(strings.Contains(s, <span class="string">&quot;Go&quot;</span>))  <span class="comment">// true</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 统计子串出现次数</span></span><br><span class="line">    fmt.Println(strings.Count(s, <span class="string">&quot;l&quot;</span>))  <span class="comment">// 2</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 判断字符串是否以某前缀开头</span></span><br><span class="line">    fmt.Println(strings.HasPrefix(s, <span class="string">&quot;Hello&quot;</span>))  <span class="comment">// true</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 判断字符串是否以某后缀结尾</span></span><br><span class="line">    fmt.Println(strings.HasSuffix(s, <span class="string">&quot;!&quot;</span>))  <span class="comment">// true</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 查找子串位置</span></span><br><span class="line">    fmt.Println(strings.Index(s, <span class="string">&quot;Go&quot;</span>))  <span class="comment">// 7</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 替换子串</span></span><br><span class="line">    fmt.Println(strings.Replace(s, <span class="string">&quot;Go&quot;</span>, <span class="string">&quot;World&quot;</span>, <span class="number">-1</span>))  <span class="comment">// Hello, World!</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 分割字符串</span></span><br><span class="line">    parts := strings.Split(<span class="string">&quot;a,b,c,d&quot;</span>, <span class="string">&quot;,&quot;</span>)</span><br><span class="line">    fmt.Println(parts)  <span class="comment">// [a b c d]</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 连接字符串</span></span><br><span class="line">    joined := strings.Join(parts, <span class="string">&quot;-&quot;</span>)</span><br><span class="line">    fmt.Println(joined)  <span class="comment">// a-b-c-d</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 转换大小写</span></span><br><span class="line">    fmt.Println(strings.ToUpper(s))  <span class="comment">// HELLO, GO!</span></span><br><span class="line">    fmt.Println(strings.ToLower(s))  <span class="comment">// hello, go!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="文件操作-os和io-ioutil包"><a href="#文件操作-os和io-ioutil包" class="headerlink" title="文件操作 (os和io&#x2F;ioutil包)"></a>文件操作 (os和io&#x2F;ioutil包)</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建文件</span></span><br><span class="line">    file, err := os.Create(<span class="string">&quot;test.txt&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;创建文件失败:&quot;</span>, err)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">defer</span> file.Close()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 写入内容</span></span><br><span class="line">    file.WriteString(<span class="string">&quot;Hello, Go!&quot;</span>)</span><br><span class="line">    file.Sync()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 读取文件全部内容</span></span><br><span class="line">    content, err := ioutil.ReadFile(<span class="string">&quot;test.txt&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;读取文件失败:&quot;</span>, err)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;文件内容:&quot;</span>, <span class="type">string</span>(content))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 检查文件是否存在</span></span><br><span class="line">    _, err = os.Stat(<span class="string">&quot;test.txt&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> os.IsNotExist(err) &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;文件不存在&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;文件存在&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 删除文件</span></span><br><span class="line">    err = os.Remove(<span class="string">&quot;test.txt&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;删除文件失败:&quot;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Context包-用于控制goroutine的生命周期"><a href="#Context包-用于控制goroutine的生命周期" class="headerlink" title="Context包 (用于控制goroutine的生命周期)"></a>Context包 (用于控制goroutine的生命周期)</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;context&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建一个带有取消功能的context</span></span><br><span class="line">    ctx, cancel := context.WithCancel(context.Background())</span><br><span class="line">    <span class="keyword">defer</span> cancel()  <span class="comment">// 确保在main函数退出时取消context</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 启动一个goroutine</span></span><br><span class="line">    <span class="keyword">go</span> worker(ctx, <span class="string">&quot;worker1&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 让程序运行一会儿</span></span><br><span class="line">    time.Sleep(<span class="number">3</span> * time.Second)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 取消context，通知worker停止工作</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;取消任务&quot;</span>)</span><br><span class="line">    cancel()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 等待一会儿，让worker有时间响应取消信号</span></span><br><span class="line">    time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">    fmt.Println(<span class="string">&quot;程序退出&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// worker函数会监听context的取消信号</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">worker</span><span class="params">(ctx context.Context, name <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        <span class="keyword">select</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> &lt;-ctx.Done():</span><br><span class="line">            <span class="comment">// 接收到取消信号</span></span><br><span class="line">            fmt.Printf(<span class="string">&quot;%s: 收到取消信号，停止工作\n&quot;</span>, name)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="comment">// 正常工作</span></span><br><span class="line">            fmt.Printf(<span class="string">&quot;%s: 正在工作...\n&quot;</span>, name)</span><br><span class="line">            time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h2><p>类型断言用于检查接口值的具体类型，或者将接口值转换为指定类型。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 定义一个接口变量</span></span><br><span class="line">    <span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">    i = <span class="number">42</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 类型断言（带检查）</span></span><br><span class="line">    value, ok := i.(<span class="type">int</span>)</span><br><span class="line">    <span class="keyword">if</span> ok &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;i的类型是int，值为: %d\n&quot;</span>, value)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;i的类型不是int&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 类型断言（不带检查，失败会panic）</span></span><br><span class="line">    <span class="comment">// s := i.(string) // 这会引发panic</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 使用switch进行类型断言</span></span><br><span class="line">    i = <span class="string">&quot;hello&quot;</span></span><br><span class="line">    <span class="keyword">switch</span> v := i.(<span class="keyword">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">int</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;这是一个整数: %d\n&quot;</span>, v)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">string</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;这是一个字符串: %s\n&quot;</span>, v)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">bool</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;这是一个布尔值: %t\n&quot;</span>, v)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;未知类型: %T\n&quot;</span>, v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><ol>
<li>权限：所有成员在包内均可见，无论是不是在一个源码文件中。但只有首字母大写的为可导出成员，在包外可见。</li>
<li>源码必须使用UTF-8。</li>
<li>包内每个源文件都可以定义一个或多个初始化函数，但编译器不保证执行顺序。编译器先初始化全局变量，然后才开始执行初始化函数。最后才执行main包的main函数。</li>
<li>内部包：所有保存在internal目录下的包（包含自身）仅能被其父目录下的包（包含所有层次的子目录）访问。</li>
</ol>
<h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><p>反射是指在程序运行时动态地获取变量的类型信息和值信息的能力。Go语言提供了reflect包来支持反射。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;reflect&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="type">float64</span> = <span class="number">3.4</span></span><br><span class="line">    v := reflect.ValueOf(x)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 获取变量类型</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;类型:&quot;</span>, v.Type())</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 获取变量值</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;值:&quot;</span>, v.Float())</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 判断是否可以设置值（这里会返回false，因为v是x的副本）</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;可设置:&quot;</span>, v.CanSet())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>Go语言内置了测试框架，通过go test命令运行测试。测试文件通常以_test.go结尾。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// example.go</span></span><br><span class="line"><span class="keyword">package</span> example</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// example_test.go</span></span><br><span class="line"><span class="keyword">package</span> example</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;testing&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestAdd</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    result := Add(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">if</span> result != <span class="number">3</span> &#123;</span><br><span class="line">        t.Errorf(<span class="string">&quot;Add(1, 2) = %d; want 3&quot;</span>, result)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行测试命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ go <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Go</category>
        <category>开发</category>
      </categories>
      <tags>
        <tag>Go</tag>
      </tags>
  </entry>
  <entry>
    <title>IOS客户端代码复用方案</title>
    <url>/post/15ff.html</url>
    <content><![CDATA[<p>不错一遍文章，收藏。</p>
<p><a href="http://shellhue.github.io/2017/04/08/sharecode/?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io">http://shellhue.github.io/2017/04/08/sharecode/?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io</a></p>
]]></content>
      <categories>
        <category>好文收藏</category>
      </categories>
  </entry>
  <entry>
    <title>IOS开发：生成时间字符串</title>
    <url>/post/2a08.html</url>
    <content><![CDATA[<p><span class="s1">&#x2F;&#x2F;</span><span class="s2">时间标记字符串生成</span></p>
<p><span class="s2">-(</span><span class="s3">NSString</span><span class="s2">*)TimeStamp</span></p>
<p><span class="s2">{</span></p>
<p><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s3">NSDate</span><span class="s2"> *today &#x3D; [</span><span class="s3">NSDate</span> <span class="s3">date</span><span class="s2">];</span></p>
<p><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s2">NSDateFormatter</span><span class="s4"> *dateFormatter &#x3D; [[</span><span class="s2">NSDateFormatter</span> <span class="s2">alloc</span><span class="s4">]</span><span class="s2">init</span><span class="s4">];</span></p>
<p><span class="s2"><span class="Apple-converted-space">    </span>[dateFormatter </span><span class="s3">setDateFormat</span><span class="s2">:</span><span class="s5">@”yyyy-MM-dd hh:mm:ss”</span><span class="s2">];</span></p>
<p><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s3">NSString</span><span class="s2"> *strDate &#x3D; [dateFormatter </span><span class="s3">stringFromDate</span><span class="s2">:today];</span></p>
<p><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s3">NSLog</span><span class="s2">(</span><span class="s5">@”Time: %@”</span><span class="s2">,strDate);</span></p>
<p><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s6">return</span><span class="s2"> strDate;</span></p>
<p><span class="s2">}</span></p>
]]></content>
      <categories>
        <category>IOS 开发</category>
      </categories>
  </entry>
  <entry>
    <title>IOS获取当前时间并转换成可显示字符串的方法</title>
    <url>/post/6ba5.html</url>
    <content><![CDATA[<p>本来很简单的时，在IOS上涉及到的东西还挺多。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="operator">*</span>   (<span class="type">NSString</span> <span class="operator">*</span>)getCurrentTimeString &#123;</span><br><span class="line"><span class="type">NSDate</span> <span class="operator">*</span>today <span class="operator">=</span> [<span class="type">NSDate</span> date];</span><br><span class="line"><span class="comment">//   NSInteger interval = [[NSTimeZone systemTimeZone] secondsFromGMTForDate: today];</span></span><br><span class="line"><span class="comment">//   NSDate *localeDate = [today  dateByAddingTimeInterval: interval];</span></span><br><span class="line"></span><br><span class="line">    <span class="type">NSDateFormatter</span> _formatter <span class="operator">=</span> [[<span class="type">NSDateFormatter</span> alloc] <span class="keyword">init</span>] ;</span><br><span class="line">[formatter setDateStyle:<span class="type">NSDateFormatterMediumStyle</span>];</span><br><span class="line">[formatter setTimeStyle:<span class="type">NSDateFormatterShortStyle</span>];</span><br><span class="line">[formatter setDateFormat:@<span class="string">&quot;YYYY-MM-dd HH:mm:ss&quot;</span>]; <span class="comment">//hh与HH的区别:分别表示12小时制,24小时制</span></span><br><span class="line"><span class="comment">//设置时区,这个对于时间的处理有时很重要</span></span><br><span class="line"><span class="comment">//NSTimeZone_ timeZone = [NSTimeZone timeZoneWithName:@&quot;Asia/Shanghai&quot;];</span></span><br><span class="line"><span class="type">NSTimeZone</span><span class="operator">*</span> timeZone <span class="operator">=</span> [<span class="type">NSTimeZone</span> systemTimeZone];</span><br><span class="line"></span><br><span class="line">    [formatter setTimeZone:timeZone];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//NSString * date_str = [localeDate description];</span></span><br><span class="line"><span class="type">NSString</span> <span class="operator">*</span> date_str <span class="operator">=</span> [formatter stringFromDate:today];</span><br><span class="line"><span class="keyword">return</span> date_str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>IOS</category>
      </categories>
  </entry>
  <entry>
    <title>IOS开发：获取屏幕大小的宏</title>
    <url>/post/b1ab.html</url>
    <content><![CDATA[<p><span class="s1">&#x2F;&#x2F;</span><span class="s2">获取设备屏幕尺寸</span></p>
<p><span class="s2">#define SCREEN_WIDTH ([UIScreen mainScreen].bounds.size.width)</span></p>
<p><span class="s2">#define SCREEN_HEIGHT ([UIScreen mainScreen].bounds.size.height)</span><span class="s3">&#x2F;&#x2F;</span><span class="s4">应用尺寸</span></p>
<p><span class="s2">#define APP_WIDTH [[UIScreen mainScreen]applicationFrame].size.width</span></p>
<p><span class="s2">#define APP_HEIGHT [[UIScreen mainScreen]applicationFrame].size.height</span></p>
]]></content>
      <categories>
        <category>IOS 开发</category>
      </categories>
  </entry>
  <entry>
    <title>IOS设置固定大小的图片</title>
    <url>/post/5fbb.html</url>
    <content><![CDATA[<p>下面是实现这部分功能的代码：</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="built_in">UIImage</span> * img = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@&quot;doorlogo&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">CGSize</span> itemSize = <span class="built_in">CGSizeMake</span>(<span class="number">60</span>, <span class="number">60</span>);</span><br><span class="line"><span class="built_in">UIGraphicsBeginImageContext</span>(itemSize);</span><br><span class="line"><span class="built_in">CGRect</span> imageRect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, itemSize.width, itemSize.height);</span><br><span class="line">[img drawInRect:imageRect];</span><br><span class="line">cell.imageView.image = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line"><span class="built_in">UIGraphicsEndImageContext</span>();</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>IOS设置固定大小的图片</title>
    <url>/post/5fbb.html</url>
    <content><![CDATA[<p>&#96;固定图片大小</p>
<pre><code>UIImage * img = [UIImage imageNamed:@&quot;doorlogo&quot;];

CGSize itemSize = CGSizeMake(60, 60);
UIGraphicsBeginImageContext(itemSize);
CGRect imageRect = CGRectMake(0, 0, itemSize.width, itemSize.height);
[img drawInRect:imageRect];
cell.imageView.image = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();`
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>读书笔记：IOS视图控制器与控件</title>
    <url>/post/aea9.html</url>
    <content><![CDATA[<h1 id="IOS-视图控制器"><a href="#IOS-视图控制器" class="headerlink" title="IOS 视图控制器"></a>IOS 视图控制器</h1><h2 id="视图控制器之间的切换"><a href="#视图控制器之间的切换" class="headerlink" title="视图控制器之间的切换"></a>视图控制器之间的切换</h2><p>在响应的位置，创建需要的视图控制器，然后preset过去。</p>
<h2 id="视图控制器之间传递数据"><a href="#视图控制器之间传递数据" class="headerlink" title="视图控制器之间传递数据"></a>视图控制器之间传递数据</h2><ol>
<li>通知中心 最简单的方式，缺点就是两个类之前没有关系。</li>
<li>代理模式 采用协议的方式，需要向外传数据的类定义代理，接受数据的类实现协议。协议赋值采用 assign。 # IOS 控件 * UILabel * UIControl 处理事件 * UIButton 处理状态 工厂方法：buttonWithType 贴图的方法，要使用custorm Type cancel 事件，来电话和锁屏触发 * 风火轮（UIActivityIndicatorView） 显示与停止，显示到状态栏。</li>
</ol>
]]></content>
      <tags>
        <tag>IOS</tag>
      </tags>
  </entry>
  <entry>
    <title>Java中的移位操作符</title>
    <url>/post/3537.html</url>
    <content><![CDATA[<p>java中有三种移位运算符</p>
<blockquote>
<ul>
<li>&lt;&lt; : 左移运算符，num &lt;&lt; 1,相当于num乘以2</li>
<li><blockquote>
<p>&gt; : 右移运算符，num &gt;&gt; 1,相当于num除以2</p>
</blockquote>
</li>
<li><blockquote>
<blockquote>
<p>&gt; : 无符号右移，忽略符号位，空位都以0补齐</p>
</blockquote>
</blockquote>
</li>
</ul>
</blockquote>
<p>下面是测试代码&#96;public static void main(String[] args) {<br>        int number &#x3D; 10;<br>        &#x2F;&#x2F;原始数二进制<br>        printInfo(number);<br>        number &#x3D; number &lt;&lt; 1;<br>        &#x2F;&#x2F;左移一位<br>        printInfo(number);<br>        number &#x3D; number &gt;&gt; 1;<br>        &#x2F;&#x2F;右移一位<br>        printInfo(number);<br>    }</p>
<pre><code>/**
 * 输出一个int的二进制数
 * @param num
 */
private static void printInfo(int num){
    System.out.println(Integer.toBinaryString(num));
}` 输出结果： 1010 10100 1010
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>Linux 下挂Windows的共享目录</title>
    <url>/post/ee8a.html</url>
    <content><![CDATA[<p>mount -t cifs -o username&#x3D;windowsusername &#x2F;&#x2F;windows machine&#x2F;sharefiles &#x2F;mnt&#x2F;localfolder</p>
<p>如：</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo mount -t cifs -o username=wwq,password=xxxxxx  <span class="regexp">//</span><span class="number">10.2</span>.<span class="number">37.56</span><span class="regexp">/Users/</span>wwq<span class="regexp">/Desktop/</span>work  <span class="regexp">/mnt/</span>share</span><br></pre></td></tr></table></figure>
<p>其中：</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">windowsusername : <span class="type">Windows</span>用户名</span><br><span class="line">windows machine ：Windows机器名</span><br><span class="line">sharefiles ：Windows共享文件夹名</span><br></pre></td></tr></table></figure>

<p>然后就可以在 &#x2F;mnt&#x2F;localfolder 下访问Windows内容。</p>
<p>注意要先创建目录，这里是 &#x2F;mnt&#x2F;share</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux 解压、压缩汇总</title>
    <url>/post/8e20.html</url>
    <content><![CDATA[<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line">tar</span><br><span class="line">-c: 建立压缩档案</span><br><span class="line">-x：解压</span><br><span class="line">-t：查看内容</span><br><span class="line">-r：向压缩归档文件末尾追加文件</span><br><span class="line">-u：更新原压缩包中的文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">这五个是独立的命令，压缩解压都要用到其中一个，可以和别的命令连用但只能用其中一个。下面的参数是根据需要在压缩或解压档案时可选的。</span><br><span class="line"></span><br><span class="line">-z：有gzip属性的</span><br><span class="line">-j：有bz2属性的</span><br><span class="line">-Z：有compress属性的</span><br><span class="line">-v：显示所有过程</span><br><span class="line">-O：将文件解开到标准输出</span><br><span class="line"></span><br><span class="line">下面的参数-f是必须的</span><br><span class="line"></span><br><span class="line">-f: 使用档案名字，切记，这个参数是最后一个参数，后面只能接档案名。</span><br><span class="line"></span><br><span class="line"><span class="comment"># tar -cf all.tar *.jpg</span></span><br><span class="line">这条命令是将所有<span class="string">.jpg</span>的文件打成一个名为all.tar的包。-c是表示产生新的包，-f指定包的文件名。</span><br><span class="line"></span><br><span class="line"><span class="comment"># tar -rf all.tar *.gif</span></span><br><span class="line">这条命令是将所有<span class="string">.gif</span>的文件增加到all.tar的包里面去。-r是表示增加文件的意思。</span><br><span class="line"></span><br><span class="line"><span class="comment"># tar -uf all.tar logo.gif</span></span><br><span class="line">这条命令是更新原来tar包all.tar中logo.gif文件，-u是表示更新文件的意思。</span><br><span class="line"></span><br><span class="line"><span class="comment"># tar -tf all.tar</span></span><br><span class="line">这条命令是列出all.tar包中所有文件，-t是列出文件的意思</span><br><span class="line"></span><br><span class="line"><span class="comment"># tar -xf all.tar</span></span><br><span class="line">这条命令是解出all.tar包中所有文件，-x是解开的意思</span><br><span class="line"></span><br><span class="line">压缩</span><br><span class="line">tar –cvf jpg.tar *<span class="string">.jpg</span> <span class="string">//</span>将目录里所有jpg文件打包成tar.jpg</span><br><span class="line">tar –czf jpg.tar.gz *<span class="string">.jpg</span>   <span class="string">//</span>将目录里所有jpg文件打包成jpg.tar后，并且将其用gzip压缩，生成一个gzip压缩过的包，命名为jpg.tar.gz</span><br><span class="line">tar –cjf jpg.tar.bz2 *<span class="string">.jpg</span> <span class="string">//</span>将目录里所有jpg文件打包成jpg.tar后，并且将其用bzip2压缩，生成一个bzip2压缩过的包，命名为jpg.tar.bz2</span><br><span class="line">tar –cZf jpg.tar.Z *<span class="string">.jpg</span>   <span class="string">//</span>将目录里所有jpg文件打包成jpg.tar后，并且将其用compress压缩，生成一个umcompress压缩过的包，命名为jpg.tar.Z</span><br><span class="line">rar a jpg.rar *<span class="string">.jpg</span> <span class="string">//rar</span>格式的压缩，需要先下载rar for linux</span><br><span class="line">zip jpg.zip *<span class="string">.jpg</span> <span class="string">//zip</span>格式的压缩，需要先下载zip for linux</span><br><span class="line"></span><br><span class="line">解压</span><br><span class="line">tar –xvf file.tar <span class="string">//</span>解压 tar包</span><br><span class="line">tar -xzvf file.tar.gz <span class="string">//</span>解压tar.gz</span><br><span class="line">tar -xjvf file.tar.bz2   <span class="string">//</span>解压 tar.bz2</span><br><span class="line">tar –xZvf file.tar.Z   <span class="string">//</span>解压tar.Z</span><br><span class="line">unrar e file.rar <span class="string">//</span>解压rar</span><br><span class="line">unzip file.zip <span class="string">//</span>解压zip</span><br><span class="line"></span><br><span class="line">总结</span><br><span class="line">1、*<span class="string">.tar</span> 用 tar –xvf 解压</span><br><span class="line">2、*<span class="string">.gz</span> 用 gzip -d或者gunzip 解压</span><br><span class="line">3、*<span class="string">.tar.gz</span>和*<span class="string">.tgz</span> 用 tar –xzf 解压</span><br><span class="line">4、*<span class="string">.bz2</span> 用 bzip2 -d或者用bunzip2 解压</span><br><span class="line">5、*<span class="string">.tar.bz2</span>用tar –xjf 解压</span><br><span class="line">6、*<span class="string">.Z</span> 用 uncompress 解压</span><br><span class="line">7、*<span class="string">.tar.Z</span> 用tar –xZf 解压</span><br><span class="line">8、*<span class="string">.rar</span> 用 unrar e解压</span><br><span class="line">9、*<span class="string">.zip</span> 用 unzip 解压</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
        <category>tar</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>tar</tag>
      </tags>
  </entry>
  <entry>
    <title>linux 安装 docker</title>
    <url>/post/ebb4.html</url>
    <content><![CDATA[<p>sudo apt-get install docker 不行啊，怎么回事？</p>
<p>网上查了下，正常应该是这样的：</p>
<p>sudo apt-get install docker.io</p>
<p>了个去！！</p>
]]></content>
      <categories>
        <category>docker</category>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>Linux打印机管理</title>
    <url>/post/2076.html</url>
    <content><![CDATA[<p>lpq -a &#x2F;&#x2F;显示出目前所有打印机的工作队列情况 lprm 11 &#x2F;&#x2F;取消11号打印机作业 lpq -l -P Hp2015 &#x2F;&#x2F;用详细方式显示打印机Hp2015作业 </p>
<p>lpstat -t ：列出目前的“打印系统”状态，不只包括打印机而已 暂停或者开始打印机： </p>
<p>重新开始打印机 sudo cupsenable HP_LaserJet_1020 </p>
<p>禁用打印机 sudo cupsdisable HP_LaserJet_1020</p>
]]></content>
  </entry>
  <entry>
    <title>Linux软raid恢复后md127问题</title>
    <url>/post/4bd9.html</url>
    <content><![CDATA[<ol>
<li>检查&#x2F;etc&#x2F;mdadm&#x2F;mdadm.conf，内容是对的，但重启后，还是md127.</li>
<li>在网上看到这个：</li>
</ol>
<p>查看md0的UUID：<br>sudo mdadm –detail &#x2F;dev&#x2F;md0<br>拷贝下来UUID 7f59975e:9e637932:dce17021:f68cb000<br>然后：sudo vim &#x2F;etc&#x2F;mdadm&#x2F;mdadm.conf<br>在文件的靠前位置，加入这一行：<br>ARRAY &#x2F;dev&#x2F;md0 UUID&#x3D;7f59975e:9e637932:dce17021:f68cb000<br>:wq!强制保存后退出vim，下一步很重要！You need to update initramfs so it contains your mdadm.conf settings during boot.<br><strong>sudo update-initramfs -u</strong><br>否则，重启系统，mdadm会自动将raid1生成&#x2F;dev&#x2F;md127，而不是&#x2F;dev&#x2F;md0。</p>
<p>update-initramfs 后，确实管用。</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>MicroGen8</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>MicroGen8</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac 下交换caps lock 与 Ctrl</title>
    <url>/post/9dae.html</url>
    <content><![CDATA[<p>习惯了HHKB之后表示经常把 caps lock 与 ctrl 键按错，就想在Mac上能不能把caps lock改成ctrl呢，研究了下，发现其实很简单：在键盘设置里面的修饰键就可以改过来，直接的选项，交换就行了。</p>
<p>不过嘛，看起来有点怪，因为caps lock上有个灯，大小状态还是这个灯显示的，但按下的意义又完全变了。</p>
]]></content>
      <categories>
        <category>Mac 使用</category>
      </categories>
  </entry>
  <entry>
    <title>Mac 外接显示器颜色问题</title>
    <url>/post/4a85.html</url>
    <content><![CDATA[<p>自己的mac屏幕太小，外接了一个显示器，发现颜色偏白，有点晃眼，调来调去搞不好。网上的方法也是各种方法。</p>
<p>其实Apple自己的显示器设置里面就能搞好。</p>
<p>系统偏好设置-》显示器-》颜色-》校准</p>
<p>然后看着效果一步一步来，就能调整到自己满意的效果。</p>
]]></content>
      <categories>
        <category>Mac 使用</category>
      </categories>
  </entry>
  <entry>
    <title>Micro Gen8 sata5 启动 Linux</title>
    <url>/post/7d41.html</url>
    <content><![CDATA[<p>经过5+小时的尝试，终于找到了方法。参考了这个文章：<a href="http://www.newsmth.net/nForum/#!article/DigiHome/419729">http://www.newsmth.net/nForum/#!article/DigiHome/419729</a></p>
<ol>
<li>找一张TF卡，我的是2G的。</li>
<li>启动盘准备的时候，我能进到Linux中，但是用grub-install死活也装不好，浪费了好多时间，各种参数。最后没有办法，使用了这个文章准备的grub镜像，直接用win32diskImager写的启动盘。</li>
<li>但这个启动盘能进grub，但不能启动我的系统，我和文章的不一样的，我的sata5位置是我安装好的xunbuntu。</li>
<li>去掉所有的盘，只留一个sata5的系统盘，进入系统。在安装好的系统盘中，找到&#x2F;boot&#x2F;grub&#x2F;grub.cfg，复制这个文件替换掉Tf卡里的这个文件。</li>
<li>重新开机吧，setup里面选择U盘启动。再插其它的硬盘，总会是从sata5启动的。</li>
</ol>
]]></content>
      <categories>
        <category>linux</category>
        <category>MicroGen8</category>
      </categories>
  </entry>
  <entry>
    <title>NSLog 开关</title>
    <url>/post/44f7.html</url>
    <content><![CDATA[<p>开发IOS应用在发布的时候需要将全部的NSLog中去掉，怎么弄呢？可以使用一个宏来控制：</p>
<p>在系统包含的公共头文件中加入下面的语句：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __OPTIMIZE__</span></span><br><span class="line"><span class="meta"># <span class="keyword">define</span> NSLog(...) NSLog(__VA_ARGS__)</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">define</span> NSLog(...) &#123;&#125;</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>一般情况下，Release版本系统会定义 <strong>OPTIMIZE</strong> 宏，而Debug版本不会，根据这个差别使用不同的NSLog，从而达到上面的目的。</p>
]]></content>
      <categories>
        <category>IOS 开发</category>
      </categories>
  </entry>
  <entry>
    <title>PHP利用PHPExcel操作Excel文件</title>
    <url>/post/7640.html</url>
    <content><![CDATA[<p>工具：<strong>PHPExcel</strong></p>
<p>下面是示例代码，备用。</p>
<figure class="highlight xl"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** Error reporting */</span></span><br><span class="line">error_reporting(E_ALL);</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Include path **/</span></span><br><span class="line">ini_set(<span class="string">&#x27;include_path&#x27;</span>, ini_get(<span class="string">&#x27;include_path&#x27;</span>).<span class="string">&#x27;;../Classes/&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/** PHPExcel */</span></span><br><span class="line">include <span class="string">&#x27;PHPExcel.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** PHPExcel_Writer_Excel2007 */</span></span><br><span class="line">include <span class="string">&#x27;PHPExcel/Writer/Excel2007.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create new PHPExcel object</span></span><br><span class="line">echo date(<span class="string">&#x27;H:i:s&#x27;</span>) . <span class="string">&quot; Create new PHPExcel object\n&quot;</span>;</span><br><span class="line">$objPHPExcel = new PHPExcel();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Set properties</span></span><br><span class="line">echo date(<span class="string">&#x27;H:i:s&#x27;</span>) . <span class="string">&quot; Set properties\n&quot;</span>;</span><br><span class="line">$<span class="function"><span class="title">objPHPExcel</span>-&gt;</span><span class="function"><span class="title">getProperties</span>()-&gt;</span>setCreator(<span class="string">&quot;Maarten Balliauw&quot;</span>);</span><br><span class="line">$<span class="function"><span class="title">objPHPExcel</span>-&gt;</span><span class="function"><span class="title">getProperties</span>()-&gt;</span>setLastModifiedBy(<span class="string">&quot;Maarten Balliauw&quot;</span>);</span><br><span class="line">$<span class="function"><span class="title">objPHPExcel</span>-&gt;</span><span class="function"><span class="title">getProperties</span>()-&gt;</span>setTitle(<span class="string">&quot;Office 2007 XLSX Test Document&quot;</span>);</span><br><span class="line">$<span class="function"><span class="title">objPHPExcel</span>-&gt;</span><span class="function"><span class="title">getProperties</span>()-&gt;</span>setSubject(<span class="string">&quot;Office 2007 XLSX Test Document&quot;</span>);</span><br><span class="line">$<span class="function"><span class="title">objPHPExcel</span>-&gt;</span><span class="function"><span class="title">getProperties</span>()-&gt;</span>setDescription(<span class="string">&quot;Test document for Office 2007 XLSX, generated using PHP classes.&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Add some data</span></span><br><span class="line">echo date(<span class="string">&#x27;H:i:s&#x27;</span>) . <span class="string">&quot; Add some data\n&quot;</span>;</span><br><span class="line">$<span class="function"><span class="title">objPHPExcel</span>-&gt;</span>setActiveSheetIndex(<span class="number">0</span>);</span><br><span class="line">$<span class="function"><span class="title">objPHPExcel</span>-&gt;</span><span class="function"><span class="title">getActiveSheet</span>()-&gt;</span>SetCellValue(<span class="string">&#x27;A1&#x27;</span>, <span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line">$<span class="function"><span class="title">objPHPExcel</span>-&gt;</span><span class="function"><span class="title">getActiveSheet</span>()-&gt;</span>SetCellValue(<span class="string">&#x27;B2&#x27;</span>, <span class="string">&#x27;world!&#x27;</span>);</span><br><span class="line">$<span class="function"><span class="title">objPHPExcel</span>-&gt;</span><span class="function"><span class="title">getActiveSheet</span>()-&gt;</span>SetCellValue(<span class="string">&#x27;C1&#x27;</span>, <span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line">$<span class="function"><span class="title">objPHPExcel</span>-&gt;</span><span class="function"><span class="title">getActiveSheet</span>()-&gt;</span>SetCellValue(<span class="string">&#x27;D2&#x27;</span>, <span class="string">&#x27;world!&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Rename sheet</span></span><br><span class="line">echo date(<span class="string">&#x27;H:i:s&#x27;</span>) . <span class="string">&quot; Rename sheet\n&quot;</span>;</span><br><span class="line">$<span class="function"><span class="title">objPHPExcel</span>-&gt;</span><span class="function"><span class="title">getActiveSheet</span>()-&gt;</span>setTitle(<span class="string">&#x27;Simple&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Save Excel 2007 file</span></span><br><span class="line">echo date(<span class="string">&#x27;H:i:s&#x27;</span>) . <span class="string">&quot; Write to Excel2007 format\n&quot;</span>;</span><br><span class="line">$objWriter = new PHPExcel_Writer_Excel2007($objPHPExcel);</span><br><span class="line">$<span class="function"><span class="title">objWriter</span>-&gt;</span>save(str_replace(<span class="string">&#x27;.php&#x27;</span>, <span class="string">&#x27;.xlsx&#x27;</span>, **FILE**));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Echo done</span></span><br><span class="line">echo date(<span class="string">&#x27;H:i:s&#x27;</span>) . <span class="string">&quot; Done writing file.\r\n&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>PHP</category>
        <category>好文收藏</category>
      </categories>
  </entry>
  <entry>
    <title>python进制转换</title>
    <url>/post/915b.html</url>
    <content><![CDATA[<ul>
<li>空间</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># 2/10/16 base trans. wrote by srcdog on 20th, April, 2009</span></span><br><span class="line"><span class="comment"># ld elements in base 2, 10, 16.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os,sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># global definition</span></span><br><span class="line"><span class="comment"># base = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F]</span></span><br><span class="line">base = [<span class="built_in">str</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)] + [ <span class="built_in">chr</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>),<span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>)+<span class="number">6</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># bin2dec</span></span><br><span class="line"><span class="comment"># 二进制 to 十进制: int(str,n=10)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bin2dec</span>(<span class="params">string_num</span>):</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">str</span>(<span class="built_in">int</span>(string_num, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># hex2dec</span></span><br><span class="line"><span class="comment"># 十六进制 to 十进制</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hex2dec</span>(<span class="params">string_num</span>):</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">str</span>(<span class="built_in">int</span>(string_num.upper(), <span class="number">16</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># dec2bin</span></span><br><span class="line"><span class="comment"># 十进制 to 二进制: bin()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dec2bin</span>(<span class="params">string_num</span>):</span><br><span class="line">num = <span class="built_in">int</span>(string_num)</span><br><span class="line">mid = []</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"><span class="keyword">if</span> num == <span class="number">0</span>: <span class="keyword">break</span></span><br><span class="line">num,rem = <span class="built_in">divmod</span>(num, <span class="number">2</span>)</span><br><span class="line">mid.append(base[rem])</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join([<span class="built_in">str</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> mid[::-<span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># dec2hex</span></span><br><span class="line"><span class="comment"># 十进制 to 八进制: oct()</span></span><br><span class="line"><span class="comment"># 十进制 to 十六进制: hex()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dec2hex</span>(<span class="params">string_num</span>):</span><br><span class="line">num = <span class="built_in">int</span>(string_num)</span><br><span class="line">mid = []</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"><span class="keyword">if</span> num == <span class="number">0</span>: <span class="keyword">break</span></span><br><span class="line">num,rem = <span class="built_in">divmod</span>(num, <span class="number">16</span>)</span><br><span class="line">mid.append(base[rem])</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join([<span class="built_in">str</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> mid[::-<span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># hex2tobin</span></span><br><span class="line"><span class="comment"># 十六进制 to 二进制: bin(int(str,16))</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hex2bin</span>(<span class="params">string_num</span>):</span><br><span class="line"><span class="keyword">return</span> dec2bin(hex2dec(string_num.upper()))</span><br><span class="line"></span><br><span class="line"><span class="comment"># bin2hex</span></span><br><span class="line"><span class="comment"># 二进制 to 十六进制: hex(int(str,2))</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bin2hex</span>(<span class="params">string_num</span>):</span><br><span class="line"><span class="keyword">return</span> dec2hex(bin2dec(string_num))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"><span class="built_in">print</span> bin2hex(<span class="string">&#x27;111110&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> hex2bin(<span class="string">&#x27;f1&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> dec2hex(<span class="string">&#x27;255&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>收藏于 2011-03-09<br>来自于百度空间</p>
]]></content>
      <categories>
        <category>未分类</category>
      </categories>
  </entry>
  <entry>
    <title>QMenu 自定义样式</title>
    <url>/post/f9be.html</url>
    <content><![CDATA[<p>通过QSS 去掉菜单前面的对勾。用颜色表示 checked 状态。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"> QMenu::item &#123;</span><br><span class="line">     padding:8px 32px;/*设置菜单项文字上下和左右的内边距，效果就是菜单中的条目左右上下有了间隔*/</span><br><span class="line">     margin:0px 8px;/*设置菜单项的外边距*/</span><br><span class="line">     border-bottom:1px solid #DBDBDB;/*为菜单项之间添加横线间隔*/</span><br><span class="line">     padding-left:0px;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> QMenu::item:selected &#123; /* when user selects item using mouse or keyboard */</span><br><span class="line">     background-color: #00fff9;/*这一句是设置菜单项鼠标经过选中的样式*/</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">QMenu::item:checked &#123; /* checked */</span><br><span class="line">    background-color: #ff0000;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QMenu::indicator &#123; /* delete the default icon v */</span><br><span class="line">    image: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>效果图：</p>
<p><img src="/post/f9be/image-20201121110545903.png" alt="image-20201121110545903"></p>
]]></content>
      <categories>
        <category>Qt</category>
        <category>GUI</category>
      </categories>
      <tags>
        <tag>Qt</tag>
        <tag>GUI</tag>
      </tags>
  </entry>
  <entry>
    <title>QNAP安装Transmission下载工具</title>
    <url>/post/f9d4.html</url>
    <content><![CDATA[<h1 id="QNAP安装Transmission下载工具"><a href="#QNAP安装Transmission下载工具" class="headerlink" title="QNAP安装Transmission下载工具"></a>QNAP安装Transmission下载工具</h1><p>本文介绍如何在QNAP NAS上通过Docker安装Transmission下载工具，这是一个轻量级的BT下载客户端。</p>
<h2 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h2><ul>
<li>QNAP NAS已安装并运行Docker应用</li>
<li>已创建用于存放Transmission数据的共享文件夹</li>
</ul>
<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><h3 id="方法一：使用Docker命令行安装"><a href="#方法一：使用Docker命令行安装" class="headerlink" title="方法一：使用Docker命令行安装"></a>方法一：使用Docker命令行安装</h3><p>通过SSH登录到QNAP NAS，执行以下Docker命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker create \</span><br><span class="line">  --name=transmission \</span><br><span class="line">  -e PUID=1000 \</span><br><span class="line">  -e PGID=1000 \</span><br><span class="line">  -e TZ=Asia/Shanghai \</span><br><span class="line">  -e TRANSMISSION_WEB_HOME=/combustion-release/ `#可选的Web界面` \</span><br><span class="line">  -p 9091:9091 \</span><br><span class="line">  -p 51413:51413 \</span><br><span class="line">  -p 51413:51413/udp \</span><br><span class="line">  -v /share/homes/docker/trans/data:/config \</span><br><span class="line">  -v /share/homes/docker/trans/downloads:/downloads \</span><br><span class="line">  -v /share/homes/docker/trans/watch:/watch \</span><br><span class="line">  --restart unless-stopped \</span><br><span class="line">  linuxserver/transmission</span><br></pre></td></tr></table></figure>

<h3 id="方法二：使用QNAP-Container-Station安装"><a href="#方法二：使用QNAP-Container-Station安装" class="headerlink" title="方法二：使用QNAP Container Station安装"></a>方法二：使用QNAP Container Station安装</h3><ol>
<li>打开QNAP Container Station</li>
<li>搜索”linuxserver&#x2F;transmission”</li>
<li>下载并创建容器</li>
<li>在高级设置中配置端口映射和卷映射</li>
<li>设置环境变量</li>
<li>启动容器</li>
</ol>
<h2 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h2><h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><ul>
<li><strong>PUID&#x3D;1000</strong>：用户ID，建议设置为admin用户的ID</li>
<li><strong>PGID&#x3D;1000</strong>：组ID，建议设置为administrators组的ID</li>
<li><strong>TZ&#x3D;Asia&#x2F;Shanghai</strong>：时区设置，使用中国标准时间</li>
<li><strong>TRANSMISSION_WEB_HOME</strong>：可选，自定义Web界面</li>
</ul>
<h3 id="端口映射"><a href="#端口映射" class="headerlink" title="端口映射"></a>端口映射</h3><ul>
<li><strong>9091:9091</strong>：Web界面访问端口</li>
<li><strong>51413:51413</strong>：BT下载TCP端口</li>
<li><strong>51413:51413&#x2F;udp</strong>：BT下载UDP端口</li>
</ul>
<h3 id="卷映射"><a href="#卷映射" class="headerlink" title="卷映射"></a>卷映射</h3><ul>
<li><strong>&#x2F;share&#x2F;homes&#x2F;docker&#x2F;trans&#x2F;data:&#x2F;config</strong>：配置文件存放路径</li>
<li><strong>&#x2F;share&#x2F;homes&#x2F;docker&#x2F;trans&#x2F;downloads:&#x2F;downloads</strong>：下载文件保存路径</li>
<li><strong>&#x2F;share&#x2F;homes&#x2F;docker&#x2F;trans&#x2F;watch:&#x2F;watch</strong>：监控文件夹，放入此文件夹的种子会自动开始下载</li>
</ul>
<h2 id="访问Transmission"><a href="#访问Transmission" class="headerlink" title="访问Transmission"></a>访问Transmission</h2><p>安装完成后，通过以下方式访问Transmission：</p>
<ol>
<li>打开浏览器，输入<code>http://QNAP_IP:9091</code></li>
<li>首次访问不需要登录密码（建议设置密码）</li>
</ol>
<h2 id="配置说明"><a href="#配置说明" class="headerlink" title="配置说明"></a>配置说明</h2><h3 id="设置登录密码"><a href="#设置登录密码" class="headerlink" title="设置登录密码"></a>设置登录密码</h3><ol>
<li>进入Web界面</li>
<li>点击右上角设置图标</li>
<li>选择”远程”选项卡</li>
<li>勾选”要求身份验证”</li>
<li>设置用户名和密码</li>
<li>点击”保存设置”</li>
</ol>
<h3 id="配置下载设置"><a href="#配置下载设置" class="headerlink" title="配置下载设置"></a>配置下载设置</h3><ol>
<li>进入Web界面</li>
<li>点击右上角设置图标</li>
<li>选择”下载”选项卡</li>
<li>设置下载文件夹、限速等参数</li>
<li>点击”保存设置”</li>
</ol>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="1-无法访问Web界面"><a href="#1-无法访问Web界面" class="headerlink" title="1. 无法访问Web界面"></a>1. 无法访问Web界面</h3><ul>
<li>检查容器是否正常运行</li>
<li>确认端口映射是否正确</li>
<li>检查防火墙设置</li>
</ul>
<h3 id="2-下载速度慢"><a href="#2-下载速度慢" class="headerlink" title="2. 下载速度慢"></a>2. 下载速度慢</h3><ul>
<li>检查QNAP的网络连接</li>
<li>确保端口51413已在路由器上进行端口转发</li>
<li>调整Transmission的下载设置</li>
</ul>
<h3 id="3-权限问题"><a href="#3-权限问题" class="headerlink" title="3. 权限问题"></a>3. 权限问题</h3><ul>
<li>确认PUID和PGID设置正确</li>
<li>检查共享文件夹的权限设置</li>
</ul>
<h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul>
<li>建议定期备份Transmission的配置文件和种子</li>
<li>合理设置上传限速，避免影响其他网络应用</li>
<li>使用监控文件夹功能可以方便地管理下载任务</li>
</ul>
]]></content>
      <tags>
        <tag>qnap</tag>
        <tag>下载</tag>
        <tag>docker</tag>
        <tag>transmission</tag>
      </tags>
  </entry>
  <entry>
    <title>QWizard不能显示完成与取消按钮的问题</title>
    <url>/post/93ca.html</url>
    <content><![CDATA[<p>我使用的是Qt5.4.2, 遇到这个问题。对话框显示出来后，用鼠标改变一下大小就能显示出来。看起来像Qt的bug。 经反复尝试，发现修改QWizard的属性styleSheet为ClassicStyle就可以解决这个问题。 具体原因不清楚。</p>
]]></content>
  </entry>
  <entry>
    <title>Qt Creator选择 run in terminal后不能启动程序的问题</title>
    <url>/post/604c.html</url>
    <content><![CDATA[<p>升级4.X以后，出现这个问题，一直卡在加载程序的地方，取消掉这个选项就没有问题。<br>解决的方法是：不要使用默认的终端程序，使用 xterm</p>
<p>Under Tools-Options-Environment-General, change the terminal value from x-terminal-emulator -e to  &#x2F;usr&#x2F;bin&#x2F;xterm -e.</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>Qt下载链接</title>
    <url>/post/b963.html</url>
    <content><![CDATA[<ol>
<li>所有Qt版本下载地址：</li>
</ol>
<p><a href="http://download.qt.io/archive/qt/">http://download.qt.io/archive/qt/</a></p>
<ol start="2">
<li>所有Qt Creator下载地址：</li>
</ol>
<p><a href="http://download.qt.io/archive/qtcreator/">http://download.qt.io/archive/qtcreator/</a></p>
<ol start="3">
<li>所有Qt VS开发插件下载地址:</li>
</ol>
<p><a href="http://download.qt.io/archive/vsaddin/">http://download.qt.io/archive/vsaddin/</a></p>
<ol start="4">
<li>Qt相关下载大全</li>
</ol>
<p><a href="http://download.qt.io/">http://download.qt.io/</a></p>
]]></content>
      <categories>
        <category>Qt</category>
      </categories>
      <tags>
        <tag>Qt</tag>
        <tag>Links</tag>
      </tags>
  </entry>
  <entry>
    <title>Qt对话框窗口设置</title>
    <url>/post/2de4.html</url>
    <content><![CDATA[<h1 id="设置窗口标题"><a href="#设置窗口标题" class="headerlink" title="设置窗口标题"></a>设置窗口标题</h1><figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line">setWindowTitle(<span class="string">&quot;Touch Screen&quot;</span>)<span class="comment">; </span></span><br></pre></td></tr></table></figure>

<h1 id="设置窗口固定大小"><a href="#设置窗口固定大小" class="headerlink" title="设置窗口固定大小"></a>设置窗口固定大小</h1><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="built_in">setFixedSize</span>(QT_WINDOW_WIDTH_FOR_TOUCH, QT_WINDOW_HEIGHT_FOR_TOUCH);</span><br></pre></td></tr></table></figure>

<h1 id="设置窗口显示在另外一个显示器上"><a href="#设置窗口显示在另外一个显示器上" class="headerlink" title="设置窗口显示在另外一个显示器上"></a>设置窗口显示在另外一个显示器上</h1><figure class="highlight isbl"><table><tr><td class="code"><pre><span class="line"><span class="variable">QDesktopWidget</span>* <span class="variable">desktop</span> = <span class="variable">QApplication</span>::<span class="function"><span class="title">desktop</span>();</span></span><br><span class="line"><span class="function"><span class="variable"><span class="keyword">if</span></span> (<span class="variable">desktop</span>-&gt;<span class="title">screenCount</span>() &gt; <span class="number">1</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="title">setGeometry</span>(<span class="variable">desktop</span>-&gt;<span class="title">screenGeometry</span>(<span class="number">1</span>));</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>

<h1 id="在非主线程更新显示"><a href="#在非主线程更新显示" class="headerlink" title="在非主线程更新显示"></a>在非主线程更新显示</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">QMetaObject::<span class="built_in">invokeMethod</span>(<span class="keyword">this</span>, <span class="string">&quot;asyncUpdateGui&quot;</span>, Qt::QueuedConnection);</span><br></pre></td></tr></table></figure>

<p>其中 asyncUpdateGui 的定义：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function">Q_INVOKABLE <span class="keyword">void</span> <span class="title">asyncUpdateGui</span>()</span>;   </span><br></pre></td></tr></table></figure>

<p>实现：</p>
<figure class="highlight isbl"><table><tr><td class="code"><pre><span class="line"><span class="variable">void</span> <span class="variable">xApplicationWindow</span>::<span class="function"><span class="title">asyncUpdateGui</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="title">update</span>();</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>qt</category>
        <category>c++</category>
      </categories>
      <tags>
        <tag>qt</tag>
      </tags>
  </entry>
  <entry>
    <title>Qt设置系统时间</title>
    <url>/post/f0e6.html</url>
    <content><![CDATA[<figure class="highlight lasso"><table><tr><td class="code"><pre><span class="line">QString <span class="built_in">date</span> = <span class="string">&quot;date -s \&quot;2007-08-03 14:15:00\&quot;&quot;</span> </span><br><span class="line">QProcess<span class="type">::startDetached</span>(<span class="built_in">date</span>);</span><br><span class="line">QProcess<span class="type">::startDetached</span>(<span class="string">&quot;hwclock -w&quot;</span>); <span class="comment">// 同步系统时间</span></span><br><span class="line">QProcess<span class="type">::startDetached</span>(<span class="string">&quot;sync&quot;</span>); <span class="comment">// 保存配置</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Qt</category>
      </categories>
      <tags>
        <tag>Qt</tag>
      </tags>
  </entry>
  <entry>
    <title>Redmine 联接 https 地址的svn服务器</title>
    <url>/post/80f1.html</url>
    <content><![CDATA[<p><a href="https://blog.csdn.net/taonull/article/details/39249729">https://blog.csdn.net/taonull/article/details/39249729</a> 1.打开redmine控制台； 2.运行svn list –xml <a href="https://svn地址;/">https://svn地址；</a> 3.提示证书时选择p（永久保存ssl凭证）； 4.运行成功后，找到subversion_adapter.rb(redmine文件夹\apps\redmine\htdocs\lib\redmine\scm\adapters)，找到 def credentials_string <code>str &lt;&lt; &quot; --username #{shell_quote(@login)}&quot; unless @login.blank? str &lt;&lt; &quot; --password #{shell_quote(@password)}&quot; unless @login.blank? || @password.blank? str &lt;&lt; &quot; --no-auth-cache --non-interactive&quot;</code> 修改为： <code>str &lt;&lt; &quot; --username #{shell_quote(@login)}&quot; unless @login.blank? str &lt;&lt; &quot; --password #{shell_quote(@password)}&quot; unless @login.blank? || @password.blank? str &lt;&lt; &quot; --trust-server-cert --no-auth-cache --non-interactive --config-dir \&quot;c:/Users/Administrator/AppData/Roaming/Subversion\&quot;&quot;</code></p>
]]></content>
  </entry>
  <entry>
    <title>SPI 总线</title>
    <url>/post/e5b.html</url>
    <content><![CDATA[<!-- 注意：本文中的图片已转换为本地引用，请确保将图片文件下载到 source/_posts/SPI 总线/ 目录下 -->

<h1 id="SPI总线技术详解"><a href="#SPI总线技术详解" class="headerlink" title="SPI总线技术详解"></a>SPI总线技术详解</h1><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h2><p>串行外设接口（Serial Peripheral Interface，SPI）是由Motorola公司于1979年提出的一种同步串行通信协议，主要用于短距离、高速的芯片间数据传输。SPI是一种高速、全双工、同步的通信总线，采用主从（Master-Slave）架构，广泛应用于嵌入式系统中微控制器与外围设备的通信，如传感器、存储设备、显示驱动器、网络控制器等。</p>
<h2 id="2-SPI总线的特点与特性"><a href="#2-SPI总线的特点与特性" class="headerlink" title="2. SPI总线的特点与特性"></a>2. SPI总线的特点与特性</h2><h3 id="2-1-基本特点"><a href="#2-1-基本特点" class="headerlink" title="2.1 基本特点"></a>2.1 基本特点</h3><ul>
<li><strong>同步通信</strong>：使用单独的时钟信号线进行数据同步</li>
<li><strong>全双工通信</strong>：支持同时发送和接收数据</li>
<li><strong>非差分信号</strong>：采用单端信号传输</li>
<li><strong>总线式架构</strong>：通过片选信号实现多设备连接</li>
<li><strong>主从通信模式</strong>：由主设备控制通信时序</li>
</ul>
<h3 id="2-2-主要优点"><a href="#2-2-主要优点" class="headerlink" title="2.2 主要优点"></a>2.2 主要优点</h3><ul>
<li><strong>高速数据传输</strong>：速率通常可达几MHz到几十MHz，部分高性能SPI接口甚至支持上百MHz的数据传输</li>
<li><strong>通信协议简单</strong>：协议实现相对简单，硬件开销小</li>
<li><strong>全双工通信能力</strong>：可在同一时钟周期内同时发送和接收数据</li>
<li><strong>灵活的时钟极性和相位配置</strong>：通过CPOL和CPHA参数可配置四种不同的通信模式，适应不同外设需求</li>
<li><strong>支持多从设备</strong>：通过多个片选信号可连接多个从设备</li>
</ul>
<h3 id="2-3-主要缺点"><a href="#2-3-主要缺点" class="headerlink" title="2.3 主要缺点"></a>2.3 主要缺点</h3><ul>
<li><strong>没有内置的错误检测机制</strong>：不具备奇偶校验或CRC等错误校验功能</li>
<li><strong>缺乏流量控制机制</strong>：没有应答信号确认数据是否被正确接收</li>
<li><strong>信号线数量较多</strong>：相比I2C总线需要更多的信号线</li>
<li><strong>抗噪声干扰能力较弱</strong>：采用单端信号传输，在嘈杂环境中可靠性较低</li>
<li><strong>仅支持单主设备</strong>：总线上只能有一个主设备控制通信</li>
</ul>
<h2 id="3-SPI总线的硬件架构"><a href="#3-SPI总线的硬件架构" class="headerlink" title="3. SPI总线的硬件架构"></a>3. SPI总线的硬件架构</h2><p>SPI总线通常需要4根信号线，在单向传输的情况下也可以使用3根信号线：</p>
<ul>
<li><strong>MOSI（Master Out Slave In）</strong>：主设备数据输出，从设备数据输入</li>
<li><strong>MISO（Master In Slave Out）</strong>：主设备数据输入，从设备数据输出</li>
<li><strong>SCLK（Serial Clock）</strong>：串行时钟信号，由主设备产生并控制</li>
<li><strong>CS&#x2F;SS（Chip Select&#x2F;Slave Select）</strong>：片选信号，由主设备控制，用于选择要通信的从设备</li>
</ul>
<p><img src="/post/e5b/Q13S5At43CUc.svg" alt="SPI总线硬件连接示意图"></p>
<p>当系统中有多个SPI从设备时，主设备需要为每个从设备提供独立的片选信号。通信时，主设备通过拉低特定从设备的片选信号来选中该设备，未被选中的设备则忽略总线上的通信。</p>
<h2 id="4-SPI通信协议详解"><a href="#4-SPI通信协议详解" class="headerlink" title="4. SPI通信协议详解"></a>4. SPI通信协议详解</h2><h3 id="4-1-通信时序与工作模式"><a href="#4-1-通信时序与工作模式" class="headerlink" title="4.1 通信时序与工作模式"></a>4.1 通信时序与工作模式</h3><p>SPI通信有四种不同的工作模式，这些模式由时钟极性（CPOL，Clock Polarity）和时钟相位（CPHA，Clock Phase）两个参数决定：</p>
<table>
<thead>
<tr>
<th>SPI模式</th>
<th>CPOL值</th>
<th>CPHA值</th>
<th>时钟空闲状态</th>
<th>数据采样边沿</th>
</tr>
</thead>
<tbody><tr>
<td>Mode 0</td>
<td>0</td>
<td>0</td>
<td>低电平</td>
<td>上升沿</td>
</tr>
<tr>
<td>Mode 1</td>
<td>0</td>
<td>1</td>
<td>低电平</td>
<td>下降沿</td>
</tr>
<tr>
<td>Mode 2</td>
<td>1</td>
<td>0</td>
<td>高电平</td>
<td>下降沿</td>
</tr>
<tr>
<td>Mode 3</td>
<td>1</td>
<td>1</td>
<td>高电平</td>
<td>上升沿</td>
</tr>
</tbody></table>
<ul>
<li><p><strong>时钟极性（CPOL）</strong>：决定SCLK在空闲状态时的电平状态</p>
<ul>
<li>CPOL&#x3D;0：SCLK在空闲状态为低电平</li>
<li>CPOL&#x3D;1：SCLK在空闲状态为高电平</li>
</ul>
</li>
<li><p><strong>时钟相位（CPHA）</strong>：决定数据采样是在时钟的第一个边沿还是第二个边沿</p>
<ul>
<li>CPHA&#x3D;0：在时钟的第一个边沿（从空闲状态开始的第一个跳变）进行数据采样</li>
<li>CPHA&#x3D;1：在时钟的第二个边沿进行数据采样</li>
</ul>
</li>
</ul>
<h3 id="4-2-数据传输过程"><a href="#4-2-数据传输过程" class="headerlink" title="4.2 数据传输过程"></a>4.2 数据传输过程</h3><p>SPI数据传输过程如下：</p>
<ol>
<li>主设备拉低目标从设备的片选信号（CS&#x2F;SS），表示开始通信</li>
<li>主设备通过SCLK线发送时钟信号</li>
<li>在每个时钟周期内：<ul>
<li>主设备在MOSI线上输出一位数据</li>
<li>从设备在MISO线上输出一位数据（全双工通信）</li>
<li>根据CPHA的值，在特定的时钟边沿进行数据采样</li>
</ul>
</li>
<li>数据传输完毕后，主设备释放片选信号（拉高CS&#x2F;SS），表示通信结束</li>
</ol>
<p>SPI通信以字节（8位）或更大的数据帧为单位进行传输，数据通常以MSB（最高有效位）优先的方式发送，但也有一些设备支持LSB（最低有效位）优先的方式。</p>
<p><img src="/post/e5b/DrlkwQgyKQ6W.svg" alt="SPI通信时序图"><br><img src="/post/e5b/aJgCAIwhwlHC.svg" alt="SPI不同模式时序对比"></p>
<h3 id="4-3-多字节传输与流控制"><a href="#4-3-多字节传输与流控制" class="headerlink" title="4.3 多字节传输与流控制"></a>4.3 多字节传输与流控制</h3><p>SPI协议本身没有定义特定的流控制机制，也没有内置的地址或命令结构。在实际应用中，通常采用以下方式实现多字节数据传输：</p>
<ul>
<li><strong>命令+数据模式</strong>：首先发送命令字节，然后发送或接收数据字节</li>
<li><strong>地址+数据模式</strong>：首先发送地址字节，然后发送或接收数据字节</li>
<li><strong>自定义协议</strong>：根据特定应用需求定义数据帧格式和传输规则</li>
</ul>
<p>需要注意的是，SPI通信没有像I2C那样的开始和停止信号，通信的开始和结束通过片选信号的拉低和拉高来表示。</p>
<h2 id="5-SPI与其他通信协议的对比"><a href="#5-SPI与其他通信协议的对比" class="headerlink" title="5. SPI与其他通信协议的对比"></a>5. SPI与其他通信协议的对比</h2><h3 id="5-1-SPI与I2C的对比"><a href="#5-1-SPI与I2C的对比" class="headerlink" title="5.1 SPI与I2C的对比"></a>5.1 SPI与I2C的对比</h3><table>
<thead>
<tr>
<th>特性</th>
<th>SPI</th>
<th>I2C</th>
</tr>
</thead>
<tbody><tr>
<td>数据线数量</td>
<td>4根（MOSI、MISO、SCLK、CS）</td>
<td>2根（SDA、SCL）</td>
</tr>
<tr>
<td>通信方式</td>
<td>全双工</td>
<td>半双工</td>
</tr>
<tr>
<td>传输速率</td>
<td>通常较高（可达几十MHz或更高）</td>
<td>相对较低（通常为100Kbps-4Mbps）</td>
</tr>
<tr>
<td>设备寻址</td>
<td>通过片选信号</td>
<td>通过地址帧</td>
</tr>
<tr>
<td>主设备数量</td>
<td>只能有一个主设备</td>
<td>支持多个主设备</td>
</tr>
<tr>
<td>错误检测</td>
<td>无内置机制</td>
<td>支持ACK&#x2F;NACK应答</td>
</tr>
<tr>
<td>抗干扰能力</td>
<td>较弱（单端信号）</td>
<td>较强（开漏输出+上拉电阻）</td>
</tr>
<tr>
<td>协议复杂度</td>
<td>相对简单</td>
<td>相对复杂</td>
</tr>
<tr>
<td>实现成本</td>
<td>较高（需要更多引脚）</td>
<td>较低</td>
</tr>
</tbody></table>
<h3 id="5-2-SPI、I2C、UART和CAN的应用场景对比"><a href="#5-2-SPI、I2C、UART和CAN的应用场景对比" class="headerlink" title="5.2 SPI、I2C、UART和CAN的应用场景对比"></a>5.2 SPI、I2C、UART和CAN的应用场景对比</h3><table>
<thead>
<tr>
<th>协议</th>
<th>应用场景</th>
<th>传输距离</th>
<th>速率</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>SPI</td>
<td>板内芯片间通信（如MCU与传感器、显示屏、Flash等）</td>
<td>短距离（几厘米至几十厘米）</td>
<td>高（几MHz至几十MHz）</td>
<td>高速、全双工、同步、单主多从</td>
</tr>
<tr>
<td>I2C</td>
<td>板内芯片间通信（如MCU与低速率传感器、实时时钟等）</td>
<td>短距离（通常不超过1米）</td>
<td>中低（100Kbps-4Mbps）</td>
<td>多主多从、地址寻址、半双工</td>
</tr>
<tr>
<td>UART</td>
<td>设备间通信（如MCU与PC、模块间通信）</td>
<td>中等距离（通常不超过10米）</td>
<td>中低（通常不超过1Mbps）</td>
<td>异步、点对点、无需时钟线</td>
</tr>
<tr>
<td>CAN</td>
<td>工业控制、汽车电子等领域的网络通信</td>
<td>长距离（最远可达10公里，取决于速率）</td>
<td>中高（最高可达1Mbps）</td>
<td>多主、错误检测、优先级仲裁、高可靠性</td>
</tr>
</tbody></table>
<h4 id="SPI应用场景特点"><a href="#SPI应用场景特点" class="headerlink" title="SPI应用场景特点"></a>SPI应用场景特点</h4><p>SPI适用于需要高速数据传输且对可靠性要求不是极高的短距离板内通信场景，如：</p>
<ul>
<li>微控制器与外部Flash&#x2F;EEPROM存储芯片通信</li>
<li>图像传感器与处理器之间的数据传输</li>
<li>LCD&#x2F;OLED显示屏驱动</li>
<li>音频编解码器</li>
<li>模数&#x2F;数模转换器</li>
</ul>
<h4 id="I2C应用场景特点"><a href="#I2C应用场景特点" class="headerlink" title="I2C应用场景特点"></a>I2C应用场景特点</h4><p>I2C适用于低速、多设备、对连接线数量敏感的应用场景，如：</p>
<ul>
<li>传感器网络（温度、湿度、压力等传感器）</li>
<li>实时时钟模块</li>
<li>EEPROM存储</li>
<li>电源管理芯片</li>
</ul>
<h4 id="UART应用场景特点"><a href="#UART应用场景特点" class="headerlink" title="UART应用场景特点"></a>UART应用场景特点</h4><p>UART适用于设备间点对点通信，如：</p>
<ul>
<li>计算机与外部设备通信（调试接口、串口设备）</li>
<li>模块间通信（如GPS模块、蓝牙模块等）</li>
<li>简单的串行通信链路</li>
</ul>
<h4 id="CAN应用场景特点"><a href="#CAN应用场景特点" class="headerlink" title="CAN应用场景特点"></a>CAN应用场景特点</h4><p>CAN适用于需要高可靠性、长距离、多节点的网络通信场景，如：</p>
<ul>
<li>汽车电子网络</li>
<li>工业控制系统</li>
<li>电梯控制</li>
<li>机器人控制系统</li>
<li>船舶电子系统</li>
</ul>
<h2 id="6-SPI接口的实现与设计考虑"><a href="#6-SPI接口的实现与设计考虑" class="headerlink" title="6. SPI接口的实现与设计考虑"></a>6. SPI接口的实现与设计考虑</h2><h3 id="6-1-硬件实现"><a href="#6-1-硬件实现" class="headerlink" title="6.1 硬件实现"></a>6.1 硬件实现</h3><p>SPI接口可以通过硬件或软件实现：</p>
<ul>
<li><strong>硬件SPI</strong>：大多数微控制器都内置了SPI控制器，可自动处理时序和数据传输</li>
<li><strong>软件SPI</strong>：通过GPIO引脚和软件模拟SPI时序，适用于没有硬件SPI控制器的情况</li>
</ul>
<h3 id="6-2-设计注意事项"><a href="#6-2-设计注意事项" class="headerlink" title="6.2 设计注意事项"></a>6.2 设计注意事项</h3><ol>
<li><strong>信号完整性</strong>：高速SPI通信需要考虑信号完整性问题，包括传输线阻抗匹配、信号反射、串扰等</li>
<li><strong>电源去耦</strong>：为SPI设备提供良好的电源去耦，减少噪声干扰</li>
<li><strong>接地处理</strong>：确保良好的接地，避免地环路</li>
<li><strong>时钟频率选择</strong>：根据从设备的最高支持频率和传输距离选择合适的时钟频率</li>
<li><strong>模式匹配</strong>：确保主设备和从设备的SPI工作模式（CPOL和CPHA）一致</li>
<li><strong>片选信号处理</strong>：正确处理片选信号的时序，避免信号竞争</li>
<li><strong>多从设备冲突</strong>：合理设计片选信号的控制逻辑，避免多从设备同时被选中</li>
</ol>
<h2 id="7-总结"><a href="#7-总结" class="headerlink" title="7. 总结"></a>7. 总结</h2><p>SPI总线是一种高速、全双工、同步的串行通信协议，以其简单的实现和高速的数据传输特性，在嵌入式系统中得到了广泛的应用。尽管SPI协议在错误检测和多主设备支持方面存在一些局限性，但其在需要高速数据传输的短距离通信场景中仍然是首选方案之一。</p>
<p>在实际应用中，选择SPI还是其他通信协议（如I2C、UART、CAN等）应根据具体的应用需求、传输距离、速率要求、设备数量以及系统复杂度等因素综合考虑。</p>
]]></content>
      <categories>
        <category>外设</category>
        <category>嵌入式</category>
      </categories>
      <tags>
        <tag>外设</tag>
        <tag>嵌入式</tag>
      </tags>
  </entry>
  <entry>
    <title>理查德・希普（Richard Hipp）：SQLite 之父与轻量化技术革命的引领者</title>
    <url>/post/9c76.html</url>
    <content><![CDATA[<h1 id="理查德・希普（Richard-Hipp）：SQLite-之父与轻量化技术革命的引领者"><a href="#理查德・希普（Richard-Hipp）：SQLite-之父与轻量化技术革命的引领者" class="headerlink" title="理查德・希普（Richard Hipp）：SQLite 之父与轻量化技术革命的引领者"></a>理查德・希普（Richard Hipp）：SQLite 之父与轻量化技术革命的引领者</h1><h2 id="一、人物概览"><a href="#一、人物概览" class="headerlink" title="一、人物概览"></a>一、人物概览</h2><p>理查德・德怀恩・希普（D. Richard Hipp），1961 年 4 月 9 日出生于美国北卡罗来纳州夏洛特市，在佐治亚州亚特兰大郊区长大，是全球装机量最高的数据库引擎 SQLite 的创造者与核心维护者，同时也是分布式版本控制系统 Fossil、轻量级 Web 服务器 Althttpd 等多款影响深远的开源工具的开发者。他以 “问题驱动” 的开发理念和 “极简高效” 的技术哲学闻名，其主导的项目已渗透到嵌入式设备、移动终端、航空航天等众多关键领域，成为数字基础设施的重要基石。</p>
<h2 id="二、成长轨迹与学术积淀"><a href="#二、成长轨迹与学术积淀" class="headerlink" title="二、成长轨迹与学术积淀"></a>二、成长轨迹与学术积淀</h2><h3 id="（一）早年启蒙：在匮乏中孕育创造欲"><a href="#（一）早年启蒙：在匮乏中孕育创造欲" class="headerlink" title="（一）早年启蒙：在匮乏中孕育创造欲"></a>（一）早年启蒙：在匮乏中孕育创造欲</h3><p>理查德对计算机的兴趣始于 20 世纪 70 年代中期，1970 年代读 9 年级时，一次偶然接触电传打字机连接的大型计算机的经历，让他下定决心学习编程。当时他借遍学校图书馆仅有的 3 本计算机书籍，连夜读完并开始钻研 BASIC 语言。这种早期的探索热情，为他日后的技术道路埋下了种子。</p>
<p>硬件条件的匮乏进一步激发了他的动手能力。Apple II 推出后，因经济有限，他仅购买主板，自行焊接键盘、电源等组件组装计算机；又因缺乏显示器，便通过调制射频信号将输出画面投射到电视机上，在 40 字符宽、24 行高的简陋界面中完成编程实践。这种 “从零构建” 的经历，深刻塑造了他后来追求极简、自包含系统架构的设计理念。</p>
<p>1979 年，理查德从斯通山高中毕业，随后进入佐治亚理工学院深造，于 1984 年获得电子工程硕士学位。毕业后，他加入美国电话电报公司（AT&amp;T）旗下的贝尔实验室工作三年，积累了扎实的工程实践经验。</p>
<h3 id="（二）学术深耕：从工程到计算语言学"><a href="#（二）学术深耕：从工程到计算语言学" class="headerlink" title="（二）学术深耕：从工程到计算语言学"></a>（二）学术深耕：从工程到计算语言学</h3><p>1989 年，理查德重返校园，进入杜克大学计算机科学系，师从艾伦・W・比尔曼教授，专注于计算语言学研究。1992 年，他获得博士学位，但彼时学术市场上博士人才饱和，他认为诸多候选人比自己更具竞争力，于是放弃学术道路，转而创办了自己的软件开发咨询公司。这段跨学科的学术经历，为他后来处理复杂系统中的逻辑与语言解析问题（如 SQL 语句编译）奠定了理论基础。</p>
<h2 id="三、核心成就：SQLite-的诞生与全球普及"><a href="#三、核心成就：SQLite-的诞生与全球普及" class="headerlink" title="三、核心成就：SQLite 的诞生与全球普及"></a>三、核心成就：SQLite 的诞生与全球普及</h2><h3 id="（一）缘起：军舰上的-“背锅”-与技术反思"><a href="#（一）缘起：军舰上的-“背锅”-与技术反思" class="headerlink" title="（一）缘起：军舰上的 “背锅” 与技术反思"></a>（一）缘起：军舰上的 “背锅” 与技术反思</h3><p>2000 年，理查德作为合同工为国防承包商通用动力子公司巴斯钢铁厂工作，负责美国海军驱逐舰 “奥斯卡・奥斯汀号” 的阀门控制系统开发。当时项目使用的 Informix 数据库频繁出现严重问题：作为独立进程运行的数据库体积庞大，无法适配舰船小型计算机，且经常因服务器故障导致系统瘫痪，弹出 “无法连接数据库服务器” 的错误提示 —— 而这种故障在战斗损管等紧急场景下可能造成致命后果。</p>
<p>作为负责维护的程序员，理查德被迫承担责任，却也因此萌生了颠覆性的思考：”为什么需要专门的服务器？为什么不直接从磁盘中读取数据？为什么不能尽量减轻数据库服务的依赖项？” 他发现，当时几乎所有数据库产品都附带庞大产品线，由一个个近似解堆砌而成，最终变得低效臃肿。恰逢此时美国联邦政府关门，他暂时失业，便利用待业时间着手开发一款轻量级数据库，解决实际项目中的痛点。</p>
<h3 id="（二）初创：极简架构的突破性设计"><a href="#（二）初创：极简架构的突破性设计" class="headerlink" title="（二）初创：极简架构的突破性设计"></a>（二）初创：极简架构的突破性设计</h3><p>2000 年，理查德用 C 语言完成了 SQLite 1.0 版本的开发。这款数据库引擎仅有几百 KB 大小，没有安装包，无需运维教程，最核心的创新在于摒弃了传统的客户 &#x2F; 服务器架构，直接通过磁盘文件存储数据，实现了无需独立服务器进程、零配置即可运行的特性。</p>
<p>最初版本采用了极具前瞻性的设计：将每个 SQL 语句视为独立程序，通过自建编译器转化为可执行的汇编代码，这种架构为后续的高性能表现奠定了基础。当时互联网尚处于拨号时代，美国宽带普及率仅 1%，理查德缺乏谷歌等工具辅助，完全依靠自身能力完成了从理念到实现的突破。</p>
<h3 id="（三）商业化与开源：从第一桶金到生态联盟"><a href="#（三）商业化与开源：从第一桶金到生态联盟" class="headerlink" title="（三）商业化与开源：从第一桶金到生态联盟"></a>（三）商业化与开源：从第一桶金到生态联盟</h3><p>2001 年，摩托罗拉看中 SQLite 的嵌入式优势，希望将其应用于新型手机操作系统，理查德给出 8 万美元授权报价，这成为 SQLite 的第一笔商业收入。对当时在开源道路上摸索的团队而言，这笔 “第一桶金” 的价值远超金钱本身，坚定了他们持续开发的信心。</p>
<p>此后，理查德相继与美国在线（AOL）达成合作，完成 CD 中的数据库需求。在诺基亚 Symbian OS 的数据库选型中，SQLite 击败 10 个竞争对手成为默认引擎，随后又获得 Mozilla 和 Adobe 的支持，共同组成 SQLite 联盟，为其发展壮大奠定了基础。值得一提的是，Mozilla 基金会 CEO 米切尔・贝克（Mitchell Baker）作为具有法务背景的 IT 商人，为 SQLite 提供了关键指导，帮助其建立稳定资金来源，同时保留了开发者主导的决策权利。</p>
<p>2005 年是 SQLite 发展的关键转折点：理查德决定将其开源，并于同年获得 Google O’Reilly 开源奖。他极具前瞻性地布局移动生态，早在 2005 年就与尚未被谷歌收购的 Android 开发团队接触，最终使 SQLite 成为 Android 系统核心组件。此外，团队还为黑莓、iPhone、Windows Mobile 等平台完成适配，押注移动赛道而非单一产品的策略获得巨大成功。</p>
<h3 id="（四）品质升华：航空级测试的极致追求"><a href="#（四）品质升华：航空级测试的极致追求" class="headerlink" title="（四）品质升华：航空级测试的极致追求"></a>（四）品质升华：航空级测试的极致追求</h3><p>在获得广泛应用后，理查德团队曾一度宣称 SQLite”不存在任何错误可能性”，但为航空企业罗克韦尔柯林斯服务的经历，让他们深刻认识到消费级电子与航空技术对软件质量的要求存在天壤之别。罗克韦尔柯林斯向其介绍了航空产品质量标准 DO-178B—— 这一标准虽仅有薄薄一册且售价数百美元，却具有极强的实践价值，遵守即可切实提升软件质量，其核心要求是 100% 的 MC&#x2F;DC（修正条件 &#x2F; 判定覆盖）测试覆盖率。</p>
<p>为达到这一标准，理查德带领团队花费一年时间执行 996 工作制，完成数十亿个测试用例，最终通过严苛的航空软件认证。这种对质量的极致追求，使 SQLite 成为少数能同时应用于消费电子和航空航天领域的数据库，进一步拓展了其应用边界。</p>
<h3 id="（五）全球影响：无处不在的数字基石"><a href="#（五）全球影响：无处不在的数字基石" class="headerlink" title="（五）全球影响：无处不在的数字基石"></a>（五）全球影响：无处不在的数字基石</h3><p>如今，SQLite 已成为世界核心基础设施，实现了 “无处不在” 的部署：从智能手机（微信、iMessages、WhatsApp 等社交软件的消息存储均依赖其实现）、网络浏览器，到汽车、电视机顶盒，甚至商用飞机航电系统，均能看到它的身影。它是全球装机量最高的数据库，仅在个人计算机中搜索 *.db 文件，就能发现其广泛存在。更令人意外的是，通用电气、日立等巨头早年就已在产品中采用 SQLite，理查德竟是在这些企业因出口管制需走法律流程时才知晓此事，可谓 “被白嫖多年” 却也印证了其技术的强大吸引力。</p>
<h2 id="四、技术生态：自给自足的工具链构建"><a href="#四、技术生态：自给自足的工具链构建" class="headerlink" title="四、技术生态：自给自足的工具链构建"></a>四、技术生态：自给自足的工具链构建</h2><p>理查德秉持 “自己动手解决问题” 的理念，围绕 SQLite 构建了一套完整的自研工具链，形成独特的技术生态闭环，每个工具均源于实际需求，体现了 “问题驱动” 的开发思路。</p>
<h3 id="（一）分布式版本控制系统-Fossil"><a href="#（一）分布式版本控制系统-Fossil" class="headerlink" title="（一）分布式版本控制系统 Fossil"></a>（一）分布式版本控制系统 Fossil</h3><p>出于对 Git 复杂性的不满，理查德开发了集代码管理、Wiki、错误跟踪、论坛功能于一体的分布式版本控制系统 Fossil。与 Git 相比，它具有三大核心优势：采用单一二进制文件，部署便捷，几分钟即可搭建包含社区功能的服务器；内置时间线视图，可在单屏展示所有变更摘要；原生支持 SQLite 存储，实现数据管理的一致性。</p>
<p>有趣的是，SQLite 项目使用 Fossil 进行版本控制，而 Fossil 又依赖 SQLite 存储数据，形成相互依存的生态关系。2024 年，理查德宣布 SQLite 计划在 3.48 版本周期中重构构建流程，从 GNU Autotools 转向其在 Fossil 项目中已成功应用 13 年的 Auto Setup 工具，足见他对自研工具的信任与依赖。</p>
<h3 id="（二）轻量级-Web-服务器-Althttpd"><a href="#（二）轻量级-Web-服务器-Althttpd" class="headerlink" title="（二）轻量级 Web 服务器 Althttpd"></a>（二）轻量级 Web 服务器 Althttpd</h3><p>为满足 SQLite 官网的部署需求，理查德开发了仅单个 C 文件的 Web 服务器 Althttpd。该服务器以安全、低资源占用为特色，无需复杂配置，可直接嵌入应用程序，完美延续了轻量化设计哲学。自 2004 年起，它便支撑<a href="https://sqlite.org/">sqlite.org</a>运行，每天处理 50 万个 HTTP 请求，传输 200GB 数据，展现出极强的稳定性与高效性。</p>
<h3 id="（三）其他关键工具"><a href="#（三）其他关键工具" class="headerlink" title="（三）其他关键工具"></a>（三）其他关键工具</h3><p>除上述核心工具外，理查德还开发了多个实用工具：</p>
<ul>
<li><p><strong>CVSTrac</strong>：采用 SQLite 存储数据的 Bug 跟踪系统，后来成为 Trac 系统的灵感来源；</p>
</li>
<li><p><strong>Lemon</strong>：轻量级解析器生成器，为 SQL 语句的解析提供了关键支撑；</p>
<p>同时，他还是 TCL 核心团队成员，深度参与脚本语言生态建设。</p>
</li>
</ul>
<h2 id="五、开发哲学与方法论"><a href="#五、开发哲学与方法论" class="headerlink" title="五、开发哲学与方法论"></a>五、开发哲学与方法论</h2><p>理查德的技术实践蕴含着深刻的工程哲学，这些理念贯穿于他的所有项目，成为其产品持续成功的核心密码。</p>
<h3 id="（一）极简主义：”够用就好”-的设计原则"><a href="#（一）极简主义：”够用就好”-的设计原则" class="headerlink" title="（一）极简主义：”够用就好” 的设计原则"></a>（一）极简主义：”够用就好” 的设计原则</h3><p>他始终坚持 “够用就好” 的原则，拒绝为系统添加冗余功能。SQLite 的核心代码始终保持精简，通过模块化设计确保可移植性；Althttpd 仅实现 Web 服务器核心功能，却能满足高并发场景需求；Fossil 摒弃 Git 的复杂特性，聚焦开发者实际需要的核心功能。这种极简主义使其产品在资源受限的嵌入式环境中具备不可替代的优势。</p>
<h3 id="（二）问题驱动：从实际需求出发的开发逻辑"><a href="#（二）问题驱动：从实际需求出发的开发逻辑" class="headerlink" title="（二）问题驱动：从实际需求出发的开发逻辑"></a>（二）问题驱动：从实际需求出发的开发逻辑</h3><p>所有项目均源于真实问题的解决：SQLite 诞生于军舰数据库故障的痛点，Fossil 起因于对 Git 复杂性的不满，Althttpd 则是为满足官网部署需求。这种 “先有问题，后有解决方案” 的开发模式，使他的产品能够精准击中用户需求，避免陷入 “为技术而技术” 的误区。</p>
<h3 id="（三）极致测试：超越行业标准的质量管控"><a href="#（三）极致测试：超越行业标准的质量管控" class="headerlink" title="（三）极致测试：超越行业标准的质量管控"></a>（三）极致测试：超越行业标准的质量管控</h3><p>在罗克韦尔柯林斯项目的推动下，理查德将航空级质量标准融入开发流程，建立了严苛的测试体系。SQLite 的测试用例数量达到数十亿级，实现 100% 的 MC&#x2F;DC 覆盖，这种对质量的执着使其产品能够在航空航天等关键领域立足，也为消费级应用提供了可靠保障。</p>
<h3 id="（四）开源与商业的平衡：灵活的授权策略"><a href="#（四）开源与商业的平衡：灵活的授权策略" class="headerlink" title="（四）开源与商业的平衡：灵活的授权策略"></a>（四）开源与商业的平衡：灵活的授权策略</h3><p>理查德采用差异化的开源授权模式：SQLite 使用公有领域授权（Public Domain），允许用户无限制使用和修改，最大化技术传播范围；而 Fossil 等工具则采用 BSD 许可，为商业合作保留空间。这种策略既保证了核心技术的广泛普及，又通过商业咨询等方式获得持续运营的资金，实现了开源项目的可持续发展。</p>
<h3 id="（五）技术自主：拒绝过度依赖外部工具"><a href="#（五）技术自主：拒绝过度依赖外部工具" class="headerlink" title="（五）技术自主：拒绝过度依赖外部工具"></a>（五）技术自主：拒绝过度依赖外部工具</h3><p>理查德的团队在开发中坚持技术自主，尽量避免依赖外部工具。例如，他们不使用 Docker 进行构建测试，仅通过标准源码树开展工作；不依赖 GitHub 进行代码管理，仅将其作为只读镜像仓库；重构 SQLite 构建流程时，选择自研的 Auto Setup 而非主流工具。这种自主可控的模式，确保了项目不受外部生态变化的影响，保持长期稳定发展。</p>
<h2 id="六、个人生活与人格特质"><a href="#六、个人生活与人格特质" class="headerlink" title="六、个人生活与人格特质"></a>六、个人生活与人格特质</h2><h3 id="（一）家庭至上：以爱为名的事业传承"><a href="#（一）家庭至上：以爱为名的事业传承" class="headerlink" title="（一）家庭至上：以爱为名的事业传承"></a>（一）家庭至上：以爱为名的事业传承</h3><p>1994 年 4 月 16 日，理查德与金杰・G・威里克（Ginger G. Wyrick）结婚，随后将自己创办的公司更名为 “Hipp, Wyrick &amp; Company, Inc.”（Hwaci），并将全部股份转让给妻子。他曾幽默地表示，说服妻子嫁给他比编写 SQLite 更具挑战性，这种表述背后体现了他对家庭的重视。如今，他与妻子定居在北卡罗来纳州夏洛特市，共同经营公司。</p>
<h3 id="（二）低调务实：隐形的技术巨人"><a href="#（二）低调务实：隐形的技术巨人" class="headerlink" title="（二）低调务实：隐形的技术巨人"></a>（二）低调务实：隐形的技术巨人</h3><p>与贝佐斯、盖茨等知名科技巨头不同，理查德始终保持低调，专注于技术研发而非公众曝光。他很少出现在聚光灯下，却通过 SQLite 等技术深刻影响着数十亿人的日常生活。这种 “低调做事” 的风格，使其被称为 “数字世界的扫地僧”—— 轻巧、安静，却在幕后默默支撑着庞大的数字生态。</p>
<h3 id="（三）持续坚守：开源项目的-“终身家长”"><a href="#（三）持续坚守：开源项目的-“终身家长”" class="headerlink" title="（三）持续坚守：开源项目的 “终身家长”"></a>（三）持续坚守：开源项目的 “终身家长”</h3><p>理查德曾将开源项目比作 “唤醒父爱” 的事业，程序员对自己创建的开源项目往往 “从一而终”。自 2000 年开发 SQLite 以来，他始终担任核心维护者，2006 年后更是带领 Hwaci 公司全员专注于 SQLite 的增强与支持工作。这种长期坚守的精神，正是 SQLite 能够持续迭代、保持活力的关键。</p>
<h2 id="七、行业影响与历史地位"><a href="#七、行业影响与历史地位" class="headerlink" title="七、行业影响与历史地位"></a>七、行业影响与历史地位</h2><h3 id="（一）重塑数据库行业格局"><a href="#（一）重塑数据库行业格局" class="headerlink" title="（一）重塑数据库行业格局"></a>（一）重塑数据库行业格局</h3><p>理查德创造的 SQLite 颠覆了传统客户 &#x2F; 服务器数据库的范式，开创了嵌入式关系型数据库的新赛道。它以 “零配置、自包含、轻量级” 的特性，填补了资源受限环境下的数据存储需求空白，改变了数据库行业 “重服务器、重配置” 的传统认知，推动了数据库技术向轻量化、嵌入式方向发展。</p>
<h3 id="（二）赋能移动与嵌入式生态"><a href="#（二）赋能移动与嵌入式生态" class="headerlink" title="（二）赋能移动与嵌入式生态"></a>（二）赋能移动与嵌入式生态</h3><p>SQLite 的普及为移动互联网的发展提供了关键支撑。Android、iOS 等移动操作系统将其作为核心组件，使微信、iMessages 等亿级用户规模的应用得以实现高效的本地数据存储。在嵌入式领域，它广泛应用于汽车电子、智能家居、工业控制等场景，成为物联网时代的基础数据引擎。</p>
<h3 id="（三）树立开源项目典范"><a href="#（三）树立开源项目典范" class="headerlink" title="（三）树立开源项目典范"></a>（三）树立开源项目典范</h3><p>理查德主导的 SQLite 项目为开源生态提供了成功范本：它证明了小型团队（核心开发仅 3 人）也能创造改变世界的技术；其 “问题驱动 + 极致质量 + 灵活授权” 的模式，为开源项目的可持续发展提供了可借鉴的路径；而 “自给自足” 的工具链构建方式，则为开源项目的自主可控提供了新思路。</p>
<h3 id="（四）影响一代开发者的技术理念"><a href="#（四）影响一代开发者的技术理念" class="headerlink" title="（四）影响一代开发者的技术理念"></a>（四）影响一代开发者的技术理念</h3><p>理查德的极简主义设计哲学、问题驱动的开发思路和对质量的极致追求，深刻影响了一代开发者。越来越多的开发者开始反思 “功能堆砌” 的弊端，转向 “够用就好” 的务实设计；在开源项目中，”重视测试、自主可控” 的理念也因 SQLite 的成功而得到更广泛的认同。</p>
<h2 id="八、总结"><a href="#八、总结" class="headerlink" title="八、总结"></a>八、总结</h2><p>理查德・希普是一位兼具技术天赋与工程智慧的开发者，他从军舰上的数据库故障中获得灵感，用 C 语言写出了改变世界的 SQLite，又围绕其构建了自给自足的技术生态。他的成功不仅源于对技术的热爱与执着，更得益于 “极简务实、问题驱动、质量至上” 的开发哲学。</p>
<p>作为 “隐形的技术巨人”，他虽低调内敛，却通过 SQLite 等技术支撑起庞大的数字生态，成为移动互联网、嵌入式计算等领域的幕后英雄。他的故事证明了：真正强大的技术往往源于对实际问题的深刻洞察，而持续的坚守与极致的追求，终将成就改变世界的伟大创造。</p>
]]></content>
      <categories>
        <category>SQLite</category>
      </categories>
      <tags>
        <tag>SQLite</tag>
      </tags>
  </entry>
  <entry>
    <title>高德纳传记</title>
    <url>//donald-knuth-biography/</url>
    <content><![CDATA[<h3 id="Donald-Knuth（高德纳）：TEX排版系统之父"><a href="#Donald-Knuth（高德纳）：TEX排版系统之父" class="headerlink" title="Donald Knuth（高德纳）：TEX排版系统之父"></a>Donald Knuth（高德纳）：TEX排版系统之父</h3><p>在计算机科学的发展史上，Donald Ervin Knuth（唐纳德·欧文·克努特，中文名高德纳）是一位划时代的人物。他不仅是算法和程序设计技术的先驱，更因发明了TEX排版系统而深刻改变了学术出版的面貌。</p>
<h4 id="早慧的少年时代"><a href="#早慧的少年时代" class="headerlink" title="早慧的少年时代"></a>早慧的少年时代</h4><p>1938年1月10日，高德纳出生于美国威斯康辛州密尔沃基的一个教师家庭。受父亲影响，他自幼对学习和音乐产生了浓厚兴趣，并展现出非凡的天赋。8年级时，高德纳参加了当地糖果厂举办的单词排列比赛，他利用字典在家研究两周，创造出4500个单词的惊人成绩（远超裁判掌握的2000个），为班级赢得了冠军。</p>
<p>1956年，高德纳以各科平均97.5的创纪录高分从高中毕业，进入开思理工学院（现凯斯西储大学）攻读物理。然而，一次偶然的机会让他接触到了计算机，从此他的人生轨迹发生了改变。</p>
<h4 id="计算机科学领域的巨擘"><a href="#计算机科学领域的巨擘" class="headerlink" title="计算机科学领域的巨擘"></a>计算机科学领域的巨擘</h4><p>高德纳的学术生涯堪称传奇。他是算法和程序设计技术的先驱者，其代表作《计算机程序设计的艺术》（The Art of Computer Programming）被公认为计算机科学领域的经典巨著。这套多卷本著作系统阐述了计算机程序设计的基础理论和技术，对整个计算机科学的发展产生了深远影响。</p>
<p>1974年，年仅36岁的高德纳因其在计算机科学领域的杰出贡献，荣获计算机界的最高荣誉——图灵奖。这一奖项的获得，标志着他已经成为计算机科学领域的顶尖学者。</p>
<h4 id="TEX排版系统的诞生"><a href="#TEX排版系统的诞生" class="headerlink" title="TEX排版系统的诞生"></a>TEX排版系统的诞生</h4><p>高德纳对排版技术的不满源于一次不愉快的经历：他发现自己著作的第二版排版质量远不如第一版。这一契机促使他投身于排版系统的研发。经过十年的不懈努力，他于1978年推出了革命性的计算机排版系统TEX。</p>
<p>TEX是专为数学公式和科技文献设计的排版系统，以其极高的排版质量、稳定性和可移植性著称。高德纳为了确保TEX的稳定性，甚至宣布：当TEX的版本号达到3.14159265时，将不再对其核心功能进行修改，只修正严重错误——这一版本号的选择也体现了他对数学美的追求。</p>
<p>除了TEX，高德纳还发明了METAFONT字型设计系统，为计算机排版提供了完整的解决方案。这两个工具的结合，彻底改变了科技文献的排版方式，至今仍是数学、物理、计算机科学等领域学术出版的标准工具。</p>
<h4 id="其他重要贡献"><a href="#其他重要贡献" class="headerlink" title="其他重要贡献"></a>其他重要贡献</h4><p>高德纳的贡献不仅限于TEX和《计算机程序设计的艺术》。他提出的Knuth-Morris-Pratt字符串搜索算法、LR解析器等理论成果，对计算机科学的多个分支产生了深远影响。</p>
<p>值得一提的是，高德纳还是一位注重学术传承的教育家。他的著作和教学影响了几代计算机科学家，包括许多后来的图灵奖得主。在《计算机程序设计的艺术》中，他还引述了中国古代数学家明安图的研究成果，体现了他对全球数学文化的尊重和包容。</p>
<h4 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h4><p>Donald Knuth以其非凡的才华、严谨的治学态度和对完美的不懈追求，成为计算机科学领域的标杆性人物。他的贡献不仅在于创造了TEX这样改变行业的工具，更在于通过自己的著作和研究，为计算机科学奠定了坚实的理论基础。</p>
<p>正如《美国科学家》杂志所评价的，他的著作是20世纪最重要的物理科学类专著之一。高德纳的一生，完美诠释了一位学者对知识的热爱和对卓越的追求，他的影响将继续激励着一代又一代的计算机科学家和排版工作者。</p>
]]></content>
      <categories>
        <category>人物</category>
      </categories>
      <tags>
        <tag>人物传记</tag>
        <tag>计算机科学</tag>
        <tag>TEX</tag>
      </tags>
  </entry>
  <entry>
    <title>Thinkpad P50 更新后不能唤醒的问题</title>
    <url>/post/ef9f.html</url>
    <content><![CDATA[<p>显卡驱动问题：在Bios里面把集显禁用，就不会有这个问题。 但是按下面的这个链接处理，也能解决问题。 <a href="https://jingyan.baidu.com/article/c275f6ba308652e33d7567f8.html">https://jingyan.baidu.com/article/c275f6ba308652e33d7567f8.html</a></p>
]]></content>
  </entry>
  <entry>
    <title>Thinkpad 小红点恢复Win10中键滚动功能</title>
    <url>/post/3fe7.html</url>
    <content><![CDATA[<p><a name="CQHzT"></a></p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>在Windows 10下面，按住中键，拔动小红点，页面滚动的同时，光标也会一起跑。控制面板中也找不到设置的地方。</p>
<p><a name="F5UoG"></a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>需要修改注册表：<br>在HKEY_CURRENT_USER\Software\Synaptics\SynTPEnh\UltraNavPS2中，把TrackPointModeFunction的值修改一下即可。<br>原为：”TrackPointModeFunction”&#x3D;dword:00000011<br>改为：”TrackPointModeFunction”&#x3D;dword:00000010<br>这样就跟以前使用完全相同了，中键点击是小手或指针，滚动是鼠标中键滚动的图标，一切完美。</p>
]]></content>
  </entry>
  <entry>
    <title>UIAlertController 项添加图标</title>
    <url>/post/389c.html</url>
    <content><![CDATA[<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">(void)savePreset &#123;</span><br><span class="line"></span><br><span class="line">    UIAlertController * alertController = [UIAlertController alertControllerWithTitle:@&quot;Preset to Remoter buttons&quot; message:nil preferredStyle:UIAlertControllerStyleActionSheet];</span><br><span class="line">    </span><br><span class="line">    UIAlertAction * preset1 = [UIAlertAction actionWithTitle:@&quot;Preset1&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">        NSLog(@&quot;send preset 1&quot;);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    UIAlertAction * preset2 = [UIAlertAction actionWithTitle:@&quot;Preset2&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">        NSLog(@&quot;send preset 2&quot;);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    UIAlertAction * preset3 = [UIAlertAction actionWithTitle:@&quot;Preset3&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">        NSLog(@&quot;send preset 3&quot;);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    UIAlertAction * preset4 = [UIAlertAction actionWithTitle:@&quot;Preset4&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">        NSLog(@&quot;send preset 4&quot;);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    UIAlertAction* defaultAction = [UIAlertAction actionWithTitle:@&quot;Cancel&quot; style:UIAlertActionStyleCancel</span><br><span class="line">                    handler:^(UIAlertAction * action) &#123;&#125;];</span><br><span class="line">    </span><br><span class="line">    [alertController addAction:defaultAction];</span><br><span class="line">    </span><br><span class="line">    [preset1 setValue:[[UIImage imageNamed:@&quot;fire&quot;] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal] forKey:@&quot;image&quot;];</span><br><span class="line">    [preset2 setValue:[[UIImage imageNamed:@&quot;left&quot;] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal] forKey:@&quot;image&quot;];</span><br><span class="line">    [preset3 setValue:[[UIImage imageNamed:@&quot;right&quot;] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal] forKey:@&quot;image&quot;];</span><br><span class="line">    [preset4 setValue:[[UIImage imageNamed:@&quot;down&quot;] imageWithRenderingMode:UIImageRenderingModeAutomatic] forKey:@&quot;image&quot;];</span><br><span class="line">    [alertController addAction:preset1];</span><br><span class="line">    [alertController addAction:preset2];</span><br><span class="line">    [alertController addAction:preset3];</span><br><span class="line">    [alertController addAction:preset4];</span><br><span class="line">    [self presentViewController:alertController animated:YES completion:nil];</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>UML学习之听课</title>
    <url>/post/1c1c.html</url>
    <content><![CDATA[<div class="pcs-article-box_ptkaiapt4bxy_baiduscarticle">

<h1 id><a href="#" class="headerlink" title></a></h1><div class="pcs-article-c_ptkaiapt4bxy_baiduscarticle">
<div id="detailArticleContent_ptkaiapt4bxy_baiduscarticle" class="pcs-article-content_ptkaiapt4bxy_baiduscarticle">      听了《尚学堂》关于UML学习的两天的课，自己感觉这课还不错吧，关键是讲的人结合了软件开发中的具体的经验，UML是一门工具，只有结合具体的应用场景，才能看见其价值。   这让课程主要讲了这几个方面：类图，顺序图，状态图，用例编写，其它的也基本上只是提到了一下。虽然结合的是Java的开发讲的，结合了一些Java的具体的框架，自己在这方面有些不懂。   不同的图相当于一种分析的解度，类图是静态的建模，顺序图对动态的建模。状态图用来描述一个特定的对象的所有可能的状态，以及由各种事件发生而引起的状态之间的转化。活动图用来描述事物或对象的活动变化流程。

<p>对于类图：关键是理解和分析各种类之间的关联关系。学习中应注重与思想，而不仅仅停留在图的表面上，图只不过是思想的一种反映罢了，对于程序设计，还要结合具体的代码，例如，每一种关系，代码上是如何表现的，相反，图能够直观的反映代码的结构，比如学习设计模式，如果把设计模式都用类图表示出来。非常的直观，也很好记忆，也能更好的理解，用到这一设计模式，首先想到的是这一设计模式的类组，然后跟据自己的特定的情况，写代码就是了。</p>
<p>对于顺序图：顺序图反映了一种动态的过程，比如在哪课程中举的”登陆“过程例子，用顺序图非常直观的分析了这一过程，分析了各个模块（类）之间要进行的哪些交互，通过对这一过程的分析，设计者了解了程序完成某一件事情都需要做些什么，通过对交互图的认真分析，对于设计者，也可以得出类的功能划分——这一点原来自己一直感到很困惑，看老师演示这一过程，感觉自己有一点认识吧。通过功能来设计类，通过类图来理解系统，从静态和动态两个不同的方面认识系统，不同的角度，但却是一个整体。对于交互图的另一种：协作图，课程中只是提到了一下，演示了一下顺序图和协作图通过Rose的转换，说是一般用在公司的白板描述中，为了节约白板空间，自己不知这个描术是不是准确。</p>
<p>对于状态图：状态图应该是很重要的，这是一种程序员和客户都能看懂的图，在程序的设计阶段分析系统的各种可能的状态非常重要，否则的话，可能在开发的后期会导制系统结构的大的修改。课程中用一个开发校园一卡通作为例子，分析卡在不同时刻的状态，和不同的时刻的状态转化关系，非常直观。同时也用DVD机在工作过程中的状态用了演示。状态图对于系统的分析应该很有帮助吧。</p>
<p>这门课程最后还重点讲了如何作需求分析，如何写用例文档。提了一下GRASP(基于职责设计对象)模式。</p></div><p></p>
<div class="pcs-article-content_ptkaiapt4bxy_baiduscarticle"></div>
</div>
</div>
<div id="detailArticleFooter_ptkaiapt4bxy_baiduscarticle" class="footer">
<div class="time-cang">收藏于 2010-01-12</div>
<div class="link-src">来自于百度空间</div>
</div>
]]></content>
      <categories>
        <category>百度空间的旧文章</category>
      </categories>
      <tags>
        <tag>uml</tag>
      </tags>
  </entry>
  <entry>
    <title>Win10 微软拼音双拼设置</title>
    <url>/post/fbb2.html</url>
    <content><![CDATA[<h1 id="Win10-微软拼音双拼设置"><a href="#Win10-微软拼音双拼设置" class="headerlink" title="Win10 微软拼音双拼设置"></a>Win10 微软拼音双拼设置</h1><h2 id="Win10-微软拼音添加小鹤双拼"><a href="#Win10-微软拼音添加小鹤双拼" class="headerlink" title="Win10 微软拼音添加小鹤双拼"></a>Win10 微软拼音添加小鹤双拼</h2><p>首先打开注册表，找到这个路径: </p>
<figure class="highlight moonscript"><table><tr><td class="code"><pre><span class="line">计算机\HKEY_CURRENT_USER\Software\Microsoft\InputMethod\Settings\CHS</span><br></pre></td></tr></table></figure>
<p>然后新建一个名为 UserDefinedDoublePinyinScheme0的字符串值，数值数据为</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">小鹤双拼<span class="strong">*2*</span>^*iuvdjhcwfg^xmlnpbksqszxkrltvyovt</span><br></pre></td></tr></table></figure>

<p>然后在设置中将默认的输入法设置为小鹤双拼。</p>
<h2 id="微软拼音支持自定义时间格式"><a href="#微软拼音支持自定义时间格式" class="headerlink" title="微软拼音支持自定义时间格式"></a>微软拼音支持自定义时间格式</h2><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 关键字需要用 %% 来包裹</span></span><br><span class="line"><span class="attribute">yyyy</span>    <span class="number">4</span> 位年</span><br><span class="line"><span class="attribute">MM</span>	    <span class="number">2</span> 位月</span><br><span class="line"><span class="attribute">dd</span>	    <span class="number">2</span> 位日</span><br><span class="line"><span class="attribute">HH</span>  	<span class="number">2</span> 位小时（<span class="number">24</span> 小时制）</span><br><span class="line"><span class="attribute">mm</span>  	<span class="number">2</span> 位分钟数</span><br><span class="line"><span class="attribute">ss</span>  	<span class="number">2</span> 位秒数</span><br></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight mel"><table><tr><td class="code"><pre><span class="line"># 结果是这样的格式: <span class="number">2020</span><span class="number">-02</span><span class="number">-07</span> <span class="number">12</span>:<span class="number">36</span>:<span class="number">52</span></span><br><span class="line"># 具体的格式参看, 详见 ref</span><br><span class="line">%yyyy%-%MM%-%dd% %HH%:%mm%:%ss%</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>win10</category>
        <category>输入法</category>
      </categories>
      <tags>
        <tag>win10</tag>
        <tag>输入法</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows远程桌面连接Linux</title>
    <url>/post/d16f.html</url>
    <content><![CDATA[<p>Windows连接Linux 在Linux装下xrdp软件 </p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">1、安装xrdp sudo apt-<span class="built_in">get</span> install xrdp </span><br><span class="line">2、配置xrdp /etc/xrdp/xrdp.ini 复制一个配置将其中的port 配置成5900及名称改下，<span class="built_in"> service </span>xrdp restart </span><br><span class="line">3、安装vino sudo apt-<span class="built_in">get</span> install vino </span><br><span class="line">4、vino-preference 将第1 个开启 </span><br><span class="line">5、gsettings <span class="built_in">set</span> org.gnome.Vino require-encryption <span class="literal">false</span> 6、/usr/lib/vino/vino-server/</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>Android 编译问题：Could not find com.android.tools.lint:lint-gradle:26.1.2.</title>
    <url>/post/53b3.html</url>
    <content><![CDATA[<p>编译时报如下的错误：</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">FAILURE: Build failed with an exception. * What went wrong: Execution failed <span class="keyword">for</span> task <span class="string">&#x27;:app:lintVitalRelease&#x27;</span>. &gt; Could not resolve all files <span class="keyword">for</span> configuration <span class="string">&#x27;:app:lintClassPath&#x27;</span>. &gt; Could not find com.android.tools.lint:lint-gradle:<span class="number">26.1</span>.<span class="number">2</span>. Searched <span class="keyword">in</span> the following locations: file:<span class="regexp">/C:/</span>Users<span class="regexp">/wwq/</span>AppData<span class="regexp">/Local/</span>Android<span class="regexp">/sdk/</span>extras<span class="regexp">/m2repository/</span>com<span class="regexp">/android/</span>tools<span class="regexp">/lint/</span>lint-gradle<span class="regexp">/26.1.2/</span>lint-gradle-<span class="number">26.1</span>.<span class="number">2</span>.pom file:<span class="regexp">/C:/</span>Users<span class="regexp">/wwq/</span>AppData<span class="regexp">/Local/</span>Android<span class="regexp">/sdk/</span>extras<span class="regexp">/m2repository/</span>com<span class="regexp">/android/</span>tools<span class="regexp">/lint/</span>lint-gradle<span class="regexp">/26.1.2/</span>lint-gradle-<span class="number">26.1</span>.<span class="number">2</span>.jar file:<span class="regexp">/C:/</span>Users<span class="regexp">/wwq/</span>AppData<span class="regexp">/Local/</span>Android<span class="regexp">/sdk/</span>extras<span class="regexp">/google/m</span>2repository<span class="regexp">/com/</span>android<span class="regexp">/tools/</span>lint<span class="regexp">/lint-gradle/</span><span class="number">26.1</span>.<span class="number">2</span><span class="regexp">/lint-gradle-26.1.2.pom file:/</span>C:<span class="regexp">/Users/</span>wwq<span class="regexp">/AppData/</span>Local<span class="regexp">/Android/</span>sdk<span class="regexp">/extras/g</span>oogle<span class="regexp">/m2repository/</span>com<span class="regexp">/android/</span>tools<span class="regexp">/lint/</span>lint-gradle<span class="regexp">/26.1.2/</span>lint-gradle-<span class="number">26.1</span>.<span class="number">2</span>.jar file:<span class="regexp">/C:/</span>Users<span class="regexp">/wwq/</span>AppData<span class="regexp">/Local/</span>Android<span class="regexp">/sdk/</span>extras<span class="regexp">/android/m</span>2repository<span class="regexp">/com/</span>android<span class="regexp">/tools/</span>lint<span class="regexp">/lint-gradle/</span><span class="number">26.1</span>.<span class="number">2</span><span class="regexp">/lint-gradle-26.1.2.pom file:/</span>C:<span class="regexp">/Users/</span>wwq<span class="regexp">/AppData/</span>Local<span class="regexp">/Android/</span>sdk<span class="regexp">/extras/</span>android<span class="regexp">/m2repository/</span>com<span class="regexp">/android/</span>tools<span class="regexp">/lint/</span>lint-gradle<span class="regexp">/26.1.2/</span>lint-gradle-<span class="number">26.1</span>.<span class="number">2</span>.jar https:<span class="regexp">//</span>jcenter.bintray.com<span class="regexp">/com/</span>android<span class="regexp">/tools/</span>lint<span class="regexp">/lint-gradle/</span><span class="number">26.1</span>.<span class="number">2</span><span class="regexp">/lint-gradle-26.1.2.pom https:/</span><span class="regexp">/jcenter.bintray.com/</span>com<span class="regexp">/android/</span>tools<span class="regexp">/lint/</span>lint-gradle<span class="regexp">/26.1.2/</span>lint-gradle-<span class="number">26.1</span>.<span class="number">2</span>.jar Required by: project :app</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>解决方法： 检查根 build.gradle 文件。</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">allprojects &#123; repositories &#123; jcenter() <span class="regexp">//</span> mavenCentral() google() <span class="regexp">//</span>**要加这行** <span class="regexp">//</span> maven &#123; url <span class="string">&#x27;https://jitpack.io&#x27;</span> &#125; &#125; &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title>bitnami安装的程序如何去掉欢迎页面。</title>
    <url>/post/9c7f.html</url>
    <content><![CDATA[<p>就是网址打开的那个页面。去掉它直接进入安装的程序。</p>
<p>方法如下：</p>
<ol>
<li>在开始菜单找到安装程序的命令行的窗口。执行。</li>
<li>cd 命令进入到 apps 目录下面的程序的目录下：比如我这个：D:\Bitnami\redmine-3.3.1-0\apps\redmine&gt;</li>
<li>执行这个目录下面的 bnconfig.exe 程序，参数像这样： bnconfig.exe –appurl &#x2F;</li>
</ol>
<p>然后再到开始菜单中去重启整个服务。</p>
<p>我用的是Windows版，别的应该也是一样的。</p>
]]></content>
      <categories>
        <category>IT</category>
        <category>win 10</category>
      </categories>
      <tags>
        <tag>bitnami</tag>
        <tag>redmine</tag>
      </tags>
  </entry>
  <entry>
    <title>C++代码之编译器的坑</title>
    <url>/post/e262.html</url>
    <content><![CDATA[<p>C++代码需要在不同的环境里运行，使用的编译器一般来说是不一样的。不一样就会导致对语法的解释不同，一个编译器通过了，但却不能保证在另一个编译器上通过。</p>
<p>今天再次遇到这事，win过了，Linux 却挂了。由于昨天的网络问题没法在Linux 平台上验证。这种时候总是会发生点什么，脸也是够黑的。</p>
<p>一个函数参数需要一个标准库的容器引用，由于一个地方我不需要所以没定义临时变量，直接把容器的构造函数放在参数位置传下去。win 一切正常。Linux却不过。</p>
<p>偶然因素导致不能检查，自动编译Jinkens也没过。影响大家工作。</p>
<p>还是小心的好！</p>
]]></content>
      <categories>
        <category>c++</category>
      </categories>
  </entry>
  <entry>
    <title>C++ 多重继承与转型的坑</title>
    <url>/post/43cb.html</url>
    <content><![CDATA[<h1 id="多重继承的指针转换问题"><a href="#多重继承的指针转换问题" class="headerlink" title="多重继承的指针转换问题"></a>多重继承的指针转换问题</h1><p>在 C++ 等支持多重继承的语言中，多重继承的指针转换问题确实是一个容易踩坑的点，尤其对初学者而言。我们来详细分析这个问题：</p>
<h3 id="问题根源：多重继承的对象内存布局特殊性"><a href="#问题根源：多重继承的对象内存布局特殊性" class="headerlink" title="问题根源：多重继承的对象内存布局特殊性"></a>问题根源：多重继承的对象内存布局特殊性</h3><p>当一个类同时继承两个基类时，编译器会在内存中为这个对象分配一块连续的存储空间，其中包含：</p>
<ol>
<li><p>第一个基类的成员变量</p>
</li>
<li><p>第二个基类的成员变量</p>
</li>
<li><p>派生类自身的成员变量</p>
</li>
</ol>
<p>这意味着两个基类在对象内存中的起始地址是不同的。例如：</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line">派生类对象内存布局:</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[ 基类A成员 ]</span><span class="selector-attr">[ 基类B成员 ]</span><span class="selector-attr">[ 派生类成员 ]</span></span><br><span class="line"></span><br><span class="line">       ↑           ↑</span><br><span class="line"></span><br><span class="line">       |           |</span><br><span class="line"></span><br><span class="line">    基类<span class="selector-tag">A</span>指针   基类<span class="selector-tag">B</span>指针</span><br><span class="line"></span><br><span class="line"> (指向对象起始)(指向偏移位置)</span><br></pre></td></tr></table></figure>

<h3 id="错误原因分析"><a href="#错误原因分析" class="headerlink" title="错误原因分析"></a>错误原因分析</h3><p>当你手动进行指针类型转换时（如<code>(B*)obj</code>），可能会出现两种情况：</p>
<ol>
<li><p><strong>隐式转换 &#x2F; 正确的显式转换</strong>：编译器会自动计算并调整指针偏移量，确保转换后的指针指向正确的基类部分</p>
</li>
<li><p><strong>错误的强制转换</strong>：如果使用了不恰当的转换方式（如 C 风格的强制转换在某些情况下），可能导致指针地址没有被正确调整，仍然指向原地址</p>
</li>
</ol>
<p>此时用错误的指针调用成员函数或访问成员变量时：</p>
<ul>
<li><p>会访问到错误的内存位置</p>
</li>
<li><p>可能调用到错误的虚函数（因为虚函数表指针也可能被错误引用）</p>
</li>
<li><p>出现难以理解的运行时错误</p>
</li>
</ul>
<h3 id="为什么去掉转型就正常了？"><a href="#为什么去掉转型就正常了？" class="headerlink" title="为什么去掉转型就正常了？"></a>为什么去掉转型就正常了？</h3><p>当不进行显式转换时，编译器会根据上下文自动选择正确的基类接口：</p>
<ul>
<li><p>调用基类 A 的成员时，自动使用基类 A 的指针偏移</p>
</li>
<li><p>调用基类 B 的成员时，自动使用基类 B 的指针偏移</p>
</li>
</ul>
<p>这种情况下，编译器会负责所有的指针调整工作，确保访问正确。</p>
<h3 id="正确的做法"><a href="#正确的做法" class="headerlink" title="正确的做法"></a>正确的做法</h3><ol>
<li><p>尽量避免使用多重继承，优先考虑组合而非继承</p>
</li>
<li><p>必须使用时，避免手动进行指针类型转换</p>
</li>
<li><p>如果确实需要转换，应使用：</p>
</li>
</ol>
<ul>
<li><p>C++ 的<code>dynamic_cast</code>（适用于多态类型，带运行时检查）</p>
</li>
<li><p>或<code>static_cast</code>（适用于非多态类型，编译期检查）</p>
</li>
</ul>
<ol>
<li>示例：</li>
</ol>
<figure class="highlight perl"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123; ... &#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123; ... &#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span><span class="attr"> : public</span> <span class="title">A</span>, <span class="title">public</span> <span class="title">B</span> </span>&#123; ... &#125;;</span><br><span class="line"></span><br><span class="line">C* c = new C();</span><br><span class="line"></span><br><span class="line">A* a = c;  <span class="regexp">//</span> 正确，自动转换，地址正确</span><br><span class="line"></span><br><span class="line">B* b = c;  <span class="regexp">//</span> 正确，自动转换，地址已调整</span><br><span class="line"></span><br><span class="line">// 正确的显式转换</span><br><span class="line"></span><br><span class="line">B* b2 = static_cast&lt;B*&gt;(c);  <span class="regexp">//</span> 编译器会自动计算偏移</span><br></pre></td></tr></table></figure>

<p>这个问题的核心在于：多重继承中不同基类的指针在内存中指向不同位置，编译器会自动处理正确的转换，但手动强制转换可能破坏这种机制，导致难以调试的错误。</p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>docker 下载加速</title>
    <url>/post/3370.html</url>
    <content><![CDATA[<p>直接下载官方的docker镜像，慢得很。</p>
<p>下面这个地址可以加速：</p>
<p><a href="https://www.daocloud.io/mirror#accelerator-doc">https://www.daocloud.io/mirror#accelerator-doc</a></p>
]]></content>
      <categories>
        <category>docker</category>
      </categories>
  </entry>
  <entry>
    <title>docker安装Gitlab</title>
    <url>/post/b7a3.html</url>
    <content><![CDATA[<p>这里用到了一个第三方的镜像：</p>
<p>Step 1. Launch a postgresql container</p>
<pre><code>docker run --name gitlab-postgresql -d \
    --env &#39;DB_NAME=gitlabhq_production&#39; \
    --env &#39;DB_USER=gitlab&#39; --env &#39;DB_PASS=password&#39; \
    --volume /srv/docker/gitlab/postgresql:/var/lib/postgresql \
    sameersbn/postgresql:9.4-13
`&lt;/pre&gt;

Step 2\. Launch a redis container

&lt;pre&gt;`docker run --name gitlab-redis -d \
    --volume /srv/docker/gitlab/redis:/var/lib/redis \
    sameersbn/redis:latest
`&lt;/pre&gt;

Step 3\. Launch the gitlab container

&lt;pre&gt;`docker run --name gitlab -d \
    --link gitlab-postgresql:postgresql --link gitlab-redis:redisio \
    --publish 10022:22 --publish 10080:80 \
    --env &#39;GITLAB_PORT=10080&#39; --env &#39;GITLAB_SSH_PORT=10022&#39; \
    --env &#39;GITLAB_SECRETS_DB_KEY_BASE=long-and-random-alpha-numeric-string&#39; \
    --volume /srv/docker/gitlab/gitlab:/home/git/data \
    sameersbn/gitlab:8.5.1
</code></pre>
<p>Please refer to Available Configuration Parameters to understand GITLAB_PORT and other configuration options</p>
<p>NOTE: Please allow a couple of minutes for the GitLab application to start.</p>
<p>Point your browser to <a href="http://localhost:10080/">http://localhost:10080</a> and login using the default username and password:</p>
<blockquote>
<p>username: root<br>  password: 5iveL!fe</p>
</blockquote>
]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>gem 安装 json 报错</title>
    <url>/post/7056.html</url>
    <content><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>编译一个开源书辑时，运行 bundle install 命令报错，让安装 json -v ‘1.8.1’，但报错。</p>
<pre><code>sudo gem install json -v &#39;1.8.1&#39;

Building native extensions.  This could take a while...
ERROR:  Error installing json:
    ERROR: Failed to build gem native extension.

        /usr/bin/ruby1.9.1 extconf.rb
/usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require&#39;: cannot load such file -- mkmf (LoadError)
    from /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require&#39;
    from extconf.rb:1:in `&amp;lt;main&amp;gt;&#39;

Gem files will remain installed in /var/lib/gems/1.9.1/gems/json-1.8.1 for inspection.
Results logged to /var/lib/gems/1.9.1/gems/json-1.8.1/ext/json/ext/generator/gem_make.out

`&lt;/pre&gt;

## 解决

添加 ruby1.9.1-dev包就可以解决这个问题了。

&lt;pre&gt;`sudo apt-get install ruby1.9.1-
</code></pre>
]]></content>
      <categories>
        <category>gem</category>
      </categories>
  </entry>
  <entry>
    <title>gem 设置代理</title>
    <url>/post/2809.html</url>
    <content><![CDATA[<p>按下面的方法可行</p>
<p>sudo gem install gollum -p <a href="http://10.160.8.97:808/">http://10.160.8.97:808</a></p>
]]></content>
      <categories>
        <category>gem</category>
      </categories>
  </entry>
  <entry>
    <title>docker设置代理</title>
    <url>/post/f709.html</url>
    <content><![CDATA[<p>使用下面的命令就可以设置，替换你的IP和端口。<br>sudo HTTP_PROXY&#x3D;10.160.8.99:808  docker -d&amp;</p>
]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>代理</tag>
      </tags>
  </entry>
  <entry>
    <title>hp打印机离合器维修</title>
    <url>/post/f6b.html</url>
    <content><![CDATA[<h4 id="故障现象"><a href="#故障现象" class="headerlink" title="故障现象"></a>故障现象</h4><ol>
<li>总是卡纸</li>
<li>不断的进纸，然后随机停下来卡住一张纸。</li>
</ol>
<h4 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a>原因分析</h4><ol>
<li>参考B站上一个人的教程拆机，离合器通过一个电磁铁闭合，通过一个弹簧弹开。卡纸的原因是，离合器闭合后，不能用弹簧的力量弹开。</li>
<li>弹不开的原因：闭合处有海绵，时间太久，海绵融化了，有很大的粘性，闭合后粘住不能弹开。</li>
</ol>
<h4 id="解决过程"><a href="#解决过程" class="headerlink" title="解决过程"></a>解决过程</h4><ol>
<li>清理融化的海绵。</li>
<li>重新安装回去.(以为不要海绵也可以，B站的说法是，海绵只是减小闭合的噪音)</li>
<li>发现问题未解决。现象更严重，不断的进纸，不停下来，打印机出空白纸，随机停下来，卡纸。</li>
<li>听声音，发现离合器还是未工作，没听到弹开的声音。</li>
<li>拆机观察，确实吸住的。（有点没想明白，两个光光的铁片也能粘住，弹不开，有点怀疑弹簧的力度不够）</li>
<li>按B站的教程，在两个铁片的吸合处，贴上电工胶带。</li>
<li>观察吸合状态，胶带有一点点厚度，吸合时，吸合处会有一点点距离，悬空的。（可以认为，要这种状态才能弹开，没想到两个铁片子配合还挺精密，错误的估算了海绵的作用，不仅仅是降噪，不仅仅是降噪，去掉也不能工作）</li>
<li>重新装回去。测试，终于正常。</li>
</ol>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ol>
<li>离合器弹不开会不停的进纸，导制卡纸。（离合器不弹开就会一直进纸，至到弹开才会停下来）</li>
<li>清理融化的海绵后，一定要贴上电工胶带，不然一样会卡纸。</li>
</ol>
<h4 id="修坏的另外一个问题处理："><a href="#修坏的另外一个问题处理：" class="headerlink" title="修坏的另外一个问题处理："></a>修坏的另外一个问题处理：</h4><ol>
<li>打印机会一下子进多张纸。</li>
<li>原因是搓纸轮后面那个弹簧太松了。</li>
<li>打印机背后正中有个小门，把两边的螺丝拧紧一些就可以了。（自己瞎修时，分析以为拧松能解决卡纸问题。）</li>
</ol>
]]></content>
      <categories>
        <category>外设</category>
      </categories>
      <tags>
        <tag>printer</tag>
      </tags>
  </entry>
  <entry>
    <title>IOS widget学习入门</title>
    <url>/post/b3a5.html</url>
    <content><![CDATA[<p>一篇不错的文章，收藏：</p>
<blockquote>
<p><a href="http://www.jianshu.com/p/1a3bd243f77c">这里</a></p>
</blockquote>
]]></content>
      <categories>
        <category>IOS</category>
      </categories>
  </entry>
  <entry>
    <title>iText学习</title>
    <url>/post/649d.html</url>
    <content><![CDATA[<p><a name="X2pDY"></a></p>
<h1 id="页眉与页脚"><a href="#页眉与页脚" class="headerlink" title="页眉与页脚"></a>页眉与页脚</h1><p>iText5中并没有之前版本HeaderFooter对象设置页眉和页脚，可以利用PdfPageEventHelper来完成页眉页脚的设置工作。PdfPageEventHelper中包含以下事件处理器。</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">onOpenDocument</span><span class="params">()</span></span> — 当打开一个文档时触发，可以用于初始化文档的全局变量。</span><br><span class="line"><span class="function"><span class="title">onStartPage</span><span class="params">()</span></span> — 当一个页面初始化时触发，可用于初始化页面的设置参数，但是注意这个函数触发时，该页面并没有创建好，不用利用这个函数添加内容，最好利用<span class="built_in">onEndPage</span>()处理页面的初始化。</span><br><span class="line"><span class="function"><span class="title">onEndPage</span><span class="params">()</span></span> — 在创建一个新页面完成但写入内容之前触发，是添加页眉、页脚、水印等最佳时机。</span><br><span class="line"><span class="function"><span class="title">onCloseDocument</span><span class="params">()</span></span> — 在文档关闭之前触发，可以用于释放一些资源。</span><br><span class="line"><span class="function"><span class="title">onCloseDocument</span><span class="params">()</span></span> — 在文档关闭之前触发，可以用于释放一些资源。</span><br></pre></td></tr></table></figure>

<p>要想出发事件需要在程序中添加事件</p>
<p>如下</p>
<figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line">PdfReportM1HeaderFooter footer<span class="operator">=</span>new PdfReportM1HeaderFooter()<span class="comment">;</span></span><br><span class="line">writer.setPageEvent(footer)<span class="comment">;</span></span><br></pre></td></tr></table></figure>

<p>该类PdfReportM1HeaderFooter继承自PdfPageEventHelper所以可以直接添加、</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> demo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Project Name:report</span></span><br><span class="line"><span class="comment"> * File Name:PdfReportM1HeaderFooter.java</span></span><br><span class="line"><span class="comment"> * Package Name:com.riambsoft.report.pdf</span></span><br><span class="line"><span class="comment"> * Date:2013-9-16上午08:59:00</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2013, riambsoft All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.Document;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.DocumentException;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.Element;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.Font;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.PageSize;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.Phrase;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.Rectangle;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.pdf.BaseFont;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.pdf.ColumnText;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.pdf.PdfContentByte;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.pdf.PdfPageEventHelper;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.pdf.PdfTemplate;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.pdf.PdfWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ClassName:PdfReportM1HeaderFooter &lt;br/&gt;</span></span><br><span class="line"><span class="comment"> * Function: TODO ADD FUNCTION. &lt;br/&gt;</span></span><br><span class="line"><span class="comment"> * Reason: TODO ADD REASON. &lt;br/&gt;</span></span><br><span class="line"><span class="comment"> * Date: 2013-9-13 上午08:59:00 &lt;br/&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 落雨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 394263788(QQ)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> JDK 1.5</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span> http://hi.baidu.com/ae6623</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PdfReportM1HeaderFooter</span> <span class="keyword">extends</span> <span class="title class_">PdfPageEventHelper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 页眉</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">String</span> <span class="variable">header</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文档字体大小，页脚页眉最好和文本大小一致</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="variable">presentFontSize</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文档页面大小，最好前面传入，否则默认为A4纸张</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">Rectangle</span> <span class="variable">pageSize</span> <span class="operator">=</span> PageSize.A4;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 模板</span></span><br><span class="line">    <span class="keyword">public</span> PdfTemplate total;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 基础字体对象</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">BaseFont</span> <span class="variable">bf</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 利用基础字体生成的字体对象，一般用于生成中文文字</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">Font</span> <span class="variable">fontDetail</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * Creates a new instance of PdfReportM1HeaderFooter 无参构造方法.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">PdfReportM1HeaderFooter</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * Creates a new instance of PdfReportM1HeaderFooter 构造方法.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> yeMei           页眉字符串</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> presentFontSize 数据体字体大小</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> pageSize        页面文档大小，A4，A5，A6横转翻转等Rectangle对象</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">PdfReportM1HeaderFooter</span><span class="params">(String yeMei, <span class="type">int</span> presentFontSize, Rectangle pageSize)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.header = yeMei;</span><br><span class="line">        <span class="built_in">this</span>.presentFontSize = presentFontSize;</span><br><span class="line">        <span class="built_in">this</span>.pageSize = pageSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setHeader</span><span class="params">(String header)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.header = header;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPresentFontSize</span><span class="params">(<span class="type">int</span> presentFontSize)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.presentFontSize = presentFontSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * TODO 文档打开时创建模板</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> com.itextpdf.text.pdf.PdfPageEventHelper#onOpenDocument(com.itextpdf.text.pdf.PdfWriter,</span></span><br><span class="line"><span class="comment">     *      com.itextpdf.text.Document)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onOpenDocument</span><span class="params">(PdfWriter writer, Document document)</span> &#123;</span><br><span class="line">        total = writer.getDirectContent().createTemplate(<span class="number">50</span>, <span class="number">50</span>);<span class="comment">// 共 页 的矩形的长宽高</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * TODO 关闭每页的时候，写入页眉，写入&#x27;第几页共&#x27;这几个字。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> com.itextpdf.text.pdf.PdfPageEventHelper#onEndPage(com.itextpdf.text.pdf.PdfWriter,</span></span><br><span class="line"><span class="comment">     *      com.itextpdf.text.Document)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onEndPage</span><span class="params">(PdfWriter writer, Document document)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (bf == <span class="literal">null</span>) &#123;</span><br><span class="line">                bf = BaseFont.createFont(<span class="string">&quot;STSong-Light&quot;</span>, <span class="string">&quot;UniGB-UCS2-H&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (fontDetail == <span class="literal">null</span>) &#123;</span><br><span class="line">                fontDetail = <span class="keyword">new</span> <span class="title class_">Font</span>(bf, presentFontSize, Font.NORMAL);<span class="comment">// 数据体字体</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (DocumentException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1.写入页眉</span></span><br><span class="line">        ColumnText.showTextAligned(writer.getDirectContent(), Element.ALIGN_LEFT, <span class="keyword">new</span> <span class="title class_">Phrase</span>(header, fontDetail),</span><br><span class="line">                document.left(), document.top() + <span class="number">20</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.写入前半部分的 第 X页/共</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">pageS</span> <span class="operator">=</span> writer.getPageNumber();</span><br><span class="line">        <span class="type">String</span> <span class="variable">foot1</span> <span class="operator">=</span> <span class="string">&quot;第 &quot;</span> + pageS + <span class="string">&quot; 页 /共&quot;</span>;</span><br><span class="line">        <span class="type">Phrase</span> <span class="variable">footer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Phrase</span>(foot1, fontDetail);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.计算前半部分的foot1的长度，后面好定位最后一部分的&#x27;Y页&#x27;这俩字的x轴坐标，字体长度也要计算进去 = len</span></span><br><span class="line">        <span class="type">float</span> <span class="variable">len</span> <span class="operator">=</span> bf.getWidthPoint(foot1, presentFontSize);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.拿到当前的PdfContentByte</span></span><br><span class="line">        <span class="type">PdfContentByte</span> <span class="variable">cb</span> <span class="operator">=</span> writer.getDirectContent();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 自己增加的</span></span><br><span class="line">        <span class="keyword">if</span> (pageS == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">Phrase</span> <span class="variable">footerLeft</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Phrase</span>(<span class="string">&quot;978-1-4799-0530-031.00 ©2013 IEEE&quot;</span>, fontDetail);</span><br><span class="line">            ColumnText.showTextAligned(cb, Element.ALIGN_LEFT, footerLeft, document.left(), document.bottom() - <span class="number">20</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5.写入页脚1，x轴就是(右margin+左margin + right() -left()- len)/2.0F</span></span><br><span class="line">        <span class="comment">// 再给偏移20F适合人类视觉感受，否则肉眼看上去就太偏左了</span></span><br><span class="line">        <span class="comment">// ,y轴就是底边界-20,否则就贴边重叠到数据体里了就不是页脚了；注意Y轴是从下往上累加的，最上方的Top值是大于Bottom好几百开外的。</span></span><br><span class="line">        ColumnText.showTextAligned(cb, Element.ALIGN_CENTER, footer,</span><br><span class="line">                (document.rightMargin() + document.right() + document.leftMargin() - document.left() - len) / <span class="number">2.0F</span></span><br><span class="line">                        + <span class="number">20F</span>,</span><br><span class="line">                document.bottom() - <span class="number">20</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6.写入页脚2的模板（就是页脚的Y页这俩字）添加到文档中，计算模板的和Y轴,X=(右边界-左边界 - 前半部分的len值)/2.0F + len ， y</span></span><br><span class="line">        <span class="comment">// 轴和之前的保持一致，底边界-20</span></span><br><span class="line">        cb.addTemplate(total,</span><br><span class="line">                (document.rightMargin() + document.right() + document.leftMargin() - document.left()) / <span class="number">2.0F</span> + <span class="number">20F</span>,</span><br><span class="line">                document.bottom() - <span class="number">20</span>); <span class="comment">// 调节模版显示的位置</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * TODO 关闭文档时，替换模板，完成整个页眉页脚组件</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> com.itextpdf.text.pdf.PdfPageEventHelper#onCloseDocument(com.itextpdf.text.pdf.PdfWriter,</span></span><br><span class="line"><span class="comment">     *      com.itextpdf.text.Document)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCloseDocument</span><span class="params">(PdfWriter writer, Document document)</span> &#123;</span><br><span class="line">        <span class="comment">// 7.最后一步了，就是关闭文档的时候，将模板替换成实际的 Y 值,至此，page x of y 制作完毕，完美兼容各种文档size。</span></span><br><span class="line">        total.beginText();</span><br><span class="line">        total.setFontAndSize(bf, presentFontSize);<span class="comment">// 生成的模版的字体、颜色</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">foot2</span> <span class="operator">=</span> <span class="string">&quot; &quot;</span> + (writer.getPageNumber() - <span class="number">1</span>) + <span class="string">&quot; 页&quot;</span>;</span><br><span class="line">        total.showText(foot2);<span class="comment">// 模版显示的内容</span></span><br><span class="line">        total.endText();</span><br><span class="line">        total.closePath();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><a name="A3JNH"></a></p>
<h1 id="页边距"><a href="#页边距" class="headerlink" title="页边距"></a>页边距</h1><p>Isn’t it possible for you to use HtmlConverter#convertToElements method. It returns List as a result and then you can add its elements to a document with set margins:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Document</span>(pdfDocument);</span><br><span class="line"><span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> HtmlConverter.convertToElements(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(htmlSource));</span><br><span class="line"><span class="keyword">for</span> (IElement element : list) &#123;</span><br><span class="line"><span class="keyword">if</span> (element <span class="keyword">instanceof</span> IBlockElement) &#123;</span><br><span class="line">document.add((IBlockElement) element);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Another approach: in your html just introduce the <a href>@page </a> rule which sets the margins you need, for example:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@page</span> &#123;<span class="attribute">margin</span>: <span class="number">0</span>;&#125;</span><br></pre></td></tr></table></figure>

<p>Yet another solution: implement your own custom tag worker for  tag and set margins on its level. For example, to set zero margins one could create tag the next worker:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomTagWorkerFactory</span> <span class="keyword">extends</span> <span class="title class_">DefaultTagWorkerFactory</span> &#123;</span><br><span class="line"><span class="keyword">public</span> ITagWorker <span class="title function_">getCustomTagWorker</span><span class="params">(IElementNode tag, ProcessorContext context)</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (TagConstants.HTML.equals(tag.name())) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ZeroMarginHtmlTagWorker</span>(tag, context);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ZeroMarginHtmlTagWorker</span> <span class="keyword">extends</span> <span class="title class_">HtmlTagWorker</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">ZeroMarginHtmlTagWorker</span><span class="params">(IElementNode element, ProcessorContext context)</span> &#123;</span><br><span class="line"><span class="built_in">super</span>(element, context);</span><br><span class="line"><span class="type">Document</span> <span class="variable">doc</span> <span class="operator">=</span> (Document) getElementResult();</span><br><span class="line">doc.setMargins(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>and pass it as a ConverterProperties parameter to Htmlconverter:</p>
<p>converterProperties.setTagWorkerFactory(new CustomTagWorkerFactory());<br>HtmlConverter.convertToPdf(new File(htmlPath), new File(pdfPath), converterProperties);</p>
<p><a name="JVj2m"></a></p>
<h1 id="表格跨页问题"><a href="#表格跨页问题" class="headerlink" title="表格跨页问题"></a>表格跨页问题</h1><p><a name="F5KRY"></a></p>
<h2 id="代码的处理方式"><a href="#代码的处理方式" class="headerlink" title="代码的处理方式"></a>代码的处理方式</h2><p><img src="http://depot.wanqiang.wang/blog/20200113/uV2yCxzGTvUH.png?imageslim"></p>
<p><a name="TTEFI"></a></p>
<h2 id="pdfHtml的一种处理方式"><a href="#pdfHtml的一种处理方式" class="headerlink" title="pdfHtml的一种处理方式"></a>pdfHtml的一种处理方式</h2><p>I had a similar issue of trying to keep together content within a div. I applied the following css property and this kept everything together. This worked with itext7 pdfhtml.</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">page-break-inside</span>: avoid;</span><br></pre></td></tr></table></figure>


<p><a name="nDdia"></a></p>
<h1 id="PdfPage转换成图片"><a href="#PdfPage转换成图片" class="headerlink" title="PdfPage转换成图片"></a>PdfPage转换成图片</h1><p><a name="EeYSn"></a></p>
<h2 id="生成image对象"><a href="#生成image对象" class="headerlink" title="生成image对象"></a>生成image对象</h2><p><a href="https://stackoverflow.com/questions/37809019/itext7-pdf-to-image">https://stackoverflow.com/questions/37809019/itext7-pdf-to-image</a></p>
<p>Please read the official documentation for iText 7, more specifically <a href="http://developers.itextpdf.com/content/itext-7-jump-start-tutorial/chapter-6-reusing-existing-pdf-documents">Chapter 6: Reusing existing PDF documents</a><br>In PDF, there’s the concept of _Form XObject_s. A <em>Form XObject</em> is a piece of PDF content that is stored outside the content stream of a page, hence XObject which stands for eXternal Object. The use of the word <em>Form</em> in <em>Form XObject</em> could be confusing, because people might be thinking of a form as in a fillable form with fields. To avoid that confusing, we introduced the term <code>PdfTemplate</code> in iText 5.<br>The class <code>PdfImportedPage</code> you refer to was a subclass of <code>PdfTemplate</code>: it was a piece of PDF syntax that could be reused in another page. Over the years, we noticed that people also got confused by the word <code>PdfTemplate</code>.<br>In iText 7, we returned to the basics. When talking about a Form XObject, we use the class <code>PdfFormXObject</code>. When talking about a page in a PDF file, we use the class <code>PdfPage</code>.<br>This is how we get a <code>PdfPage</code> from an existing document:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">PdfDocument</span> <span class="variable">origPdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PdfDocument</span>(<span class="keyword">new</span> <span class="title class_">PdfReader</span>(src));</span><br><span class="line"><span class="type">PdfPage</span> <span class="variable">origPage</span> <span class="operator">=</span> origPdf.getPage(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>This is how we use that page in a new document:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">PdfDocument</span> <span class="variable">pdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PdfDocument</span>(<span class="keyword">new</span> <span class="title class_">PdfWriter</span>(dest));</span><br><span class="line"><span class="type">PdfFormXObject</span> <span class="variable">pageCopy</span> <span class="operator">=</span> origPage.copyAsFormXObject(pdf);</span><br></pre></td></tr></table></figure>
<p>If you want to use that <code>pageCopy</code> as an <code>Image</code>, just create it like this:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Image</span> <span class="variable">image</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Image</span>(pageCopy);</span><br></pre></td></tr></table></figure>

<p><a name="AE5AO"></a></p>
<h2 id="存成图片-验证了这种方法不可行"><a href="#存成图片-验证了这种方法不可行" class="headerlink" title="存成图片(验证了这种方法不可行)"></a>存成图片(验证了这种方法不可行)</h2><p><a href="https://stackoverflow.com/questions/24940813/saving-com-itextpdf-text-image-as-a-image-file">https://stackoverflow.com/questions/24940813/saving-com-itextpdf-text-image-as-a-image-file</a><br>Just convert the Barcode39 itext image into an AWT image using <a href="http://api.itextpdf.com/itext/com/itextpdf/text/pdf/Barcode39.html#createAwtImage(java.awt.Color,%20java.awt.Color)">createAwtImage</a>:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">java.awt.<span class="type">Image</span> <span class="variable">awtImage</span> <span class="operator">=</span> code39.createAwtImage(Color.BLACK, Color.WHITE);</span><br></pre></td></tr></table></figure>
<p>Then convert it to a <code>BufferedImage</code> and store it:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BufferedImage bImage= <span class="keyword">new</span> <span class="title class_">BufferedImage</span>(awtImage.getWidth(), awtImage.getHeight(), BufferedImage.TYPE_INT_RGB);</span><br><span class="line"><span class="type">Graphics2D</span> <span class="variable">g</span> <span class="operator">=</span> bImage.createGraphics();</span><br><span class="line">g.drawImage(awtImage, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">g.dispose();</span><br><span class="line"><span class="type">File</span> <span class="variable">outputfile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;saved.png&quot;</span>);</span><br><span class="line">ImageIO.write(bImage, <span class="string">&quot;jpg&quot;</span>, <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;code39.jpg&quot;</span>));</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>iText</category>
      </categories>
      <tags>
        <tag>iText</tag>
        <tag>排版</tag>
      </tags>
  </entry>
  <entry>
    <title>IOS开发：生成时间字符串</title>
    <url>/post/2a08.html</url>
    <content><![CDATA[<p><span class="s1">&#x2F;&#x2F;</span><span class="s2">时间标记字符串生成</span></p>
<p><span class="s2">-(</span><span class="s3">NSString</span><span class="s2">*)TimeStamp</span></p>
<p><span class="s2">{</span></p>
<p><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s3">NSDate</span><span class="s2"> *today &#x3D; [</span><span class="s3">NSDate</span> <span class="s3">date</span><span class="s2">];</span></p>
<p><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s2">NSDateFormatter</span><span class="s4"> *dateFormatter &#x3D; [[</span><span class="s2">NSDateFormatter</span> <span class="s2">alloc</span><span class="s4">]</span><span class="s2">init</span><span class="s4">];</span></p>
<p><span class="s2"><span class="Apple-converted-space">    </span>[dateFormatter </span><span class="s3">setDateFormat</span><span class="s2">:</span><span class="s5">@”yyyy-MM-dd hh:mm:ss”</span><span class="s2">];</span></p>
<p><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s3">NSString</span><span class="s2"> *strDate &#x3D; [dateFormatter </span><span class="s3">stringFromDate</span><span class="s2">:today];</span></p>
<p><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s3">NSLog</span><span class="s2">(</span><span class="s5">@”Time: %@”</span><span class="s2">,strDate);</span></p>
<p><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s6">return</span><span class="s2"> strDate;</span></p>
<p><span class="s2">}</span></p>
]]></content>
      <categories>
        <category>IOS 开发</category>
      </categories>
      <tags>
        <tag>ios</tag>
      </tags>
  </entry>
  <entry>
    <title>ios 开发之：UIButton 不好点</title>
    <url>/post/4014.html</url>
    <content><![CDATA[<p>不好点啊，点不中。能看能摸没反应。</p>
<p>调试办法：把UIButton加背景，父对象加背景色，看是不是超出范围。</p>
<p>别的控件不响应点击也可能是这个问题。</p>
]]></content>
      <categories>
        <category>IOS 开发</category>
      </categories>
  </entry>
  <entry>
    <title>IOS 8 的通知调试</title>
    <url>/post/1c55.html</url>
    <content><![CDATA[<p>自己的一个App以前开发的，使用IOS的本地通知，一直没有人反馈过这点有什么问题。但最近几天，有人找我说，本地通知在iphone 6\6 plus 上不能用。</p>
<p>自己用iphone 6试了试，发现确实这样，但在4s上却没有问题，操作系统都是 IOS 8.3 。上网查了一下，发现ios 8 通知机制改了，使用之前必须要先注册设置。看来原因是这个了。看来同样是 ios 8, 4s的和6的还是不一样的。</p>
<p>那就开始吧，doing , done，按网上的教程在App代理中添加注册，一切预料之中，几分钟之后，本地通知在iphone 6 上终于可以跑起来了。好了，测一下吧，app 打开，没有问题，app 后台，没有问题，锁屏，哦，怎么回事，能收到通知，但没有声音，哪里出了问题？</p>
<p>由于对这个新的通知不熟悉，只能开始疯狂的查文档，google，baidu，bing,bang，一头雾水，4s没事，iphone6 锁屏就是没声，时间一分一秒过去，看不出一丝端疑。</p>
<p>当时间到了11：30的时候，我的4s界面上的一丝变化影起了我的注意，右上出现了一个月亮图标。晕，是不是打开了 防打扰模式 啊。敢快去 iphone 6上看，果然开着。晕到，关掉，再试，声音出来了。</p>
<p>一个多小时白白浪费。</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>linux 服务器远程下载</title>
    <url>/post/ac9b.html</url>
    <content><![CDATA[<p><strong>安装 aria2</strong></p>
<p>sudo apt-get install aria2</p>
<p>这样装好了以后，就可以用 ssh 使用 aria2c 了。</p>
<p>但这样有个问题，下载比较花时间，ssh退出，服务就断开了，怎么解决呢？</p>
<p><strong>安装 screen</strong></p>
<p>sudo apt-get install screen</p>
<p>运行时，ssh 后，先 screen ，再在 screen 中 下载，这样就不用怕关 ssh 了。</p>
<p>用 ssh 总是有点不好吧？我不喜欢怎么办？</p>
<p>有个web gui 可以选择。先在服务器上把 aria2 服务跑起来。</p>
<p><span class="s1">aria2c –enable-rpc –rpc-listen-all&#x3D;true –rpc-allow-origin-all -c</span></p>
<p>执行上面的这个就可以了。</p>
<p>下面打开网站：<a href="http://aria2c.com/">http://aria2c.com/</a></p>
<p>这个界面的右上有个搬手，点入那个界面，配置好里面的ip，改成服务器ip, 保存。</p>
<p>现在就可以以后在这个网址上，添加下载任务了，当然文件是下载到你的服务器上的。</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>linux 命令之：halt 不掉电</title>
    <url>/post/2ee1.html</url>
    <content><![CDATA[<p>用halt 关机，每次都不断电，后面只能强关。</p>
<p>查了一下 man 手册，发现加个参数就可以了。</p>
<p>sudo halt -p </p>
<p>电源终于一起关了。</p>
<h4 id="shutdown-与-halt-的区别"><a href="#shutdown-与-halt-的区别" class="headerlink" title="shutdown 与 halt 的区别"></a>shutdown 与 halt 的区别</h4><p>shutdown实际上是调用init 0, init 0会cleanup一些工作然后调用halt或者poweroff。其实主要区别是halt和poweroff，做没有acpi的系统上，halt只是关闭了os，电源还在工作，你得手动取按一下那个按钮，而poweroff会发送一个关闭电源的信号给acpi。</p>
<h4 id="本人HP服务器中自动关机的配置"><a href="#本人HP服务器中自动关机的配置" class="headerlink" title="本人HP服务器中自动关机的配置"></a>本人HP服务器中自动关机的配置</h4><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="comment"># /etc/crontab: system-wide crontab</span></span><br><span class="line"><span class="comment"># Unlike any other crontab you don&#x27;t have to run the `crontab&#x27;</span></span><br><span class="line"><span class="comment"># command to install the new version when you edit this file</span></span><br><span class="line"><span class="comment"># and files in /etc/cron.d. These files also have username fields,</span></span><br><span class="line"><span class="comment"># that none of the other crontabs do.</span></span><br><span class="line"></span><br><span class="line">SHELL=<span class="regexp">/bin/</span>sh</span><br><span class="line">PATH=<span class="regexp">/usr/</span>local<span class="regexp">/sbin:/u</span>sr<span class="regexp">/local/</span>bin:<span class="regexp">/sbin:/</span>bin:<span class="regexp">/usr/</span>sbin:<span class="regexp">/usr/</span>bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># m h dom mon dow user	command</span></span><br><span class="line"><span class="number">17</span> *	* * *	root    cd <span class="regexp">/ &amp;&amp; run-parts --report /</span>etc/cron.hourly</span><br><span class="line"><span class="number">25</span> <span class="number">6</span>	* * *	root	test -x <span class="regexp">/usr/</span>sbin<span class="regexp">/anacron || ( cd /</span> &amp;&amp; run-parts --report <span class="regexp">/etc/</span>cron.daily )</span><br><span class="line"><span class="number">47</span> <span class="number">6</span>	* * <span class="number">7</span>	root	test -x <span class="regexp">/usr/</span>sbin<span class="regexp">/anacron || ( cd /</span> &amp;&amp; run-parts --report <span class="regexp">/etc/</span>cron.weekly )</span><br><span class="line"><span class="number">52</span> <span class="number">6</span>	<span class="number">1</span> * *	root	test -x <span class="regexp">/usr/</span>sbin<span class="regexp">/anacron || ( cd /</span> &amp;&amp; run-parts --report <span class="regexp">/etc/</span>cron.monthly )</span><br><span class="line"><span class="number">55</span> <span class="number">23</span>   * * *   root    <span class="regexp">/sbin/</span>shutdown -h now</span><br><span class="line"><span class="number">15</span> <span class="number">18</span>   * * *   wwq     <span class="regexp">/home/</span>wwq<span class="regexp">/raid/</span>video<span class="regexp">/qnas_homes_bakup/</span>rsync_from_qnas_homes.sh &gt; ~/rsync_from_qnas_homes.log</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>Linux Lab</title>
    <url>/post/46e4.html</url>
    <content><![CDATA[<h2 id="linux-内核学习资源，暂时收集。"><a href="#linux-内核学习资源，暂时收集。" class="headerlink" title="linux 内核学习资源，暂时收集。"></a>linux 内核学习资源，暂时收集。</h2><p>还没有详细研究。 <a href="http://tinylab.org/linux-lab/">http://tinylab.org/linux-lab/</a></p>
]]></content>
  </entry>
  <entry>
    <title>linux 软件 raid 1 同步慢的问题</title>
    <url>/post/efc9.html</url>
    <content><![CDATA[<p>原因其实很简单，不要先急着将盘挂载上去，同步的过程先卸载掉。速度会成百倍的提升，同步完了再monut回来吧。</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>linux  ssh执行命令断开ssh，命令不退出的方法</title>
    <url>/post/5dbf.html</url>
    <content><![CDATA[<p>在树莓派上用ssh的 sox 命令行播放音乐，但是，退出ssh后，随着会话的关闭，播放也就停止了。在网上查找了下解决方法：</p>
<p>经测试，都是可以用的。</p>
<p>1. nohup </p>
<p>用法：nohup play *.mp3</p>
<p>这样就可以了。</p>
<p>2. screen</p>
<p>这个在我的树莓派上要按装： apt-get install screen</p>
<p>用法：</p>
<p>先screen,  然后回车。执行自己的命令，我的是 play *.mp3</p>
<p>就可以关掉会话。</p>
<p>使用screen还要以重新打开这个会话：screen -r </p>
<p>很强大，详情可以 man .</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>树莓派</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ssh</tag>
      </tags>
  </entry>
  <entry>
    <title>linux时区配置</title>
    <url>/post/f0e6.html</url>
    <content><![CDATA[<h4 id="显示当前系统时区"><a href="#显示当前系统时区" class="headerlink" title="显示当前系统时区"></a>显示当前系统时区</h4><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">timedatectl</span></span><br></pre></td></tr></table></figure>

<h4 id="显示系统支持的时区列表"><a href="#显示系统支持的时区列表" class="headerlink" title="显示系统支持的时区列表"></a>显示系统支持的时区列表</h4><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">timedatectl list-timezones</span></span><br></pre></td></tr></table></figure>

<h4 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h4><figure class="highlight dsconfig"><table><tr><td class="code"><pre><span class="line"><span class="string">sudo</span> <span class="string">timedatectl</span> <span class="built_in">set-timezone</span> <span class="string">Asia</span>/<span class="string">Hong_Kong</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>log4cplus 使用问题总结</title>
    <url>/post/217f.html</url>
    <content><![CDATA[<p>一个问题浪费两次时间，真是一个悲伤的故事。</p>
<p>问题出在对于按时间归档的 Appender 的理解失误上，在网上找啊找啊，都是千篇一律的抄来抄去，完全不符合要求。明明记得在不久以前处理过这个问题，但却就忘了提交了呢。宝宝心里苦啊。</p>
<p>我这里要求是按时间生成文件名，也就是文件名是按当时的时间去确定的。当是库上的版本却用了 DailyRollingFileAppender 这个。这个的在确的意思是，多长时是一归档，当然归档会有一个文件名的规则。<br>而这里的问题正确应该用：TimeBasedRollingFileAppender</p>
<p>下面是一个例子：</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">log4cplus.appender.OTS_H</span>=log4cplus::TimeBasedRollingFileAppender</span><br><span class="line"><span class="attr">log4cplus.appender.OTS_H.MaxHistory</span>=<span class="number">10</span></span><br><span class="line"><span class="attr">log4cplus.appender.OTS_H.FilenamePattern</span>=%d&#123;yyyy-MM-dd-HH-mm&#125;_OTS.csv</span><br><span class="line"><span class="attr">log4cplus.appender.OTS_H.layout</span>=log4cplus::PatternLayout</span><br><span class="line"></span><br><span class="line"><span class="attr">log4cplus.appender.OTS_H.layout.ConversionPattern</span>=%m%n</span><br><span class="line"><span class="attr">log4cplus.appender.OTS_H.RollOnClose</span>=<span class="literal">false</span></span><br><span class="line"><span class="attr">log4cplus.appender.OTS_H.Schedule</span>=DAILY</span><br><span class="line"><span class="attr">log4cplus.appender.OTS_H.CreateDirs</span>=<span class="literal">true</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>未分类</category>
      </categories>
  </entry>
  <entry>
    <title>mac下登陆ssh报错解决</title>
    <url>/post/e48.html</url>
    <content><![CDATA[<p>mac登陆服务器，不能成功，报下面的错误：</p>
<p>Could not resolve hostname xxxxx.com:9527: nodename nor servname provided, or not known</p>
<p>但是如果在局域网内有没有问题，检查了下自己的输入的命令：</p>
<pre><code>ssh xxx@xxxxx.com:9527


会出现问题，如果是这样，就可以：

ssh xxx@192.168.1.5

就可以

### 怎么处理呢？

能过查找发现，要解决这个问题，命令换个写法就可以了：

ssh -p 22221 xxx@xxxxx.com
</code></pre>
<p>就可以了。</p>
<h3 id="但又是什么原因呢？"><a href="#但又是什么原因呢？" class="headerlink" title="但又是什么原因呢？"></a>但又是什么原因呢？</h3><p>个人猜测，应该是，mac的ssh程序解析域名的时候，识别不出后面的端口，有bug，同样的做法，用别的ssh客户端就可以了。</p>
]]></content>
      <categories>
        <category>Mac 使用</category>
      </categories>
  </entry>
  <entry>
    <title>nextcloud 移动数据位置</title>
    <url>/post/77ce.html</url>
    <content><![CDATA[<p>下面是官方说明： <a href="https://github.com/nextcloud/nextcloud-snap/wiki/Change-data-directory-to-use-another-disk-partition">https://github.com/nextcloud/nextcloud-snap/wiki/Change-data-directory-to-use-another-disk-partition</a> Removable media Also note that the interface providing the ability to access removable media is not automatically connected upon install, so if you’d like to use external storage (or otherwise use a device in &#x2F;media for data), you need to give the snap permission to access removable media by connecting that interface: $ sudo snap connect nextcloud:removable-media 可以使用 mount –bind 命令挂载已有目录。要实现自动挂载，可以写在 &#x2F;etc&#x2F;fstab 里面。</p>
]]></content>
  </entry>
  <entry>
    <title>Python 2 与 Python 3 共存方案</title>
    <url>/post/fedb.html</url>
    <content><![CDATA[<h1 id="Python-2-与-Python-3-共存方案"><a href="#Python-2-与-Python-3-共存方案" class="headerlink" title="Python 2 与 Python 3 共存方案"></a>Python 2 与 Python 3 共存方案</h1><p>在许多开发环境中，可能需要同时使用 Python 2 和 Python 3 两个版本。以下是实现两个版本共存的详细步骤：</p>
<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><ol>
<li><strong>下载安装包</strong>：分别下载 Python 2 和 Python 3 的安装包</li>
<li><strong>正常安装</strong>：按顺序安装 Python 2 和 Python 3</li>
<li><strong>配置环境变量</strong>：将两个版本的安装路径和 Scripts 目录添加到系统环境变量中<ul>
<li>例如 Python 2 的路径：<code>C:\Python27</code> 和 <code>C:\Python27\Scripts</code></li>
<li>Python 3 的路径：<code>C:\Python3x</code> 和 <code>C:\Python3x\Scripts</code></li>
</ul>
</li>
</ol>
<h2 id="修改解释器名称"><a href="#修改解释器名称" class="headerlink" title="修改解释器名称"></a>修改解释器名称</h2><p>为了区分两个版本的 Python 解释器，可以修改可执行文件的名称：</p>
<ol>
<li>进入 Python 2 的安装目录</li>
<li>将 <code>python.exe</code> 重命名为 <code>python2.exe</code></li>
<li>将 <code>pythonw.exe</code> 重命名为 <code>pythonw2.exe</code></li>
<li>同样地，对 Python 3 进行类似操作：<ul>
<li>将 <code>python.exe</code> 重命名为 <code>python3.exe</code></li>
<li>将 <code>pythonw.exe</code> 重命名为 <code>pythonw3.exe</code></li>
</ul>
</li>
</ol>
<h2 id="验证安装"><a href="#验证安装" class="headerlink" title="验证安装"></a>验证安装</h2><p>在命令行中输入以下命令验证安装是否成功：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 检查 Python 2 版本</span></span><br><span class="line">python2 --version</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查 Python 3 版本</span></span><br><span class="line">python3 --version</span><br></pre></td></tr></table></figure>

<h2 id="pip-的使用"><a href="#pip-的使用" class="headerlink" title="pip 的使用"></a>pip 的使用</h2><p>pip 也需要区分版本：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 使用 Python 2 的 pip</span></span><br><span class="line">python2 -m pip install 包名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 Python 3 的 pip</span></span><br><span class="line">python3 -m pip install 包名</span><br></pre></td></tr></table></figure>

<h2 id="编写兼容两个版本的代码"><a href="#编写兼容两个版本的代码" class="headerlink" title="编写兼容两个版本的代码"></a>编写兼容两个版本的代码</h2><p>如果需要编写同时兼容 Python 2 和 Python 3 的代码，可以使用以下工具：</p>
<h3 id="1-future-模块"><a href="#1-future-模块" class="headerlink" title="1. future 模块"></a>1. <strong>future</strong> 模块</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 使用 Python 3 的 print 函数</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 Python 3 的除法行为</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> division</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 Python 3 的 Unicode 字符串</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> unicode_literals</span><br></pre></td></tr></table></figure>

<h3 id="2-six-库"><a href="#2-six-库" class="headerlink" title="2. six 库"></a>2. six 库</h3><p>six 是一个专门用于解决 Python 2 和 Python 3 兼容性问题的库：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安装 six</span></span><br><span class="line">pip install six</span><br></pre></td></tr></table></figure>

<p>使用示例：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> six</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> six.PY2:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;这是 Python 2&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;这是 Python 3&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在两个版本中都能正常工作的代码</span></span><br><span class="line">text = six.u(<span class="string">&quot;Unicode 字符串&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h2><p>有关更多详细信息，请参考官方文档：</p>
<ul>
<li>Python 3 安装指南：<a href="https://docs.python.org/3/installing/">https://docs.python.org/3/installing/</a></li>
<li>six 库官方文档：<a href="https://six.readthedocs.io/">https://six.readthedocs.io/</a></li>
</ul>
<p>通过以上方法，您可以在同一台计算机上无缝地使用 Python 2 和 Python 3，满足不同项目的需求。</p>
]]></content>
      <tags>
        <tag>Python</tag>
        <tag>环境配置</tag>
      </tags>
  </entry>
  <entry>
    <title>qnap国外商店</title>
    <url>/post/bf0e.html</url>
    <content><![CDATA[<p><a href="https://qnapclub.eu/index.php/en">https://qnapclub.eu/index.php/en</a></p>
]]></content>
  </entry>
  <entry>
    <title>ssh 通过证书建立信任关系（转）（备用）</title>
    <url>/post/26b1.html</url>
    <content><![CDATA[<h1 id="建立SSH信任"><a href="#建立SSH信任" class="headerlink" title="建立SSH信任"></a>建立SSH信任</h1><p>将A主机做为客户端（发起SSH请求 ip:192.168.200.170）<br>将B主机作为服务器端（接收ssh请求   ip:192.168.200.149）<br>以上以主动发起SSH登录请求的主机和接收请求的主机进行分类</p>
<h2 id="A主机生成公，私钥证书"><a href="#A主机生成公，私钥证书" class="headerlink" title="A主机生成公，私钥证书"></a>A主机生成公，私钥证书</h2><figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">[root@buddytj-10 .ssh]# ssh-keygen -t rsa     #rsa算法的证书</span><br><span class="line">Generating <span class="keyword">public</span>/<span class="keyword">private</span> rsa <span class="keyword">key</span> pair. （以下一路回车）</span><br><span class="line">Enter file <span class="keyword">in</span> which <span class="keyword">to</span> save the <span class="keyword">key</span> (/root/.ssh/id_rsa):</span><br><span class="line"></span><br><span class="line">/root/.ssh/id_rsa already <span class="keyword">exists</span>.</span><br><span class="line">Overwrite (y/n)? y                      （因为我的证书已存在，覆盖即可）</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): </span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /root/.ssh/id_rsa. （私钥）</span><br><span class="line">Your <span class="keyword">public</span> <span class="keyword">key</span> has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.pub. （公钥）</span><br><span class="line">The <span class="keyword">key</span> fingerprint <span class="keyword">is</span>:</span><br><span class="line">c1:<span class="number">26</span>:cc:<span class="number">88</span>:<span class="number">2</span>b:<span class="number">05</span>:dd:c3:<span class="number">6</span>b:<span class="number">1</span><span class="built_in">e</span>:<span class="number">78</span>:<span class="number">5</span>d:da:<span class="number">9</span>c:da:<span class="number">8</span>a </span><br><span class="line">证书就生成了   id_rsa （私钥）|&amp;amp; id_rsa.pub （公钥） </span><br></pre></td></tr></table></figure>

<h2 id="将A主机生成的公钥传递给B主机"><a href="#将A主机生成的公钥传递给B主机" class="headerlink" title="将A主机生成的公钥传递给B主机"></a>将A主机生成的公钥传递给B主机</h2><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-attr">[root@xyh .ssh]</span><span class="selector-id">#scp</span> <span class="selector-tag">id_rsa</span><span class="selector-class">.pub</span>  <span class="number">192.168</span><span class="selector-class">.200</span><span class="selector-class">.149</span>：/<span class="selector-tag">root</span>/<span class="selector-class">.ssh</span>/</span><br><span class="line">在<span class="selector-tag">B</span>主机上将<span class="selector-tag">A</span>的公钥更名为</span><br><span class="line"><span class="selector-attr">[root@xyh .ssh]</span><span class="selector-id">#mv</span> <span class="selector-tag">id_rsa</span><span class="selector-class">.pub</span> <span class="selector-tag">authorized_keys</span> </span><br></pre></td></tr></table></figure>
<p>至此从A主机远程SSH B主机的工作即告完成</p>
]]></content>
      <categories>
        <category>未分类</category>
      </categories>
  </entry>
  <entry>
    <title>snap 方式安装的 nextcloud 设置默认端口</title>
    <url>/post/2ef5.html</url>
    <content><![CDATA[<p>比如改成81端口，使用命令sudo snap set nextcloud ports.http&#x3D;81</p>
]]></content>
  </entry>
  <entry>
    <title>tmux使用：复制与粘贴</title>
    <url>/post/f8e.html</url>
    <content><![CDATA[<p>拷贝与粘贴</p>
<p>tmux不同的配置，快捷键会存在较大的差异。也就是说，可以定义不同的快捷键来实现复制与粘贴。详细的说明可以在 tmux 的手册中找到。<br>但对于其默认的设置中这样的：<br><strong>使用 “ctrl-b [“ 进入拷贝模式，使用空格键（space）开始内容选取，回车键（Enter）进行拷贝，然后使用 “ctrl-b ]” 进行粘贴。</strong></p>
<p>Good luck.</p>
]]></content>
      <categories>
        <category>tmux</category>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>tmux配置：用鼠标切换窗口、调节大小</title>
    <url>/post/198e.html</url>
    <content><![CDATA[<p>以下内容来自这里：<a href="http://www.cnblogs.com/bamanzi/p/tmux-mouse-tips.html">HERE</a></p>
<p>其实就这么几行配置:</p>
<figure class="highlight hsp"><table><tr><td class="code"><pre><span class="line">setw -g <span class="keyword">mouse</span>-resize-pane <span class="keyword">on</span></span><br><span class="line">setw -g <span class="keyword">mouse</span>-select-pane <span class="keyword">on</span></span><br><span class="line">setw -g <span class="keyword">mouse</span>-select-window <span class="keyword">on</span></span><br><span class="line">setw -g mode-<span class="keyword">mouse</span> <span class="keyword">on</span></span><br></pre></td></tr></table></figure>
<p>这几行的作用分别是:</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">开启用鼠标拖动调节pane的大小（拖动位置是pane之间的分隔线）</span><br><span class="line">开启用鼠标点击pane来激活该pane</span><br><span class="line">开启用鼠标点击来切换活动<span class="built_in">window</span>（点击位置是状态栏的窗口名称）</span><br><span class="line">开启<span class="built_in">window</span>/pane里面的鼠标支持（也即可以用鼠标滚轮回滚显示窗口内容，此时还可以用鼠标选取文本）</span><br></pre></td></tr></table></figure>
<p>这几行配置加到 ~&#x2F;.tmux.conf 中，然后在tmux里面按 C-b : 执行 source ~&#x2F;.tmux.conf 即可生效 （也可以直接将这几行放在 C-b : 的输入行去执行，每次执行一行，不过 tmux重启后还得再来一遍）。</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>ubuntu 启动默认进入命令行的修改方法</title>
    <url>/post/e88e.html</url>
    <content><![CDATA[<p>首先，编辑sudo vi &#x2F;etc&#x2F;default&#x2F;grub 文件，找到如下行:</p>
<p>GRUB_CMDLINE_LINUX_DEFAULT&#x3D;”quiet splash”</p>
<p>将其注释掉（待恢复时可用）</p>
<p>#GRUB_CMDLINE_LINUX_DEFAULT&#x3D;”quiet splash”</p>
<p>然后，添加以下内容</p>
<p>GRUB_CMDLINE_LINUX_DEFAULT&#x3D;”text”</p>
<p>保存文件并退出</p>
<p>最后，使用 sudo update-grub 命令，使配置生效</p>
<p>reboot 启动系统即可。</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>win10 打不开samba文件夹的解决方法</title>
    <url>/post/4a9e.html</url>
    <content><![CDATA[<p>Win10 打不开局域网电脑共享的文件夹。</p>
<p>在网上搜了一下，说关掉Pin的，也有说不要用微软帐户的。我试了一下，只关掉PIN是不行的，但不能用指纹登陆了。关掉微软帐户，启用本地帐户，重启就可以。</p>
<p>也有说关掉自动同步，可以用微软帐户的，试了下，应该是不行的。</p>
<p>难道要访问局域网中的资源，只能用本地帐户？ 我想微软应该不会这么傻X吧。肯定是哪里没有设置好。</p>
<p>把设置找了一遍，果然找到了：</p>
<p>Control Panel\Network and Internet\Network and Sharing Centre\Advanced sharing settings</p>
<p>下面的 File and Printer share 默认是关闭的。打开以后就可以了。</p>
<p>这个应该才是正确的解锁姿势，默认是关闭的，默认是关闭的，默认是关闭的。晕倒。</p>
]]></content>
      <categories>
        <category>win10</category>
      </categories>
  </entry>
  <entry>
    <title>Win10 启用组策略</title>
    <url>/post/ad08.html</url>
    <content><![CDATA[<h1 id="Win10-启用组策略"><a href="#Win10-启用组策略" class="headerlink" title="Win10 启用组策略"></a>Win10 启用组策略</h1><p>WIN+R 运行输入 gpedit.msc 发现找不到这个命令。在网上查了一下，说可能是因为自已用的Win10是家庭版，不支持这个功能。</p>
<p>发现用下面的方法可以手动安装。亲测好用。</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">pushd</span> <span class="string">&quot;%~dp0&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> /b %systemroot%\Windows\servicing\Packages\Microsoft<span class="literal">-Windows-GroupPolicy-ClientExtensions-Package</span>~<span class="number">3</span>*.mum &gt;gp.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> /b  %systemroot%\servicing\Packages\Microsoft<span class="literal">-Windows-GroupPolicy-ClientTools-Package</span>~<span class="number">3</span>*.mum &gt;&gt;gp.txt</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> /f %%i <span class="keyword">in</span> (<span class="string">&#x27;findstr /i . gp.txt 2^&gt;nul&#x27;</span>) <span class="keyword">do</span> dism /online /norestart /<span class="built_in">add-package</span>:<span class="string">&quot;%systemroot%\servicing\Packages\%%i&quot;</span></span><br><span class="line"></span><br><span class="line">pause</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>把上面的内容存到一个bat文件中。用管理员权限执行，就能自动安装。</p>
<p>然后就可以运行 gpedit.msc 了。</p>
]]></content>
      <categories>
        <category>win10</category>
      </categories>
      <tags>
        <tag>win10</tag>
      </tags>
  </entry>
  <entry>
    <title>xcode 根据不同的编译目标加载不同的库</title>
    <url>/post/f178.html</url>
    <content><![CDATA[<p>在xcode上开发IOS程序，可以将一个项目编译模拟器和真机，对应着又分别有debug和Release, 相应的别人提供的库也可能按这样给的，代码中要怎么加载呢？</p>
<p>xcode中可以直接配置：</p>
<p>打开工程配置文件，选择 “TARGETS”,找到“Build Settings”选项卡，然后找到“Search Paths”，设置“Library Search Paths”。根据不同的平台选择相应的库的路径就可以了。</p>
]]></content>
      <categories>
        <category>IOS 开发</category>
      </categories>
  </entry>
  <entry>
    <title>xelatex 纸张大小设置</title>
    <url>/post/5026.html</url>
    <content><![CDATA[<figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="language-xml">\documentclass[]</span><span class="template-variable">&#123;article&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">\usepackage[T1]</span><span class="template-variable">&#123;fontenc&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">\usepackage</span><span class="template-variable">&#123;lmodern&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">\usepackage</span><span class="template-variable">&#123;amssymb,amsmath&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">\usepackage</span><span class="template-variable">&#123;ifxetex,ifluatex&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">**\usepackage[body=</span><span class="template-variable">&#123;18cm,24cm&#125;</span><span class="language-xml">]</span><span class="template-variable">&#123;geometry&#125;</span><span class="language-xml">**</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">**\geometry</span><span class="template-variable">&#123;papersize=&#123;21cm,29.7cm&#125;</span><span class="language-xml">&#125;**</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">\usepackage</span><span class="template-variable">&#123;fixltx2e&#125;</span><span class="language-xml"> % provides \textsubscript</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">% use microtype if available</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">\IfFileExists</span><span class="template-variable">&#123;microtype.sty&#125;</span><span class="template-variable">&#123;\usepackage&#123;microtype&#125;</span><span class="language-xml">&#125;</span><span class="template-variable">&#123;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">% use upquote if available, for straight quotes in verbatim environments</span></span><br><span class="line"><span class="language-xml"></span></span><br></pre></td></tr></table></figure>
<p>注意加粗的两行。</p>
<p>&nbsp;</p>
]]></content>
      <categories>
        <category>百度空间的旧文章</category>
      </categories>
  </entry>
  <entry>
    <title>xeletax 中文不换行的解决方案</title>
    <url>/post/227b.html</url>
    <content><![CDATA[<p>下面的方案是可行的：</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\XeTeXlinebreaklocale</span> &quot;zh&quot;</span><br><span class="line"><span class="keyword">\XeTeXlinebreakskip</span> = 0pt plus 1pt`&lt;/pre&gt;</span><br><span class="line">整个文件：&lt;!--more--&gt;</span><br><span class="line"></span><br><span class="line">&lt;pre&gt;`<span class="keyword">\documentclass</span>[<span class="built_in">$</span>if(fontsize)<span class="built_in">$</span><span class="built_in">$</span>fontsize<span class="built_in">$</span>,<span class="built_in">$</span>endif<span class="built_in">$</span><span class="built_in">$</span>if(lang)<span class="built_in">$</span><span class="built_in">$</span>lang<span class="built_in">$</span>,<span class="built_in">$</span>endif<span class="built_in">$</span><span class="built_in">$</span>if(papersize)<span class="built_in">$</span><span class="built_in">$</span>papersize<span class="built_in">$</span>,<span class="built_in">$</span>endif<span class="built_in">$</span>]&#123;<span class="built_in">$</span>documentclass<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[T1]&#123;fontenc&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;lmodern&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;amssymb,amsmath&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;ifxetex,ifluatex&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;fixltx2e&#125; <span class="comment">% provides \textsubscript</span></span><br><span class="line"><span class="comment">% use microtype if available</span></span><br><span class="line"><span class="keyword">\IfFileExists</span>&#123;microtype.sty&#125;&#123;<span class="keyword">\usepackage</span>&#123;microtype&#125;&#125;&#123;&#125;</span><br><span class="line"><span class="comment">% use upquote if available, for straight quotes in verbatim environments</span></span><br><span class="line"><span class="keyword">\IfFileExists</span>&#123;upquote.sty&#125;&#123;<span class="keyword">\usepackage</span>&#123;upquote&#125;&#125;&#123;&#125;</span><br><span class="line"><span class="keyword">\ifnum</span> 0<span class="keyword">\ifxetex</span> 1<span class="keyword">\fi</span><span class="keyword">\ifluatex</span> 1<span class="keyword">\fi</span>=0 <span class="comment">% if pdftex</span></span><br><span class="line">  <span class="keyword">\usepackage</span>[utf8]&#123;inputenc&#125;</span><br><span class="line"><span class="built_in">$</span>if(euro)<span class="built_in">$</span></span><br><span class="line">  <span class="keyword">\usepackage</span>&#123;eurosym&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\else</span> <span class="comment">% if luatex or xelatex</span></span><br><span class="line">  <span class="keyword">\usepackage</span>&#123;fontspec&#125;</span><br><span class="line">  <span class="keyword">\ifxetex</span></span><br><span class="line">    <span class="keyword">\usepackage</span>&#123;xltxtra,xunicode&#125;</span><br><span class="line">  <span class="keyword">\fi</span></span><br><span class="line">  <span class="keyword">\defaultfontfeatures</span>&#123;Mapping=tex-text,Scale=MatchLowercase&#125;</span><br><span class="line">  <span class="keyword">\newcommand</span>&#123;<span class="keyword">\euro</span>&#125;&#123;€&#125;</span><br><span class="line"><span class="built_in">$</span>if(mainfont)<span class="built_in">$</span></span><br><span class="line">    <span class="keyword">\setmainfont</span>&#123;<span class="built_in">$</span>mainfont<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(sansfont)<span class="built_in">$</span></span><br><span class="line">    <span class="keyword">\setsansfont</span>&#123;<span class="built_in">$</span>sansfont<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(monofont)<span class="built_in">$</span></span><br><span class="line">    <span class="keyword">\setmonofont</span>&#123;<span class="built_in">$</span>monofont<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(mathfont)<span class="built_in">$</span></span><br><span class="line">    <span class="keyword">\setmathfont</span>&#123;<span class="built_in">$</span>mathfont<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\fi</span></span><br><span class="line"><span class="built_in">$</span>if(geometry)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\usepackage</span>[<span class="built_in">$</span>for(geometry)<span class="built_in">$</span><span class="built_in">$</span>geometry<span class="built_in">$</span><span class="built_in">$</span>sep<span class="built_in">$</span>,<span class="built_in">$</span>endfor<span class="built_in">$</span>]&#123;geometry&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(natbib)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;natbib&#125;</span><br><span class="line"><span class="keyword">\bibliographystyle</span>&#123;plainnat&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(biblatex)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;biblatex&#125;</span><br><span class="line"><span class="built_in">$</span>if(biblio-files)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\bibliography</span>&#123;<span class="built_in">$</span>biblio-files<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(listings)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;listings&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(lhs)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\lstnewenvironment</span>&#123;code&#125;&#123;<span class="keyword">\lstset</span>&#123;language=Haskell,basicstyle=<span class="keyword">\small</span><span class="keyword">\ttfamily</span>&#125;&#125;&#123;&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(highlighting-macros)<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>highlighting-macros<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(verbatim-in-note)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;fancyvrb&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(tables)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;longtable&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(graphics)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;graphicx&#125;</span><br><span class="line"><span class="comment">% We will generate all images so they have a width \maxwidth. This means</span></span><br><span class="line"><span class="comment">% that they will get their normal width if they fit onto the page, but</span></span><br><span class="line"><span class="comment">% are scaled down if they would overflow the margins.</span></span><br><span class="line"><span class="keyword">\makeatletter</span></span><br><span class="line"><span class="keyword">\def</span><span class="keyword">\maxwidth</span>&#123;<span class="keyword">\ifdim</span><span class="keyword">\Gin@nat@width</span><span class="built_in">&amp;</span>gt;<span class="keyword">\linewidth</span><span class="keyword">\linewidth</span></span><br><span class="line"><span class="keyword">\else</span><span class="keyword">\Gin@nat@width</span><span class="keyword">\fi</span>&#125;</span><br><span class="line"><span class="keyword">\makeatother</span></span><br><span class="line"><span class="keyword">\let</span><span class="keyword">\Oldincludegraphics</span><span class="keyword">\includegraphics</span></span><br><span class="line"><span class="keyword">\renewcommand</span>&#123;<span class="keyword">\includegraphics</span>&#125;[1]&#123;<span class="keyword">\Oldincludegraphics</span>[width=<span class="keyword">\maxwidth</span>]&#123;<span class="params">#1</span>&#125;&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\ifxetex</span></span><br><span class="line">  <span class="keyword">\usepackage</span>[setpagesize=false, <span class="comment">% page size defined by xetex</span></span><br><span class="line">              unicode=false, <span class="comment">% unicode breaks when used with xetex</span></span><br><span class="line">              xetex]&#123;hyperref&#125;</span><br><span class="line"><span class="keyword">\else</span></span><br><span class="line">  <span class="keyword">\usepackage</span>[unicode=true]&#123;hyperref&#125;</span><br><span class="line"><span class="keyword">\fi</span></span><br><span class="line"><span class="keyword">\hypersetup</span>&#123;breaklinks=true,</span><br><span class="line">            bookmarks=true,</span><br><span class="line">            pdfauthor=&#123;<span class="built_in">$</span>author-meta<span class="built_in">$</span>&#125;,</span><br><span class="line">            pdftitle=&#123;<span class="built_in">$</span>title-meta<span class="built_in">$</span>&#125;,</span><br><span class="line">            colorlinks=true,</span><br><span class="line">            urlcolor=<span class="built_in">$</span>if(urlcolor)<span class="built_in">$</span><span class="built_in">$</span>urlcolor<span class="built_in">$</span><span class="built_in">$</span>else<span class="built_in">$</span>blue<span class="built_in">$</span>endif<span class="built_in">$</span>,</span><br><span class="line">            linkcolor=<span class="built_in">$</span>if(linkcolor)<span class="built_in">$</span><span class="built_in">$</span>linkcolor<span class="built_in">$</span><span class="built_in">$</span>else<span class="built_in">$</span>magenta<span class="built_in">$</span>endif<span class="built_in">$</span>,</span><br><span class="line">            pdfborder=&#123;0 0 0&#125;&#125;</span><br><span class="line"><span class="keyword">\urlstyle</span>&#123;same&#125;  <span class="comment">% don&#x27;t use monospace font for urls</span></span><br><span class="line"><span class="built_in">$</span>if(links-as-notes)<span class="built_in">$</span></span><br><span class="line"><span class="comment">% Make links footnotes instead of hotlinks:</span></span><br><span class="line"><span class="keyword">\renewcommand</span>&#123;<span class="keyword">\href</span>&#125;[2]&#123;<span class="params">#2</span><span class="keyword">\footnote</span>&#123;<span class="keyword">\url</span>&#123;<span class="link">#1</span>&#125;&#125;&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(strikeout)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\usepackage</span>[normalem]&#123;ulem&#125;</span><br><span class="line"><span class="comment">% avoid problems with \sout in headers with hyperref:</span></span><br><span class="line"><span class="keyword">\pdfstringdefDisableCommands</span>&#123;<span class="keyword">\renewcommand</span>&#123;<span class="keyword">\sout</span>&#125;&#123;&#125;&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\setlength</span>&#123;<span class="keyword">\parindent</span>&#125;&#123;0pt&#125;</span><br><span class="line"><span class="keyword">\setlength</span>&#123;<span class="keyword">\parskip</span>&#125;&#123;6pt plus 2pt minus 1pt&#125;</span><br><span class="line"><span class="keyword">\setlength</span>&#123;<span class="keyword">\emergencystretch</span>&#125;&#123;3em&#125;  <span class="comment">% prevent overfull lines</span></span><br><span class="line"><span class="built_in">$</span>if(numbersections)<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>else<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\setcounter</span>&#123;secnumdepth&#125;&#123;0&#125;</span><br><span class="line"><span class="keyword">\XeTeXlinebreaklocale</span> &quot;zh&quot;</span><br><span class="line"><span class="keyword">\XeTeXlinebreakskip</span> = 0pt plus 1pt<span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(verbatim-in-note)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\VerbatimFootnotes</span> <span class="comment">% allows verbatim text in footnotes</span></span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(lang)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\ifxetex</span></span><br><span class="line">  <span class="keyword">\usepackage</span>&#123;polyglossia&#125;</span><br><span class="line">  <span class="keyword">\setmainlanguage</span>&#123;<span class="built_in">$</span>mainlang<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="keyword">\else</span></span><br><span class="line">  <span class="keyword">\usepackage</span>[<span class="built_in">$</span>lang<span class="built_in">$</span>]&#123;babel&#125;</span><br><span class="line"><span class="keyword">\fi</span></span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>for(header-includes)<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>header-includes<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>endfor<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(title)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\title</span>&#123;<span class="built_in">$</span>title<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\author</span>&#123;<span class="built_in">$</span>for(author)<span class="built_in">$</span><span class="built_in">$</span>author<span class="built_in">$</span><span class="built_in">$</span>sep<span class="built_in">$</span> <span class="keyword">\and</span> <span class="built_in">$</span>endfor<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="keyword">\date</span>&#123;<span class="built_in">$</span>date<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="built_in">$</span>if(title)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\maketitle</span></span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>for(include-before)<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>include-before<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>endfor<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(toc)<span class="built_in">$</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">\hypersetup</span>&#123;linkcolor=black&#125;</span><br><span class="line"><span class="keyword">\setcounter</span>&#123;tocdepth&#125;&#123;<span class="built_in">$</span>toc-depth<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="keyword">\tableofcontents</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>body<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(natbib)<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(biblio-files)<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(biblio-title)<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(book-class)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\renewcommand</span><span class="keyword">\bibname</span>&#123;<span class="built_in">$</span>biblio-title<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="built_in">$</span>else<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\renewcommand</span><span class="keyword">\refname</span>&#123;<span class="built_in">$</span>biblio-title<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\bibliography</span>&#123;<span class="built_in">$</span>biblio-files<span class="built_in">$</span>&#125;</span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>if(biblatex)<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\printbibliography</span><span class="built_in">$</span>if(biblio-title)<span class="built_in">$</span>[title=<span class="built_in">$</span>biblio-title<span class="built_in">$</span>]<span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>endif<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>for(include-after)<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>include-after<span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span>endfor<span class="built_in">$</span></span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>~~~~~~~~~~~~~~~
</code></pre>
]]></content>
      <categories>
        <category>百度空间的旧文章</category>
      </categories>
  </entry>
  <entry>
    <title>xslt keep-together.within-page 在Fop中的形为</title>
    <url>/post/752.html</url>
    <content><![CDATA[<figure class="highlight sas"><table><tr><td class="code"><pre><span class="line"><span class="keyword">keep</span>-together.within-<span class="keyword">page</span></span><br></pre></td></tr></table></figure>
<ol>
<li><p>auto是默认形为, 写不写都是一样的。</p>
</li>
<li><p>always是强制在一页中。如果当前限制的内容超过一页时，会从页面下方溢出。</p>
</li>
<li><p>指定一个数字。测试 1 的形为是这样的：会换页将当前内容保持在一页中。但如果当前内容超过一页时，也会将多余的内容显示到下一页中，保证不会将内容溢出到纸的外面。</p>
</li>
</ol>
<p><a href="https://www.w3.org/TR/xsl11/#keep-together">https://www.w3.org/TR/xsl11/#keep-together</a></p>
]]></content>
  </entry>
  <entry>
    <title>xslt调试技巧</title>
    <url>/post/4aae.html</url>
    <content><![CDATA[<p><a href="https://www.ibm.com/developerworks/cn/xml/x-tipxslmsg.html">https://www.ibm.com/developerworks/cn/xml/x-tipxslmsg.html</a></p>
]]></content>
  </entry>
  <entry>
    <title>Git: 利用Git的subtree功能在不同工程共享代码</title>
    <url>/post/278d.html</url>
    <content><![CDATA[<h2 id="1-第一次添加子目录，建立与git项目的关联"><a href="#1-第一次添加子目录，建立与git项目的关联" class="headerlink" title="1. 第一次添加子目录，建立与git项目的关联"></a>1. 第一次添加子目录，建立与git项目的关联</h2><p>建立关联总共有2条命令。</p>
<p>语法： git remote add -f &lt;子仓库名&gt; &lt;子仓库地址&gt;</p>
<p>解释：其中-f意思是在添加远程仓库之后，立即执行fetch。</p>
<p>语法： git subtree add –prefix&#x3D;&lt;子目录名&gt; &lt;子仓库名&gt; &lt;分支&gt; –squash</p>
<p>解释：–squash意思是把subtree的改动合并成一次commit，这样就不用拉取子项目完整的历史记录。–prefix之后的&#x3D;等号也可以用空格。</p>
<p>示例</p>
<pre><code>$git remote add -f ai https://github.com/aoxu/ai.git  
$git subtree add --prefix=ai ai master --squash
`&lt;/pre&gt;

## 2\. 从远程仓库更新子目录

更新子目录有2条命令。

语法： git fetch &amp;lt;远程仓库名&gt; &amp;lt;分支&gt;

语法： git subtree pull --prefix=&amp;lt;子目录名&gt; &amp;lt;远程分支&gt; &amp;lt;分支&gt; --squash

示例

&lt;pre&gt;`$git fetch ai master  
$git subtree pull --prefix=ai ai --squash
`&lt;/pre&gt;

## 3\. 从子目录push到远程仓库（确认你有写权限）

推送子目录的变更有1条命令。

语法： git subtree push --prefix=&amp;lt;子目录名&gt; &amp;lt;远程分支名&gt; 分支

示例

&lt;pre&gt;`$git subtree push --prefix=ai ai master
</code></pre>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>zerotier重新配置</title>
    <url>/post/fba5.html</url>
    <content><![CDATA[<h4 id="ubuntu-重新加入已有网络"><a href="#ubuntu-重新加入已有网络" class="headerlink" title="ubuntu 重新加入已有网络"></a>ubuntu 重新加入已有网络</h4><p>总共三步：</p>
<ol>
<li>安装： curl -s <a href="https://install.zerotier.com/">https://install.zerotier.com</a> | sudo bash</li>
<li>加入网络： sudo zerotier-cli join 你的network ID</li>
<li>最后一步一定不要忘，要去官网上授权：点击网络id，向下找到授权的部分，在前面打上勾。</li>
</ol>
]]></content>
      <tags>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title>加快QWebview中执行Javascript的速度</title>
    <url>/post/7bc4.html</url>
    <content><![CDATA[<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>在使用Qt的QWebView执行JavaScript代码时，可能会遇到执行速度非常慢且内存占用过高的问题。这通常发生在执行包含jQuery的代码时。</p>
<h2 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h2><p>经过分析发现，问题的根源在于：Qt会自动评估JavaScript代码最后一条语句的返回值，并将其转换为QVariant对象。当使用jQuery时，jQuery函数通常会返回jQuery对象本身，而Qt会递归地评估整个jQuery对象，这导致了大量的时间和内存消耗。</p>
<p>值得注意的是，之前有些开发者尝试使用<code>console.log()</code>来解决这个问题，实际上真正起作用的不是<code>console.log()</code>本身，而是它返回的<code>null</code>值。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>最简单的解决方案是在JavaScript代码末尾添加<code>; null</code>，这样就不会返回复杂的jQuery对象，而是返回一个简单的<code>null</code>值，从而避免了Qt对复杂对象的递归评估。</p>
<h3 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 优化前</span></span><br><span class="line">myWebElement-&gt;<span class="built_in">evaluateJavaScript</span>(myScript);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 优化后</span></span><br><span class="line">myWebElement-&gt;<span class="built_in">evaluateJavaScript</span>(myScript + <span class="string">&quot;; null&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>如果您在使用QWebView执行JavaScript时发现速度异常缓慢，请尝试上述方法，通常能显著提高执行效率并降低内存占用。</p>
]]></content>
      <tags>
        <tag>Qt</tag>
        <tag>QWebView</tag>
        <tag>JavaScript</tag>
        <tag>性能优化</tag>
      </tags>
  </entry>
  <entry>
    <title>blog复活</title>
    <url>/post/dc95.html</url>
    <content><![CDATA[<h1 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h1><p>之前在阿里云上花钱买了一个网页空间，用了好几年，刚开始还挺好的，但最近半年，完全不能用。频繁刷新都能被关黑屋。还遇到有人恶意访问。</p>
<p>今天终于花时间弄清楚了 github + hexo + next + travis-ci 的blog组合。</p>
<p>搞清楚了hexo 的 tags 和 categories 的启用方法。</p>
<p>从目前的情况来说，与之前的 wordpress 对比，显示完美，当然写作没有之前的方便。</p>
<p>还支持 https，并且 github 技术加持，不担心被人恶意黑掉。自己的域名也能完美支持。</p>
<p>总之，blog 重新复活。</p>
<h1 id="如何快速创建一个github个人网站？"><a href="#如何快速创建一个github个人网站？" class="headerlink" title="如何快速创建一个github个人网站？"></a>如何快速创建一个github个人网站？</h1><p>克隆一个已经存在的网站:)，比如我这个<a href="https://github.com/wangwanqiang/myHexoSite.git">网站</a>。然后把source目录中的内容删除掉。在调整一下自己的配置就可以了。</p>
<h1 id="hexo-blog-如何创建404页面"><a href="#hexo-blog-如何创建404页面" class="headerlink" title="hexo blog 如何创建404页面"></a>hexo blog 如何创建404页面</h1><p>有两种方法：</p>
<ol>
<li><p>可以自己创建一个 404.html 页面直接放到 source 目录下面。</p>
</li>
<li><p>也可以在 source 目录下面创建一个 404 的文件夹， 然后面在里面创建一个 index.md 的文件。 可以使用这个命令创建 <code>hexo new page &quot;404&quot;</code></p>
</li>
</ol>
<h1 id="图床如何用？"><a href="#图床如何用？" class="headerlink" title="图床如何用？"></a>图床如何用？</h1><ol>
<li><p>七牛的不错，可以绑定自己的域名。做好备份，如果那天免费不能用了，换地方应该也不需要在文章里面改链接。</p>
</li>
<li><p>还有一个自动上传的工作可用。 MPic官方网址：<a href="http://mpic.lzhaofu.cn/">http://mpic.lzhaofu.cn</a></p>
</li>
</ol>
]]></content>
      <tags>
        <tag>blog</tag>
        <tag>hexo</tag>
        <tag>next</tag>
      </tags>
  </entry>
  <entry>
    <title>如何看mdstat文件</title>
    <url>/post/eb10.html</url>
    <content><![CDATA[<p>指导文件： <a href="https://raid.wiki.kernel.org/index.php/Mdstat">https://raid.wiki.kernel.org/index.php/Mdstat</a></p>
]]></content>
  </entry>
  <entry>
    <title>头文件及keil C的一点经验(转)</title>
    <url>/post/e241.html</url>
    <content><![CDATA[<h1 id="头文件及keil-C的一点经验"><a href="#头文件及keil-C的一点经验" class="headerlink" title="头文件及keil C的一点经验"></a>头文件及keil C的一点经验</h1><p>许多初学者使用网上下载的程序时都会遇到这样一个问题，就是头文件找不到。我想就这个问题说明一下。</p>
<ul>
<li><p>首先，我们用到的KEIL有几种版本的，头文件也不同。有reg51.h和at89x51.h两种比较常见。at89x51和reg51这两个文件有点不同，reg51没有对IO口的位地址进行定义。所以我们在使用reg51的时候，可能会有一些相关语句通不过，比方说P0_1&#x3D;1;这样的位操作。</p>
</li>
<li><p>文件都放在Keil的KEILC\C51\INC目录下，大家可以看看自己的KEIL版本使用了哪个头文件，也有些KEIL封装了reg51和at89x51两个头文件，都可以用。</p>
</li>
<li><p>头文件定义在程序的第一行，方法是#include ，如果提示这个文件找不到可以改为#include 试试。</p>
</li>
<li><p>下面是一些使用心得，网上的.使用Keil C调试某系统时积累的一些经验</p>
</li>
</ul>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>、在<span class="variable">Windows2000</span>下面，我们可以把字体设置为<span class="variable">Courier</span>，这样就可以显示正常。</span><br><span class="line"><span class="number">2</span>、当使用有片外内存的<span class="variable">MCU</span>（如<span class="variable">W77E58</span>，它有<span class="number">1</span><span class="built_in">K</span>片外内存）的时候，肯定要设置标志位，并且编译方式要选择大模式，否则会出错。</span><br><span class="line"><span class="number">3</span>、当使用<span class="variable">Keil</span> <span class="built_in">C</span>跟踪程序运行状态的时候，要把引起<span class="variable">Warning</span>的语句屏蔽，否则有可能跟踪语句的时候会出错。</span><br><span class="line"><span class="number">4</span>、在调用数组的时候，<span class="variable">Keil</span> <span class="built_in">C</span>是首先把数组<span class="variable">Load</span>进内存。如果要在<span class="built_in">C</span>中使用长数组的时候，我们可以使用<span class="variable">code</span>关键字，这样就实现了汇编的<span class="variable">DB</span>的功能，<span class="variable">Keil</span> <span class="built_in">C</span>是不会把标志<span class="variable">code</span>的数组<span class="variable">Load</span>入内存的，它会直接读取<span class="variable">Rom</span>。</span><br><span class="line"><span class="number">5</span>、拉高管脚的执行速度远远比检查管脚电平的要快。当编程涉及到有关通信，时序是很重要的。</span><br><span class="line"><span class="number">6</span>、在等待管脚电平变化的时候，我们需要设置好超时处理，否则程序就会因为一个没有预计的错误而死锁。</span><br><span class="line"><span class="number">7</span>、能用<span class="built_in">C</span>语言实现的地方，尽量不要用汇编，尤其在算法的实现，用汇编是晦涩难懂。</span><br><span class="line"><span class="number">8</span>、程序的几个参数数组所占篇幅很大，其中液晶背景数组最长，有四千个<span class="built_in">Byte</span>，因而把那些初始化数组都放在另外一个<span class="built_in">C</span>文件，在主文件使用使用关键字<span class="variable">extern</span>定义，这样就不会对主文件的编写造成干扰。</span><br><span class="line"><span class="number">9</span>、所有函数之间的相关性越低越有利于以后功能的扩展。</span><br><span class="line"><span class="number">10</span>、<span class="number">6.20</span>版在编译带<span class="variable">code</span>关键字的数组时，编译通过但是单片机运行结果是错误的，改用<span class="number">6.14</span>版后正常。</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>百度空间的旧文章</category>
      </categories>
      <tags>
        <tag>keil</tag>
      </tags>
  </entry>
  <entry>
    <title>如何进入正在运行的Docker容器</title>
    <url>/post/7007.html</url>
    <content><![CDATA[<p>网上有很多种方式，比如ssh什么的。但下面这种方法我认为应该是最好，最方便的。</p>
<p>&#96;<br>$ sudo docker ps<br>$ sudo docker exec -it 775c7c9ee1e1 &#x2F;bin&#x2F;bash</p>
<p>&#96;</p>
<p>其中775c7c9ee1e1是容器的运行时id。</p>
]]></content>
      <categories>
        <category>docker</category>
        <category>未分类</category>
      </categories>
  </entry>
  <entry>
    <title>如何自己编译Logsaw</title>
    <url>/post/a903.html</url>
    <content><![CDATA[<p>Logsaw是一个非常不错的日志分析工具，自已编译一定要严格按照它的编译教程来做。自己花了一些时间，对eclipse不熟悉。</p>
<p>教程的链接：<a href="http://logsaw.sourceforge.net/?page_id=260">http://logsaw.sourceforge.net/?page_id=260</a></p>
<p>重点要关注的：eclipse版本选择：the latest version of Eclipse for RCP and RAP Developers.</p>
<p>下载代码，导入工程一般不会有问题。这里就不说了。下面的要注意：</p>
<p>1. navigate into the releng project, and open the workspace.target file in there. In the Target Definition editor, hit the <strong>Set as Target</strong> Platform button in the upper right corner. 打开releng工程的workspace.target文件，然后点击这一页上面的链接Set as Target,然后要等一会儿，应该是去网上下载东西去了。</p>
<p>2. right-click on the releng project and choose Run As &gt; Maven build…. In the following dialog, enter the goals <strong>clean package</strong> and then hit run. Run As会出来几个，一定要找那个可以输入goals的，然后输入clean package然Run就可以了。为毛是clean package啊，好迷惑。</p>
<p>3. 生成的安装在这里：&#x2F;net.sf.logsaw.site.feature&#x2F;target&#x2F;products</p>
]]></content>
      <categories>
        <category>日志系统</category>
      </categories>
      <tags>
        <tag>log</tag>
      </tags>
  </entry>
  <entry>
    <title>常见图表与用途</title>
    <url>/post/639e.html</url>
    <content><![CDATA[<table width="100%" border="1"> <tbody> <tr> <td>主类 </td> <td>次类 </td> <td>用途 </td> </tr> <tr> <td rowspan="2">折线图</td> <td>折线图</td> <td>用于反应和时间相关的数据变化（趋势）。</td> </tr> <tr> <td>面积图</td> <td>用于反应主次之间基于时间的对比。</td> </tr> <tr> <td rowspan="4">柱状图</td> <td>柱状图</td> <td>分类项目的数量比较。也能反应趋势。</td> </tr> <tr> <td>条形图</td> <td>分类项目的数量比较。</td> </tr> <tr> <td>环状条形图</td> <td>分类项目的数量比较。更能反应项目之间的数量关系。</td> </tr> <tr> <td>南丁格尔玫瑰图</td> <td>以夸张的形式来表示分类项目的数量对比</td> </tr> <tr> <td rowspan="3">饼状图</td> <td>饼状图</td> <td>反映分类数据反占比例</td> </tr> <tr> <td>旭日图</td> <td>表示比例对比的同时，也表示层次关系</td> </tr> <tr> <td>对状图</td> <td>表示比例，可以多层线。</td> </tr> <tr> <td rowspan="3">散点图</td> <td>散点图</td> <td>反应相关性和分布关系，两个变量</td> </tr> <tr> <td>气泡图</td> <td>反应相关性和分布关系，三个变量</td> </tr> <tr> <td>带线散点</td> <td>趋势线</td> </tr> <tr> <td>地图</td> <td>地图</td> <td>反应空间信息</td> </tr> <tr> <td rowspan="3">其它图</td> <td>股价图/箱线图</td> <td>反映数据分散情况</td> </tr> <tr> <td>直方图</td> <td>反映数据分布</td> </tr> <tr> <td>瀑布图</td> <td>数量变化的过程</td> </tr> </tbody> </table>
]]></content>
      <categories>
        <category>数据分析</category>
      </categories>
      <tags>
        <tag>数据分析</tag>
      </tags>
  </entry>
  <entry>
    <title>广州自驾旅游攻略</title>
    <url>/post/61b3.html</url>
    <content><![CDATA[<h1 id="广州自驾旅游攻略"><a href="#广州自驾旅游攻略" class="headerlink" title="广州自驾旅游攻略"></a>广州自驾旅游攻略</h1><p>本攻略专为自驾游客设计，详细介绍广州及周边地区的自驾路线规划、交通状况、停车信息及实用贴士，帮助您享受便捷、舒适的广州自驾之旅。</p>
<h2 id="最佳自驾时间"><a href="#最佳自驾时间" class="headerlink" title="最佳自驾时间"></a>最佳自驾时间</h2><p>广州属于亚热带季风气候，全年温暖湿润。<strong>最佳自驾时间为10月至次年4月</strong>，这段时间气温适宜，降水较少，道路状况良好，非常适合自驾出行。</p>
<ul>
<li><strong>春季（3-5月）</strong>：气温逐渐回暖，鲜花盛开，是欣赏广州城市美景的好时节。</li>
<li><strong>夏季（6-9月）</strong>：炎热潮湿，多雷阵雨，容易出现暴雨积水，不太适合长时间自驾。</li>
<li><strong>秋季（10-11月）</strong>：秋高气爽，温度适宜，是自驾的黄金季节。</li>
<li><strong>冬季（12-2月）</strong>：温暖少雨，偶尔会有短暂的低温天气，但总体适合自驾。</li>
</ul>
<h2 id="自驾路线规划"><a href="#自驾路线规划" class="headerlink" title="自驾路线规划"></a>自驾路线规划</h2><h3 id="市区精华自驾路线（1-2天）"><a href="#市区精华自驾路线（1-2天）" class="headerlink" title="市区精华自驾路线（1-2天）"></a>市区精华自驾路线（1-2天）</h3><p><strong>经典市区环线</strong>：</p>
<ul>
<li>起点：任选市区酒店</li>
<li>路线：广州塔 → 珠江新城 → 海心沙 → 广州大道 → 越秀公园 → 陈家祠 → 沙面岛 → 上下九步行街 → 广州塔（环线）</li>
<li>全程：约30公里</li>
<li>建议游玩：1-2天，可根据兴趣选择景点停留</li>
</ul>
<p><strong>特色体验</strong>：这条路线串联了广州的现代地标和历史文化景点，既能欣赏广州的城市天际线，又能感受岭南传统文化的魅力。</p>
<h3 id="广州周边自驾路线（2-3天）"><a href="#广州周边自驾路线（2-3天）" class="headerlink" title="广州周边自驾路线（2-3天）"></a>广州周边自驾路线（2-3天）</h3><p><strong>广州-从化生态之旅</strong>：</p>
<ul>
<li>路线：广州市区 → 帽峰山森林公园 → 从化温泉度假区 → 流溪河国家森林公园 → 石门国家森林公园 → 返回广州市区</li>
<li>全程：约200公里</li>
<li>建议游玩：2-3天</li>
</ul>
<p><strong>特色体验</strong>：这条路线以自然风光和生态旅游为主题，适合喜欢亲近自然、享受温泉的游客。</p>
<p><strong>广州-顺德美食之旅</strong>：</p>
<ul>
<li>路线：广州市区 → 番禺长隆旅游度假区 → 顺德清晖园 → 逢简水乡 → 顺德美食街 → 返回广州市区</li>
<li>全程：约120公里</li>
<li>建议游玩：2天</li>
</ul>
<p><strong>特色体验</strong>：这条路线将广州和顺德的美食、景点结合，既能游玩，又能品尝地道的广东美食。</p>
<h2 id="抵达广州自驾路线"><a href="#抵达广州自驾路线" class="headerlink" title="抵达广州自驾路线"></a>抵达广州自驾路线</h2><h3 id="从周边城市自驾到广州"><a href="#从周边城市自驾到广州" class="headerlink" title="从周边城市自驾到广州"></a>从周边城市自驾到广州</h3><ul>
<li><strong>深圳-广州</strong>：<ul>
<li>路线：深圳市区 → 广深高速（G4）→ 广州市区</li>
<li>全程：约120公里</li>
<li>车程：约2小时</li>
<li>注意事项：广深高速车流量大，建议避开早晚高峰。</li>
</ul>
</li>
</ul>
<h2 id="广州市区交通状况与注意事项"><a href="#广州市区交通状况与注意事项" class="headerlink" title="广州市区交通状况与注意事项"></a>广州市区交通状况与注意事项</h2><h3 id="交通拥堵情况"><a href="#交通拥堵情况" class="headerlink" title="交通拥堵情况"></a>交通拥堵情况</h3><p>广州作为一线城市，交通拥堵较为严重，特别是以下时段和区域：</p>
<ul>
<li><strong>高峰期</strong>：周一至周五 7:30-9:30 和 17:00-19:30</li>
<li><strong>拥堵区域</strong>：天河CBD、环市东路、广州大道、珠江新城、上下九步行街周边</li>
</ul>
<p><strong>避堵建议</strong>：</p>
<ul>
<li>尽量避开高峰期出行</li>
<li>使用导航软件实时查看路况，选择最优路线</li>
<li>前往热门景点可考虑将车停在附近停车场，步行或乘坐公共交通前往</li>
</ul>
<h3 id="限行政策"><a href="#限行政策" class="headerlink" title="限行政策"></a>限行政策</h3><p>广州市实行”开四停四”限行政策：</p>
<ul>
<li><strong>限行区域</strong>：广州市区（不含高速公路、华南快速干线、东南西环城市快速路）</li>
<li><strong>限行时间</strong>：工作日 7:00-9:00 和 17:00-20:00</li>
<li><strong>限行规则</strong>：非广州市籍中小客车进入限行区域连续行驶时间最长不得超过4天（自然日），再次进入须间隔4天（自然日）以上</li>
</ul>
<p><strong>注意事项</strong>：</p>
<ul>
<li>限行措施不包括法定节假日和休息日</li>
<li>违反限行规定将被处以200元罚款并记3分</li>
<li>建议使用导航软件或广州交警官方APP查询实时限行信息</li>
</ul>
<h3 id="高速公路与快速路"><a href="#高速公路与快速路" class="headerlink" title="高速公路与快速路"></a>高速公路与快速路</h3><p>广州拥有发达的高速公路和快速路网络，主要包括：</p>
<ul>
<li><strong>环城高速（S81）</strong>：环绕广州市区的高速公路，连接多条进出广州的高速公路</li>
<li><strong>华南快速干线（S4）</strong>：南北走向的快速路，连接广州城区与番禺、从化等地</li>
<li><strong>南沙港快速（S105）</strong>：连接广州市区与南沙区的快速路</li>
<li><strong>机场高速（S41）</strong>：连接广州市区与白云国际机场的高速公路</li>
</ul>
<p><strong>驾驶建议</strong>：</p>
<ul>
<li>注意限速标志，保持安全车距</li>
<li>提前规划出口，避免错过出口</li>
<li>遇到拥堵时保持耐心，不要占用应急车道</li>
</ul>
<h2 id="停车指南"><a href="#停车指南" class="headerlink" title="停车指南"></a>停车指南</h2><h3 id="市区主要景点停车场"><a href="#市区主要景点停车场" class="headerlink" title="市区主要景点停车场"></a>市区主要景点停车场</h3><table>
<thead>
<tr>
<th>景点名称</th>
<th>停车场位置</th>
<th>收费标准</th>
<th>车位情况</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>广州塔</td>
<td>广州塔地下停车场</td>
<td>10元&#x2F;小时</td>
<td>约500个</td>
<td>节假日车位紧张，建议提前到达</td>
</tr>
<tr>
<td>陈家祠</td>
<td>陈家祠西侧停车场</td>
<td>8元&#x2F;小时</td>
<td>约100个</td>
<td>车位较少，高峰期可能无位</td>
</tr>
<tr>
<td>越秀公园</td>
<td>越秀公园南门、北门停车场</td>
<td>6元&#x2F;小时</td>
<td>约300个</td>
<td>南门停车场靠近主要景点</td>
</tr>
<tr>
<td>沙面岛</td>
<td>沙面岛内多个小型停车场</td>
<td>10元&#x2F;小时</td>
<td>约200个</td>
<td>岛上道路狭窄，建议在岛外停车</td>
</tr>
<tr>
<td>天河城</td>
<td>天河城地下停车场</td>
<td>15元&#x2F;小时</td>
<td>约1000个</td>
<td>消费可凭小票减免停车费</td>
</tr>
<tr>
<td>珠江新城</td>
<td>花城广场地下停车场</td>
<td>12元&#x2F;小时</td>
<td>约2000个</td>
<td>停车场较大，分多个区域，注意记好停车位置</td>
</tr>
<tr>
<td>长隆旅游度假区</td>
<td>各园区专用停车场</td>
<td>20元&#x2F;次（全天）</td>
<td>约5000个</td>
<td>节假日人流量大，建议早到</td>
</tr>
<tr>
<td>北京路文化旅游区</td>
<td>广百百货地下停车场</td>
<td>15元&#x2F;小时</td>
<td>约300个</td>
<td>商业区车位紧张，建议公共交通前往</td>
</tr>
<tr>
<td>上下九步行街</td>
<td>荔湾广场地下停车场</td>
<td>10元&#x2F;小时</td>
<td>约400个</td>
<td>周边道路拥堵，建议错峰前往</td>
</tr>
</tbody></table>
<h3 id="商场与酒店停车场"><a href="#商场与酒店停车场" class="headerlink" title="商场与酒店停车场"></a>商场与酒店停车场</h3><p>广州的大型商场和酒店普遍提供收费停车场，收费标准一般为10-20元&#x2F;小时。以下是一些主要商场的停车信息：</p>
<table>
<thead>
<tr>
<th>商场名称</th>
<th>停车场位置</th>
<th>收费标准</th>
<th>优惠政策</th>
</tr>
</thead>
<tbody><tr>
<td>天河城</td>
<td>天河路208号</td>
<td>15元&#x2F;小时</td>
<td>消费满300元免费停车2小时</td>
</tr>
<tr>
<td>太古汇</td>
<td>天河路385号</td>
<td>15元&#x2F;小时</td>
<td>消费满500元免费停车2小时</td>
</tr>
<tr>
<td>正佳广场</td>
<td>天河路228号</td>
<td>12元&#x2F;小时</td>
<td>消费满200元免费停车1小时</td>
</tr>
<tr>
<td>万菱汇</td>
<td>天河路385号</td>
<td>12元&#x2F;小时</td>
<td>消费满100元免费停车1小时</td>
</tr>
<tr>
<td>凯德广场·云尚</td>
<td>云城西路890号</td>
<td>10元&#x2F;小时</td>
<td>消费满100元免费停车2小时</td>
</tr>
</tbody></table>
<h3 id="免费及低价停车场推荐"><a href="#免费及低价停车场推荐" class="headerlink" title="免费及低价停车场推荐"></a>免费及低价停车场推荐</h3><table>
<thead>
<tr>
<th>地点</th>
<th>停车场位置</th>
<th>收费标准</th>
<th>车位情况</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>广州市图书馆</td>
<td>珠江新城冼村路</td>
<td>免费</td>
<td>约300个</td>
<td>需凭读者证进入，限停3小时</td>
</tr>
<tr>
<td>广东省博物馆</td>
<td>珠江新城冼村路</td>
<td>免费</td>
<td>约200个</td>
<td>需提前预约，限停3小时</td>
</tr>
<tr>
<td>海珠湿地公园</td>
<td>新滘中路168号</td>
<td>10元&#x2F;次</td>
<td>约500个</td>
<td>节假日车位紧张</td>
</tr>
<tr>
<td>广州国际生物岛</td>
<td>星岛环南路</td>
<td>5元&#x2F;小时</td>
<td>约300个</td>
<td>环境优美，适合周末休闲</td>
</tr>
<tr>
<td>黄埔古港</td>
<td>石基路</td>
<td>10元&#x2F;次</td>
<td>约200个</td>
<td>周边有众多美食，周末人流量大</td>
</tr>
</tbody></table>
<h3 id="立体停车场信息"><a href="#立体停车场信息" class="headerlink" title="立体停车场信息"></a>立体停车场信息</h3><p>广州部分区域建设了立体停车场，这些停车场通常位于寸土寸金的市中心，虽然停车流程相对复杂，但能有效缓解停车难问题：</p>
<ul>
<li><strong>天河体育中心立体停车场</strong>：天河路299号，收费12元&#x2F;小时，约有500个车位</li>
<li><strong>广州东站立体停车场</strong>：天河区东站路1号，收费10元&#x2F;小时，约有800个车位</li>
<li><strong>海珠广场立体停车场</strong>：越秀区起义路1号，收费15元&#x2F;小时，约有300个车位</li>
</ul>
<h3 id="停车APP与小程序推荐"><a href="#停车APP与小程序推荐" class="headerlink" title="停车APP与小程序推荐"></a>停车APP与小程序推荐</h3><p>以下APP和小程序可以帮助您更便捷地查找和预订停车位：</p>
<ul>
<li><strong>广州停车</strong>：广州市官方停车APP，提供实时车位查询、导航、线上支付等功能</li>
<li><strong>ETCP停车</strong>：覆盖广州大部分商场、小区停车场，支持无感支付</li>
<li><strong>小强停车</strong>：专注于机场、高铁站周边停车场预订，价格实惠</li>
<li><strong>高德地图&#x2F;百度地图</strong>：除导航功能外，也提供附近停车场查询和实时车位信息</li>
</ul>
<h2 id="自驾实用工具与服务"><a href="#自驾实用工具与服务" class="headerlink" title="自驾实用工具与服务"></a>自驾实用工具与服务</h2><h3 id="紧急救援与服务"><a href="#紧急救援与服务" class="headerlink" title="紧急救援与服务"></a>紧急救援与服务</h3><ul>
<li><strong>道路救援</strong>：<ul>
<li>广东省交通集团服务热线：020-96998</li>
<li>高速公路救援：12122</li>
</ul>
</li>
<li><strong>医疗急救</strong>：120</li>
<li><strong>报警电话</strong>：110</li>
<li><strong>车险理赔</strong>：根据自己投保的保险公司拨打相应的理赔电话</li>
</ul>
<h3 id="加油站信息"><a href="#加油站信息" class="headerlink" title="加油站信息"></a>加油站信息</h3><p>广州各主要道路、高速公路沿线均有加油站，主要包括中石化、中石油、壳牌等品牌。建议在出发前确保油箱有足够燃油，特别是前往郊区或周边地区时。</p>
]]></content>
      <categories>
        <category>旅行</category>
        <category>国内游</category>
        <category>自驾游</category>
      </categories>
      <tags>
        <tag>广州</tag>
        <tag>自驾游</tag>
        <tag>交通攻略</tag>
      </tags>
  </entry>
  <entry>
    <title>数据库学习之关键字DISTINCT</title>
    <url>/post/1e1d.html</url>
    <content><![CDATA[<p>如果一列的值有多个，查询的时间，这些值是会多次返回的。如果不在乎次数，只在有没有。也就是出现过了就不要再出现了，要实现这样的查询就要用到DISTINCT关键字。</p>
<p>其用法如下：</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> **<span class="keyword">DISTINCT</span>** vend_ id <span class="keyword">FROM</span> Products;</span><br></pre></td></tr></table></figure>

<p>[美]Ben Forta. SQL必知必会（第4版） (图灵程序设计丛书 80) (Kindle Location 325). 人民邮电出版社. Kindle Edition.</p>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
      <tags>
        <tag>database</tag>
      </tags>
  </entry>
  <entry>
    <title>日志设计</title>
    <url>/post/4fc7.html</url>
    <content><![CDATA[<h1 id="C语言版本"><a href="#C语言版本" class="headerlink" title="C语言版本"></a>C语言版本</h1><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">/<span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span>**</span><br><span class="line"><span class="bullet">*</span>                LOG DEFINE                   *</span><br><span class="line"><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">**/</span></span><br><span class="line"><span class="strong">// OFF FATAL ERROR WARN INFO DEBUG TRACE</span></span><br><span class="line"><span class="strong">//  0    1     2     3    4    5     6</span></span><br><span class="line"><span class="strong">#define OFF   (0)</span></span><br><span class="line"><span class="strong">#define FATAL (1)</span></span><br><span class="line"><span class="strong">#define ERROR (2)</span></span><br><span class="line"><span class="strong">#define WARN  (3)</span></span><br><span class="line"><span class="strong">#define INFO  (4)</span></span><br><span class="line"><span class="strong">#define DEBUG (5)</span></span><br><span class="line"><span class="strong">#define TRACE (6)</span></span><br><span class="line"><span class="strong"></span></span><br><span class="line"><span class="strong">#define LOG<span class="emphasis">_LEVEL DEBUG</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">#define LOG(level, format, ...) \</span></span></span><br><span class="line"><span class="emphasis"><span class="strong">    if(LOG_</span>LEVEL &gt;= level) &#123; \</span></span><br><span class="line"><span class="strong">        fprintf(stderr, &quot;[%s|%s@%s,%d] &quot; format &quot;\n&quot;, \</span></span><br><span class="line"><span class="strong">            #level, _<span class="emphasis">_func_</span><span class="emphasis">_, _</span><span class="emphasis">_FILE_</span><span class="emphasis">_, _</span><span class="emphasis">_LINE_</span><span class="emphasis">_, ##_</span><span class="emphasis">_VA_</span>ARGS__ ); \</span></span><br><span class="line"><span class="strong">    &#125; </span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>代码</category>
      </categories>
      <tags>
        <tag>程序</tag>
      </tags>
  </entry>
  <entry>
    <title>树莓派docker运行报错</title>
    <url>/post/59a5.html</url>
    <content><![CDATA[<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>This is because the docker service is not automatically started after an install. You can start the docker service in Ubuntu and its derivatives (looking at you Linux Mint) by typing: sudo service docker start To check that docker started, this file should exist: ls -la &#x2F;var&#x2F;run&#x2F;docker.sock</p>
]]></content>
  </entry>
  <entry>
    <title>树莓派上安装docker</title>
    <url>/post/baf1.html</url>
    <content><![CDATA[<p>这应该是现在在树莓派上安装docker的最简单的方法了，因为是使用别人做好的镜像文件，通过SD卡烧写的方式，直接就可以用了。</p>
<p>参照下面的这个网址，在这个网站下载镜像，树莓派2B亲测是可用的。</p>
<p><a href="http://blog.hypriot.com/getting-started-with-docker-on-your-arm-device/">http://blog.hypriot.com/getting-started-with-docker-on-your-arm-device/</a></p>
<p>如果下载慢，可以从我的百度网盘上下载：</p>
<p>链接：<a href="http://pan.baidu.com/s/1dD94bU5">http://pan.baidu.com/s/1dD94bU5</a> 密码：2coe</p>
<p>&nbsp;</p>
]]></content>
      <categories>
        <category>docker</category>
        <category>树莓派</category>
      </categories>
  </entry>
  <entry>
    <title>树莓派的Web ssh</title>
    <url>/post/8033.html</url>
    <content><![CDATA[<p><a href="https://www.instructables.com/id/Raspberry-Pi-online-SSH-easy-way/">https://www.instructables.com/id/Raspberry-Pi-online-SSH-easy-way/</a></p>
]]></content>
  </entry>
  <entry>
    <title>深圳自驾去长沙</title>
    <url>/post/61a2.html</url>
    <content><![CDATA[<p>长沙旅游感想</p>
<p>为时6天的长沙之行结束🔚了 此为行程记录和游览感想 可供参考💖</p>
<h2 id="Day-1-高椅岭"><a href="#Day-1-高椅岭" class="headerlink" title="Day 1 高椅岭"></a>Day 1 高椅岭</h2><p>感受：山清水秀。天空倒映在水面，形成水天一色的景色。适合赏景，感受自然。</p>
<p>好处：空气清新 景色秀丽</p>
<p>坏处：山高路远 途中补给点少 食物最好自备</p>
<h2 id="Day2-东江湖"><a href="#Day2-东江湖" class="headerlink" title="Day2 东江湖"></a>Day2 东江湖</h2><p>感受：湖水是正宗的湖蓝色，层峦叠嶂 。渔夫撒网景色虽然具有山水气息，但并不是真的（而是表演）。坐船可以参观溶洞，和银子岩溶洞一样。溶洞里很湿冷，地很滑，没什么特别的，不建议❌。船上风景没什么特别的😓。</p>
<p>好处：风景秀丽 空气清新 体验烟雨江南生活（？。</p>
<p>坏处：景区商业化 机械化的诗意</p>
<h2 id="Day-3-石鼓书院➕东洲岛"><a href="#Day-3-石鼓书院➕东洲岛" class="headerlink" title="Day 3 石鼓书院➕东洲岛"></a>Day 3 石鼓书院➕东洲岛</h2><p>感受：石鼓书院很有书香气息，有一些历史介绍。有一个背诗领奖品的活动，适合小朋友👧。东洲岛可以看到很多在湘江游泳的人。就是一个普通的公园，不建议❌。</p>
<p>好处：体验衡阳市民的日常生活，感受悠闲的氛围。学习历史。人少。</p>
<p>坏处：很累 景色单一 无聊。</p>
<h2 id="Day4-南岳衡山"><a href="#Day4-南岳衡山" class="headerlink" title="Day4 南岳衡山"></a>Day4 南岳衡山</h2><p>感受：坐了一个小车上了大部分的山。坐在靠窗的位置可以感受到习习的凉风。上山的过程很累，有抬轿子的（坐了会被围观😼）。山上有各种石碑可以拍照（平安石…等等）。山顶有寺庙可以参拜。（注意：千万不要买香！！山上有免费🆓的三支）。</p>
<p>好处：锻炼身体 打卡五岳之一</p>
<p>坏处：累 人多。</p>
<h2 id="Day-5-湖南大学➕岳麓山➕五一广场➕恰同学少年广场"><a href="#Day-5-湖南大学➕岳麓山➕五一广场➕恰同学少年广场" class="headerlink" title="Day 5 湖南大学➕岳麓山➕五一广场➕恰同学少年广场"></a>Day 5 湖南大学➕岳麓山➕五一广场➕恰同学少年广场</h2><p>感受：湖南大学环境挺好的 不是靠近景区的地方挺幽雅僻静的。岳麓山大部分人都在爱晚亭和爱心树打卡😂。有精力的可以上山（挺陡峭的），山上有卖吃的。五一广场除了吃就是吃，建议空腹去。恰同学少年广场是不错的毛主席雕像取景地，人挺多的。</p>
<p>好处：网红打卡 锻炼身体 休闲放松。</p>
<p>坏处：人多 跟风的多 累。</p>
<h2 id="Day6-橘子洲头"><a href="#Day6-橘子洲头" class="headerlink" title="Day6 橘子洲头"></a>Day6 橘子洲头</h2><p>走的腿超级累。。不想走路的一定要坐车🚗这个景点主要就是拍那个雕像，可以去恰同学少年广场拍平替。</p>
<p>好处：拍照📷打卡</p>
<p>坏处：网红打卡点人多 无聊</p>
<h2 id="Day7-李自健博物馆"><a href="#Day7-李自健博物馆" class="headerlink" title="Day7 李自健博物馆"></a>Day7 李自健博物馆</h2><p>里面有很多精美的油画🖼️，有乡土童年</p>
]]></content>
      <categories>
        <category>旅行</category>
        <category>国内游</category>
        <category>自驾游</category>
      </categories>
      <tags>
        <tag>自驾游</tag>
      </tags>
  </entry>
  <entry>
    <title>用阿里云解决Jcenter下载太慢的问题。</title>
    <url>/post/9a9c.html</url>
    <content><![CDATA[<p><strong>亲测速度，极好。</strong></p>
<p>使用阿里云的国内镜像仓库地址，修改项目根目录下的文件 build.gradle ：</p>
<p>&#96;<br>buildscript {<br>   repositories {<br>        maven{ url ‘<a href="http://maven.aliyun.com/nexus/content/groups/public/'%7D">http://maven.aliyun.com/nexus/content/groups/public/&#39;}</a><br>    }<br>}</p>
<p>allprojects {<br>    repositories {<br>        maven{ url ‘<a href="http://maven.aliyun.com/nexus/content/groups/public/'%7D">http://maven.aliyun.com/nexus/content/groups/public/&#39;}</a><br>    }<br>}<br>&#96;</p>
<p>然后选择重新构建项目就可以了</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>编写Dockerfile的原则</title>
    <url>/post/e1f9.html</url>
    <content><![CDATA[<p>一篇文章的总结：原文在<a href="http://cizixs.com/2017/03/28/dockerfile-best-practice">这里</a></p>
<blockquote>
<p>1. 使用统一的 base 镜像</p>
<p>有些文章讲优化镜像会提倡使用尽量小的基础镜像，比如 busybox 或者 alpine 等。我更推荐使用统一的大家比较熟悉的基础镜像，比如 ubuntu，centos 等，因为基础镜像只需要下载一次可以共享，并不会造成太多的存储空间浪费。它的好处是这些镜像的生态比较完整，方便我们安装软件，除了问题进行调试。</p>
<p>2. 动静分离</p>
<p>经常变化的内容和基本不会变化的内容要分开，把不怎么变化的内容放在下层，创建出来不同基础镜像供上层使用。比如可以创建各种语言的基础镜像，python2.7、python3.4、go1.7、java7等等，这些镜像包含了最基本的语言库，每个组可以在上面继续构建应用级别的镜像。</p>
<p>3. 最小原则：只安装必需的东西</p>
<p>很多人构建镜像的时候，都有一种冲动——把可能用到的东西都打包到镜像中。要遏制这种想法，镜像中应该只包含必需的东西，任何可以有也可以没有的东西都不要放到里面。因为镜像的扩展很容易，而且运行容器的时候也很方便地对其进行修改。这样可以保证镜像尽可能小，构建的时候尽可能快，也保证未来的更快传输、更省网络资源。</p>
<p>4. 一个原则：每个镜像只有一个功能</p>
<p>不要在容器里运行多个不同功能的进程，每个镜像中只安装一个应用的软件包和文件，需要交互的程序通过 pod（kubernetes 提供的特性） 或者容器之间的网络进行交流。这样可以保证模块化，不同的应用可以分开维护和升级，也能减小单个镜像的大小。</p>
<p>5. 使用更少的层</p>
<p>虽然看起来把不同的命令尽量分开来，写在多个命令中容易阅读和理解。但是这样会导致出现太多的镜像层，而不好管理和分析镜像，而且镜像的层是有限的。尽量把相关的内容放到同一个层，使用换行符进行分割，这样可以进一步减小镜像大小，并且方便查看镜像历史。</p>
<p>6. 减少每层的内容</p>
<p>尽管只安装必须的内容，在这个过程中也可能会产生额外的内容或者临时文件，我们要尽量让每层安装的东西保持最小。</p>
<p>比如使用 –no-install-recommends 参数告诉 apt-get 不要安装推荐的软件包<br>安装完软件包，清楚 &#x2F;var&#x2F;lib&#x2F;apt&#x2F;list&#x2F; 缓存<br>删除中间文件：比如下载的压缩包<br>删除临时文件：如果命令产生了临时文件，也要及时删除<br>7. 不要在 Dockerfile 中修改文件的权限</p>
<p>因为 docker 镜像是分层的，任何修改都会新增一个层，修改文件或者目录权限也是如此。如果修改大文件或者目录的权限，会把这些文件复制一份，这样很容易导致镜像很大。</p>
<p>解决方案也很简单，要么在添加到 Dockerfile 之前就把文件的权限和用户设置好，要么在容器启动脚本（entrypoint）做这些修改。</p>
<p>8. 利用 cache 来加快构建速度</p>
<p>如果 Docker 发现某个层已经存在了，它会直接使用已经存在的层，而不会重新运行一次。如果你连续运行 docker build 多次，会发现第二次运行很快就结束了。</p>
<p>不过从 1.10 版本开始，Content Addressable Storage 的引入导致缓存功能的实效，目前引入了 –cache-from 参数可以手动指定一个镜像来使用它的缓存。</p>
<p>9. 版本控制和自动构建</p>
<p>最好把 Dockerfile 和对应的应用代码一起放到版本控制中，然后能够自动构建镜像。这样的好处是可以追踪各个版本镜像的内容，方便了解不同镜像有什么区别，对于调试和回滚都有好处。</p>
<p>另外，如果运行镜像的参数或者环境变量很多，也要有对应的文档给予说明，并且文档要随着 Dockerfile 变化而更新，这样任何人都能参考着文档很容易地使用镜像，而不是下载了镜像不知道怎么用。</p>
</blockquote>
]]></content>
      <categories>
        <category>docker</category>
      </categories>
  </entry>
  <entry>
    <title>苹果软件发布问题汇总</title>
    <url>/post/56c9.html</url>
    <content><![CDATA[<h1 id="苹果软件发布问题汇总"><a href="#苹果软件发布问题汇总" class="headerlink" title="苹果软件发布问题汇总"></a>苹果软件发布问题汇总</h1><h3 id="上传程序不能在可选列表中显示出来怎么办？"><a href="#上传程序不能在可选列表中显示出来怎么办？" class="headerlink" title="上传程序不能在可选列表中显示出来怎么办？"></a>上传程序不能在可选列表中显示出来怎么办？</h3><p>检查开发者帐号的邮箱，会把是什么原因导制的通过邮件发过来。比较奇怪是上传过程不会有任何提示，ituneconnect帐号中也不会提示。比较挫。</p>
<p>出现上面的情况，一般都是程序里面的权限设置问题。</p>
<h3 id="发布硬件配合的程序"><a href="#发布硬件配合的程序" class="headerlink" title="发布硬件配合的程序"></a>发布硬件配合的程序</h3><p>发布程序的时候最好配一个联机演示的视频。不然的话，他后面会让你补上，浪费时间。</p>
<h3 id="xcode打包的地方上传不了"><a href="#xcode打包的地方上传不了" class="headerlink" title="xcode打包的地方上传不了"></a>xcode打包的地方上传不了</h3><p>遇到过这种情况，这里怎么也传不了，一直正在进行，不完成。可以从xcode的那个菜单里面调出一个独立的工具出来。这个工具一般比较好用。</p>
<p>遇到过 遇小化那个上传界面，然后恢复。就会提示已上传完成。其实根本就没有成功上传，完全是骗人的。</p>
]]></content>
  </entry>
  <entry>
    <title>解决Docker的两个问题</title>
    <url>/post/3c14.html</url>
    <content><![CDATA[<p>解决运行docker 命令一直要用sudo的问题</p>
<h1 id="添加docker用户组"><a href="#添加docker用户组" class="headerlink" title="添加docker用户组"></a>添加docker用户组</h1><p>$ sudo groupadd docker</p>
<h1 id="把自己加到docker用户组中"><a href="#把自己加到docker用户组中" class="headerlink" title="把自己加到docker用户组中"></a>把自己加到docker用户组中</h1><p>$ sudo gpasswd -a myusername docker</p>
<h1 id="重启docker后台服务"><a href="#重启docker后台服务" class="headerlink" title="重启docker后台服务"></a>重启docker后台服务</h1><p>$ sudo service docker restart</p>
<h1 id="注销，然后再登陆"><a href="#注销，然后再登陆" class="headerlink" title="注销，然后再登陆"></a>注销，然后再登陆</h1><p>$ exit</p>
<p>删除所有运行的docker容器</p>
<p>$ docker rm $(docker ps -a -q)</p>
]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>解决 package &#39;fontconfig&#39; not found</title>
    <url>/post/8e2e.html</url>
    <content><![CDATA[<h1 id="解决-package-‘fontconfig’-not-found"><a href="#解决-package-‘fontconfig’-not-found" class="headerlink" title="解决 package ‘fontconfig’ not found"></a>解决 package ‘fontconfig’ not found</h1><p>Whenever you get messages about missing packages (or suggestions to modify your PKG_CONFIG_PATH) during a build, it usually indicates that you are missing the corresponding development package - which is typically separate from the runtime package that is normally installed on the system.</p>
<p>In this case you have the most recent version of fontconfig but are probably missing the corresponding libfontconfig1-dev package.</p>
<p>正确的解决方法是安装：<strong>libfontconfig1-dev</strong></p>
]]></content>
      <categories>
        <category>linux</category>
        <category>compile</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>compile</tag>
      </tags>
  </entry>
  <entry>
    <title>解决家里面打印机暂停的问题</title>
    <url>/post/a678.html</url>
    <content><![CDATA[<p>按下面图片所示的界面，去重新开始打印机就可以。 <a href="http://wanqiang.wang/wp-content/uploads/2018/08/printer_paused.png"><img src="http://wanqiang.wang/wp-content/uploads/2018/08/printer_paused-300x172.png"></a></p>
]]></content>
  </entry>
  <entry>
    <title>读书笔记：IOS视图控制器与控件</title>
    <url>/post/aea9.html</url>
    <content><![CDATA[<h1 id="IOS-视图控制器"><a href="#IOS-视图控制器" class="headerlink" title="IOS 视图控制器"></a>IOS 视图控制器</h1><h2 id="视图控制器之间的切换"><a href="#视图控制器之间的切换" class="headerlink" title="视图控制器之间的切换"></a>视图控制器之间的切换</h2><p>在响应的位置，创建需要的视图控制器，然后preset过去。</p>
<h2 id="视图控制器之间传递数据"><a href="#视图控制器之间传递数据" class="headerlink" title="视图控制器之间传递数据"></a>视图控制器之间传递数据</h2><p>1. 通知中心</p>
<p>最简单的方式，缺点就是两个类之前没有关系。</p>
<p>1. 代理模式</p>
<p>采用协议的方式，需要向外传数据的类定义代理，接受数据的类实现协议。协议赋值采用 assign。</p>
<h1 id="IOS-控件"><a href="#IOS-控件" class="headerlink" title="IOS 控件"></a>IOS 控件</h1><ul>
<li>UILabel</li>
<li>UIControl</li>
</ul>
<p>处理事件</p>
<ul>
<li>UIButton</li>
</ul>
<p>处理状态<br>工厂方法：buttonWithType<br>贴图的方法，要使用custorm Type</p>
<p>cancel 事件，来电话和锁屏触发</p>
<ul>
<li>风火轮（UIActivityIndicatorView）</li>
</ul>
<p>显示与停止，显示到状态栏。</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>重启minidlna</title>
    <url>/post/1252.html</url>
    <content><![CDATA[<p>服务器文件大调整，盒子上看文件发现需多不对了，重启一下就好了：<br>用下面的命令：</p>
<pre><code>sudo /etc/init.d/minidlna force-reload 
</code></pre>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
</search>
